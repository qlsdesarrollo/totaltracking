<?xml version='1.0' encoding='ISO-8859-1' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      >

    <h:head>
        <title>TOTAL TRACKING</title>
        <h:outputStylesheet library="css" name="estilo.css"/>
        <h:outputStylesheet library="css" name="font-awesome.min.css"/>
        <script type="text/javascript" src="anfora.js"/>
        <script type="text/javascript" src="es.js"/>

    </h:head>
    <h:body id="mBody" onload="PF('bar').show()" >

        <!--********************************************************************
        ************************** Manejo de sesiones **************************
        *********************************************************************-->

        <h:form id="frmIdle">

            <p:idleMonitor  onidle="PF('sessionTerminada').show();" timeout="#{session.maxInactiveInterval}" >
                <p:ajax event="idle" listener="#{login.unloadbody}" process="@form" />
            </p:idleMonitor>
        </h:form>  

        <p:dialog header="Session Time-Out" widgetVar="sessionTerminada"
                  modal="true" closable="false" width="400" visible="false" resizable="false"
                  styleClass="noBorders"
                  >
            <h:form>
                <h:panelGrid columns="1" style="vertical-align: middle; text-align: center; border-style: none">
                    <h:panelGrid columns="2" style="vertical-align: middle; text-align: center; border-style: none">
                        <h:outputText value="The session has expired due to inactivity, please press the 'Login' button to re-access the application" />
                        <p:graphicImage url="/resources/images/desconectado.png"  /> 
                    </h:panelGrid>

                    <p:commandButton id="confirmBackToLogin" type="button" value="Login"
                                     onclick="window.location = '#{request.contextPath}';" />
                </h:panelGrid>
            </h:form>
        </p:dialog>

        <!--********************************************************************
        ************************** Ventana Ocuapado ****************************
        *********************************************************************-->

        <p:ajaxStatus onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()" />

        <p:dialog widgetVar="statusDialog" modal="true" draggable="false" closable="false" resizable="false" showHeader="false">
            <h:graphicImage value="/resources/images/loading_bar.gif" />
        </p:dialog>

        <!--********************************************************************
        ************************** Barra de Menú *******************************
        *********************************************************************-->

        <h:form id="frmMadre">

            <p:menubar id="menumadre">
                <p:submenu label="Maintenance" icon="fa fa-wrench">
                    <p:submenu label="Help" icon="ui-icon-help">
                        <p:menuitem value="User Manual" icon="ui-icon-note" 
                                    style="width: 130px;"
                                    onclick="PF('wUMM').show()"                                    
                                    />
                    </p:submenu>
                    <p:submenu label="Configuration" icon="ui-icon-star">
                        <p:menuitem value="Countries" icon="ui-icon-flag" 
                                    onclick="PF('wPaises').show()"
                                    update=":frmPaises"
                                    style="width: 130px;"
                                    actionListener="#{manPaises.iniciarventana()}"
                                    disabled="#{manSeguridad.disableOpt('menuPaises')}"
                                    />
                        <p:menuitem value="Warehouses" icon="ui-icon-home" 
                                    onclick="PF('wBod').show()"
                                    update=":frmBod"
                                    style="width: 130px;"
                                    actionListener="#{manBodegas.iniciarventana()}"
                                    disabled="#{manSeguridad.disableOpt('menuBodegas')}"
                                    />
                        <p:menuitem value="Manufacturers" icon="ui-icon-person" 
                                    onclick="PF('wPro').show()"
                                    style="width: 125px;"
                                    action="#{manProveedores.iniciarventana(1)}" 
                                    disabled="#{manSeguridad.disableOpt('menuFabricantes')}"
                                    update=":frmPro"
                                    />
                        <p:menuitem value="Clients" icon="ui-icon-person" 
                                    onclick="PF('wCli').show()"
                                    style="width: 130px;"
                                    action="#{manClientes.iniciarventana(1)}" 
                                    disabled="#{manSeguridad.disableOpt('menuClientesEqu')}"
                                    update=":frmCli"
                                    />
                        <p:menuitem value="Suppliers" icon="ui-icon-person" 
                                    onclick="PF('wSup').show()"
                                    style="width: 125px;"
                                    action="#{manSuppliers.iniciarventana(1)}" 
                                    disabled="#{manSeguridad.disableOpt('menuFabricantes')}"
                                    update=":frmSup"
                                    />
                        <p:menuitem value="Brands" icon="ui-icon-tag" 
                                    onclick="PF('wMarca').show()"
                                    style="width: 125px;"
                                    action="#{manMarcas.iniciarventana()}" 
                                    update=":frmMarca"
                                    disabled="#{manSeguridad.disableOpt('menuMarcas')}"
                                    />
                        <p:menuitem value="Maintenance Type" icon="ui-icon-wrench" 
                                    onclick="PF('wTipMan').show()"
                                    style="width: 125px;"
                                    action="#{manTipos.iniciarventana()}" 
                                    update=":frmTipMan"
                                    disabled="#{manSeguridad.disableOpt('menuTipoMtto')}"
                                    />
                        <p:menuitem value="Actions" icon="ui-icon-wrench" 
                                    onclick="PF('wOpe').show()"
                                    style="width: 125px;"
                                    action="#{manOperaciones.iniciarventana()}" 
                                    update=":frmOpe"
                                    disabled="#{manSeguridad.disableOpt('menuAcciones')}"
                                    />
                        <p:menuitem value="Failures" icon="ui-icon-alert" 
                                    onclick="PF('wGruFal').show()"
                                    style="width: 125px;"
                                    action="#{manGruposFallas.iniciarventana()}" 
                                    update=":frmGruFal"
                                    disabled="#{manSeguridad.disableOpt('menuGrupoFallas')}"
                                    />
                        <p:menuitem value="Equipment Type" icon="ui-icon-gear" 
                                    onclick="PF('wEquipos').show()"
                                    style="width: 125px;"
                                    action="#{manEquipos.iniciarventana()}" 
                                    update=":frmEquipos"
                                    disabled="#{manSeguridad.disableOpt('menuEquipos')}"
                                    />

                    </p:submenu>
                    <p:submenu label="Purchases" icon="ui-icon-cart">

                        <p:menuitem value="New Purch. Order" icon="ui-icon-document" 
                                    onclick="PF('wSol').show()"
                                    update=":frmSol"
                                    style="width: 125px;"
                                    actionListener="#{manSolicitudes.iniciarventana()}"
                                    disabled="#{manSeguridad.disableOpt('menuNuevaSolicitud')}"
                                    />

                        <p:menuitem value="Order Status" icon="ui-icon-help" 
                                    onclick="PF('wEstado').show()"
                                    update=":frmEstado"
                                    style="width: 125px;"
                                    actionListener="#{manEstado.iniciarventana()}"
                                    disabled="#{manSeguridad.disableOpt('menuEstadoSolicitud')}"
                                    />

                        <p:menuitem value="Tracking" icon="ui-icon-search" 
                                    onclick="PF('wSeguimiento').show()"
                                    update=":frmSeguimiento"
                                    style="width: 125px;"
                                    actionListener="#{manSeguimiento.iniciarventana()}"
                                    disabled="#{manSeguridad.disableOpt('menuSeguimientoSolicitud')}"
                                    />
                    </p:submenu>
                    <p:submenu label="Reports" icon="ui-icon-document">
                        <p:menuitem value="Equipment File" icon="ui-icon-document"
                                    onclick="PF('wEquFile').show()"
                                    update=":frmEquFile"
                                    style="width: 125px;"
                                    actionListener="#{manListaEquipos.iniciarventana()}"
                                    />
                        <p:menuitem value="Due Maintenances" icon="ui-icon-document"
                                    onclick="PF('wDueM').show()"
                                    update=":frmDueM"
                                    style="width: 125px;"
                                    actionListener="#{manDueMaintenances.iniciarventana()}"
                                    disabled="#{manSeguridad.disableOpt('menuRepDueM')}"
                                    />
                        <p:menuitem value="Used Parts" icon="ui-icon-document"
                                    onclick="PF('wRepPiePeriodo').show()"
                                    update=":frmRepPiePeriodo"
                                    style="width: 125px;"
                                    actionListener="#{repMantenimiento.iniciarVentana()}"
                                    disabled="#{manSeguridad.disableOpt('menuMattoMaestro')}"
                                    />
                        <p:menuitem value="Spe.Par.Outwards" icon="ui-icon-document"
                                    onclick="PF('wRepPieSaliente').show()"
                                    update=":frmRepPieSaliente"
                                    style="width: 125px;"
                                    actionListener="#{repMantenimiento.iniciarVentana()}"
                                    disabled="#{manSeguridad.disableOpt('menuMattoMaestro')}"
                                    />
                        <p:menuitem value="Opened Orders" icon="ui-icon-document"  
                                    onclick="PF('wRepOpenOrders').show()"
                                    update=":frmRepOpenOrders"
                                    style="width: 125px;"
                                    actionListener="#{repMantenimiento.iniciarVentana()}"
                                    disabled="#{manSeguridad.disableOpt('menuMattoMaestro')}"
                                    />
                        <p:menuitem value="Orders by Eng." icon="ui-icon-document"
                                    onclick="PF('wRepOrdenInge').show()"
                                    update=":frmRepOrdenInge"
                                    style="width: 125px;"
                                    actionListener="#{repMantenimiento.iniciarVentana()}"
                                    disabled="#{manSeguridad.disableOpt('menuMattoMaestro')}"
                                    />
                        <p:menuitem value="PM Compliance" icon="ui-icon-document"
                                    onclick="PF('wRepPMCompliance').show()"
                                    update=":frmRepPMCompliance"
                                    style="width: 125px;"
                                    actionListener="#{repMantenimiento.iniciarVentana()}"
                                    disabled="#{manSeguridad.disableOpt('menuMattoMaestro')}"
                                    />
                    </p:submenu>

                    <p:menuitem value="Parts Inventory" icon="ui-icon-suitcase" 
                                onclick="PF('wInventarioFinal').show()"
                                update=":frmInventarioFinal"
                                style="width: 130px;"
                                actionListener="#{manInventarioNew.iniciarventana()}"
                                disabled="#{manSeguridad.disableOpt('menuInventarioPiezas')}"
                                />
                    <p:menuitem value="Special Parts Form" icon="ui-icon-note" 
                                onclick="PF('wInventarioPie').show()"
                                update=":frmInventarioPie"
                                style="width: 130px;"
                                actionListener="#{manTblPiezas.iniciarventana()}"
                                disabled="#{manSeguridad.disableOpt('menuSpecialParts')}"
                                />
                    <p:menuitem value="Equipment" icon="ui-icon-gear" 
                                onclick="PF('wListaEquipos').show()"
                                style="width: 125px;"
                                update=":frmListaEquipos"
                                actionListener="#{manListaEquipos.iniciarventana()}"
                                disabled="#{manSeguridad.disableOpt('menuRegistroEquipo')}"
                                />
                    <p:menuitem value="Maintenances" icon="ui-icon-wrench" 
                                onclick="PF('wIntegralIni').show()"
                                style="width: 125px;"
                                update=":frmIntegralIni"
                                actionListener="#{manMaestroMan.iniciarventanaintegral()}"
                                disabled="#{manSeguridad.disableOpt('menuMattoMaestro')}"
                                />

                </p:submenu>


                <p:submenu label="Tools" icon="fa fa-magic" >
                    <p:menuitem value="Engineers List" icon="fa fa-users" 
                                id="menuPermisosEsp"
                                onclick="PF('wLisEsp').show()"
                                update=":frmLisEsp"
                                actionListener="#{manListaEspecifica.iniciarventana()}"
                                style="width: 125px;"
                                disabled="#{manSeguridad.disableOpt('menuPermisosEsp')}"
                                />
                    <p:menuitem value="Scheduler" icon="fa fa-calendar" 
                                onclick="PF('wTablero').show()"
                                update=":frmTablero"
                                style="width: 130px;"
                                actionListener="#{inicio.iniciarventana()}"
                                />
                </p:submenu>


                <p:submenu label="Productos" icon="fa fa-flask" >
                    <p:submenu label="Configuración" icon="fa fa-star">
                        <p:menuitem value="Paises" icon="fa fa-globe" 
                                    onclick="PF('wPaisesInv').show()"
                                    update=":frmPaisesInv"
                                    style="width: 130px;"
                                    actionListener="#{invPaises.iniciarventana()}"
                                    disabled="#{manSeguridad.disableOpt('menuPaisesInv')}"
                                    />
                        <p:menuitem value="Bodegas" icon="fa fa-university" 
                                    onclick="PF('wBodInv').show()"
                                    update=":frmBodInv"
                                    style="width: 130px;"
                                    actionListener="#{invBodegas.iniciarventana()}"
                                    disabled="#{manSeguridad.disableOpt('menuBodegasInv')}"
                                    />
                        <p:menuitem value="Ubicaciones" icon="fa fa-map-marker" 
                                    onclick="PF('wUbi').show()"
                                    update=":frmUbi"
                                    style="width: 130px;"
                                    actionListener="#{invUbicaciones.iniciarventana()}"
                                    disabled="#{manSeguridad.disableOpt('menuUbicacionesInv')}"
                                    />
                        <p:menuitem value="Movimientos" icon="fa fa-expand" 
                                    onclick="PF('wMovInv').show()"
                                    update=":frmMovInv"
                                    style="width: 130px;"
                                    actionListener="#{invMovimientos.iniciarventana()}"
                                    disabled="#{manSeguridad.disableOpt('menuMovimientosInv')}"
                                    />
                        <p:menuitem value="Proveedores" icon="fa fa-users" 
                                    onclick="PF('wProInv').show()"
                                    style="width: 125px;"
                                    action="#{invProveedores.iniciarventana(0)}" 
                                    disabled="#{manSeguridad.disableOpt('menuFabricantesInv')}"
                                    update=":frmProInv"
                                    />
                        <p:menuitem value="Clientes" icon="fa fa-users" 
                                    onclick="PF('wCliInv').show()"
                                    style="width: 130px;"
                                    action="#{invClientes.iniciarventana(0)}" 
                                    disabled="#{manSeguridad.disableOpt('menuClientesInv')}"
                                    update=":frmCliInv"
                                    />
                        <p:menuitem value="Áreas" icon="fa fa-sitemap" 
                                    onclick="PF('wAreas').show()"
                                    style="width: 130px;"
                                    action="#{invAreas.iniciarventana()}" 
                                    disabled="#{manSeguridad.disableOpt('menuClientesInv')}"
                                    update=":frmAreas"
                                    />
                        <p:menuitem value="Marcas" icon="fa fa-registered" 
                                    onclick="PF('wMarcaInv').show()"
                                    style="width: 125px;"
                                    action="#{invMarcas.iniciarventana()}" 
                                    update=":frmMarcaInv"
                                    disabled="#{manSeguridad.disableOpt('menuMarcasInv')}"
                                    />
                        <p:menuitem value="Plataformas" icon="fa fa-cubes" 
                                    onclick="PF('wFamilia').show()" 
                                    style="width: 130px;"
                                    action="#{invFamilias.iniciarventana()}" 
                                    update=":frmFamilia"
                                    disabled="#{manSeguridad.disableOpt('menuPlataformas')}"
                                    />
                        <p:menuitem value="Unidades Medida" icon="fa fa-tags" 
                                    onclick="PF('wEmbalaje').show()"
                                    style="width: 130px;"
                                    action="#{invEmbalajes.iniciarventana()}" 
                                    update=":frmEmbalaje"
                                    disabled="#{manSeguridad.disableOpt('menuPresentaciones')}"
                                    />
                        <p:menuitem value="Productos" icon="fa fa-flask" 
                                    onclick="PF('wArt').show()"
                                    action="#{invArticulos.iniciarventana()}" 
                                    style="width: 130px;"
                                    update=":frmArt"
                                    disabled="#{manSeguridad.disableOpt('menuProductos')}"
                                    />

                    </p:submenu>

                    <p:submenu label="Herramientas" icon="fa fa-wrench">
                        <p:menuitem value="Reprocesar Saldos" icon="fa fa-gears" 
                                    onclick="PF('wCorrectorSaldos').show()"
                                    action="#{invCorrector.iniciarventana()}" 
                                    style="width: 130px;"
                                    update=":frmCorrectorSaldos"
                                    disabled="#{manSeguridad.disableOpt('menuCorrectorSaldos')}"
                                    />
                        <p:menuitem value="Lista Usuarios" icon="fa fa-users" 
                                    onclick="PF('wLisEspEsp').show()"
                                    update=":frmLisEspEsp"
                                    actionListener="#{invListaEspecifica.iniciarventana()}"
                                    style="width: 125px;"
                                    disabled="#{manSeguridad.disableOpt('menuPermisosEspInv')}"
                                    />
                    </p:submenu>

                    <p:submenu label="Reportes" icon="fa fa-print">
                        <p:menuitem value="Kardex" icon="fa fa-file-text-o"
                                    onclick="PF('wKardex').show()"
                                    update=":frmKardex"
                                    actionListener="#{invRepKardexGen.iniciarVentana()}"
                                    style="width: 130px;"
                                    disabled="#{manSeguridad.disableOpt('menuKardexGen')}"
                                    />
                        <p:menuitem value="Saldos por Período" icon="fa fa-file-text-o"
                                    onclick="PF('wRepSaldosProd').show()"
                                    update=":frmRepSaldosProd"
                                    actionListener="#{invReporteSaldos.iniciarVentana()}"
                                    style="width: 130px;"
                                    disabled="#{manSeguridad.disableOpt('menuKardexGen')}"
                                    />
                        <p:menuitem value="Costos por Docs." icon="fa fa-file-text-o"
                                    onclick="PF('wRepTipoDoc').show()"
                                    update=":frmRepTipoDoc"
                                    actionListener="#{invRepKardexGen.iniciarVentana()}"
                                    style="width: 130px;"
                                    disabled="#{manSeguridad.disableOpt('menuKardexGen')}"
                                    />
                        <p:menuitem value="Consolidado" icon="fa fa-file-text-o"
                                    onclick="PF('wConsolidadoProd').show()"
                                    update=":frmConsolidadoProd"
                                    actionListener="#{invRepKardexGen.iniciarVentana()}"
                                    style="width: 130px;"
                                    disabled="#{manSeguridad.disableOpt('menuRepConsolidado')}"
                                    />
                        <p:menuitem value="Entradas y Salidas" icon="fa fa-file-text-o"
                                    onclick="PF('wEntSalPro').show()"
                                    update=":frmEntSalPro"
                                    actionListener="#{invRepKardexGen.iniciarVentana()}"
                                    style="width: 130px;"
                                    disabled="#{manSeguridad.disableOpt('menuRepAlmacen')}"
                                    />
                        <p:menuitem value="Movim. por Docs." icon="fa fa-file-text-o"
                                    onclick="PF('wRepTipoDocSinCosto').show()"
                                    update=":frmRepTipoDocSinCosto"
                                    actionListener="#{invRepKardexGen.iniciarVentana()}"
                                    style="width: 130px;"
                                    disabled="#{manSeguridad.disableOpt('menuRepAlmacen')}"
                                    />
                        <p:menuitem value="Movim. por Cli." icon="fa fa-file-text-o"
                                    onclick="PF('wRepMovPorCli').show()"
                                    update=":frmRepMovPorCli"
                                    actionListener="#{invRepKardexGen.iniciarVentana()}"
                                    style="width: 130px;"
                                    disabled="#{manSeguridad.disableOpt('menuRepAlmacen')}"
                                    />
                        <p:menuitem value="Pendientes Entrega" icon="fa fa-file-text-o"
                                    onclick="PF('wRepPenEntregar').show()"
                                    update=":frmRepPenEntregar"
                                    actionListener="#{invRepKardexGen.iniciarVentana()}"
                                    style="width: 130px;"
                                    disabled="#{manSeguridad.disableOpt('menuRepAlmacen')}"
                                    />
                        <p:menuitem value="Próximos a Vencer" icon="fa fa-file-text-o"
                                    onclick="PF('wProxVen').show()"
                                    update=":frmProxVen"
                                    actionListener="#{invRepKardexGen.iniciarVentana()}"
                                    style="width: 130px;"
                                    disabled="#{manSeguridad.disableOpt('menuRepAlmacen')}"
                                    />
                        <p:menuitem value="Existencias" icon="fa fa-file-text-o"
                                    onclick="PF('wExisPorFecha').show()"
                                    update=":frmExisPorFecha"
                                    actionListener="#{invRepKardexGen.iniciarVentana()}"
                                    style="width: 130px;"
                                    disabled="#{manSeguridad.disableOpt('menuRepGenAlmacen')}"
                                    />


                    </p:submenu>

                    <p:menuitem value="Existencias" icon="fa fa-eye" 
                                onclick="PF('wExistenciasLot').show()"
                                update=":frmExistenciasLot"
                                style="width: 130px;"
                                actionListener="#{invAlmacenProductos.iniciarventanaexistencias(1)}"
                                disabled="#{manSeguridad.disableOpt('menuExistenciasInv')}"
                                />

                    <p:menuitem value="Compras" icon="fa fa-credit-card" 
                                onclick="PF('wComp').show()"
                                update=":frmComp"
                                style="width: 130px;"
                                actionListener="#{invCompras.iniciarventana()}"
                                disabled="#{manSeguridad.disableOpt('menuComprasInv')}"
                                />

                    <p:menuitem value="Pedidos" icon="fa fa-cart-plus" 
                                onclick="PF('wReq').show()"
                                update=":frmReq"
                                style="width: 130px;"
                                actionListener="#{invPedidos.iniciarventana()}"
                                disabled="#{manSeguridad.disableOpt('menuPedidosProductos')}"
                                />

                    <p:menuitem value="Inven. Productos" icon="fa fa-list" 
                                onclick="PF('wInventarioPro').show()"
                                update=":frmInventarioPro"
                                style="width: 130px;"
                                actionListener="#{invAlmacenProductos.iniciarventana()}"
                                disabled="#{manSeguridad.disableOpt('menuInventarioProductos')}"
                                />

                </p:submenu>


                <p:submenu label="Informática" icon="fa fa-laptop">
                    <p:menuitem value="Licencias" icon="fa fa-key"
                                id="menuControlLic"
                                onclick="PF('wConLic').show()"
                                update=":frmConLic"
                                actionListener="#{lupControlLicencias.iniciarventana()}"
                                style="width: 125px;"
                                disabled="#{manSeguridad.disableOpt('menuControlLicencias')}"
                                />
                    <p:menuitem value="Equipos" icon="fa fa-desktop"
                                onclick="PF('wManIt').show()"
                                update=":frmManIt"
                                actionListener="#{manEquiposIT.iniciarventana()}"
                                style="width: 125px;"
                                disabled="#{manSeguridad.disableOpt('menuControlLicencias')}"
                                />
                </p:submenu>

                <p:submenu label="Seguridad" icon="fa fa-lock">
                    <p:menuitem value="Usuarios" icon="ui-icon-person"
                                id="menuUsuarios"
                                onclick="PF('wUsuarios').show()"
                                update=":frmUsuarios"
                                actionListener="#{manUsuarios.iniciarventana()}"
                                style="width: 125px;"
                                disabled="#{manSeguridad.disableOpt('menuUsuarios')}"
                                />
                    <p:menuitem value="Departamentos" icon="ui-icon-home" 
                                onclick="PF('wDepartamentos').show()"
                                update=":frmDepartamentos"
                                style="width: 125px;"
                                actionListener="#{manDepartamentos.iniciarventana()}"
                                disabled="#{manSeguridad.disableOpt('menuDeptos')}"
                                />
                    <p:menuitem value="Grupos seguridad" icon="ui-icon-suitcase" 
                                id="menuGruposSeg"
                                onclick="PF('wGrupo').show()"
                                update=":frmGrupo"
                                actionListener="#{manGrupos.iniciarventana()}"
                                style="width: 125px;"
                                disabled="#{manSeguridad.disableOpt('menuGruposSeg')}"
                                />
                    <p:menuitem value="Catálogo Controles" icon="ui-icon-flag" 
                                id="menuCatCtrl"
                                onclick="PF('wControl').show()"
                                update=":frmControl"
                                actionListener="#{manControles.iniciarventana()}"
                                style="width: 125px;"
                                disabled="#{manSeguridad.disableOpt('menuCatCtrl')}"
                                />
                    <p:menuitem value="Asig.Usu-Grup" icon="ui-icon-pin-s" 
                                id="menuAsigUsrGrp"
                                onclick="PF('wUsrGrp').show()"
                                update=":frmUsrGrp"
                                actionListener="#{manUserGroup.iniciarventana()}"
                                style="width: 125px;"
                                disabled="#{manSeguridad.disableOpt('menuAsigUsrGrp')}"
                                />
                    <p:menuitem value="Asig.Derechos" icon="ui-icon-locked" 
                                id="menuAsigDerechos"
                                onclick="PF('wSecurity').show()"
                                update=":frmSecurity"
                                actionListener="#{manSeguridad.iniciarventana()}"
                                style="width: 125px;"
                                disabled="#{manSeguridad.disableOpt('menuAsigDerechos')}"
                                />


                </p:submenu>
                <f:facet name="options">
                    <p:commandButton value="Logout" icon="ui-icon-extlink"
                                     actionListener="#{login.endConversation()}"
                                     update=":frmMadre"
                                     action="index?faces-redirect=true"
                                     />
                </f:facet>
            </p:menubar>

            <h:panelGrid columns="1" style="margin: 0 auto; visibility:  hidden;">
                <h:graphicImage id="logo" value="logo.png" 
                                style="position: absolute; top:0;left:0;right:0;bottom:0;margin: auto;"
                                width="40%;" height="50%;"
                                />
            </h:panelGrid>



            <!--********** Confirm Dialog Global ********************************-->
            <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                <p:commandButton value="Yes" type="button" 
                                 styleClass="ui-confirmdialog-yes" 
                                 icon="ui-icon-check" />
                <p:commandButton value="No" type="button" 
                                 styleClass="ui-confirmdialog-no" 
                                 icon="ui-icon-close" />
            </p:confirmDialog>

        </h:form>

        <!--********************************************************************
        ************************* Manual Usuario Mantenimiento *****************
        *********************************************************************-->

        <p:dialog id="dlgMUserManual" widgetVar="wUMM" modal="true" 
                  width="800" height="450" closable="true" 
                  resizable="false" header="Maintenance User Manual" rendered="true" 
                  dynamic="false" visible="false" >
            <h:form id="frmMuserManual">
                <object type="application/pdf" 
                        data="user_manual_maintenance.pdf" 
                        height="440px" width="100%" 
                        internalinstanceid="9">
                    Your browser can't display pdf, <a href="user_manual_maintenance.pdf">click</a> to download pdf instead.
                </object>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        *************************     DASHBOARD    *****************************
        *********************************************************************-->

        <div style="height:500px">
            <h:form id="frmDash">
                <p:growl id="msgs" showDetail="true" />

                <p:panel id="graficaMantenimientos" 
                         header="Preventive Maintenances" 
                         closable="true" 
                         visible="#{!manSeguridad.disableOpt('dashboardMtto')}">
                    <h:form id="frmTimeLine"> 
                        <p:growl id="msgTimeLine" showDetail="true" life="8500"/>
                        <p:timeline id="timeline" value="#{manMaestroMan.modelTimeLine}" height="330px" 
                                    zoomable="true"  
                                    selectable="true"
                                    editable="false"                                               
                                    moveable="true"  
                                    stackEvents="true"  
                                    axisOnTop="false"
                                    eventStyle="dot"
                                    showCurrentTime="true"  
                                    showNavigation="true"
                                    timeChangeable="true">

                            <p:ajax  event="changed" listener="#{manMaestroMan.onChange}" process="@form"/> 
                        </p:timeline>  

                        <h:outputStylesheet id="timelineCSS">  
                            table .formColumn {  
                            padding: 0 5px 0 5px;  
                            text-align: right;  
                            white-space: nowrap;  
                            }         
                        </h:outputStylesheet>  
                    </h:form>

                    <f:facet name="actions">
                        <h:commandLink styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default"
                                       actionListener="#{manMaestroMan.init()}"
                                       >
                            <p:ajax update=":frmDash"/>
                            <h:outputText styleClass="ui-icon ui-icon-refresh" />
                        </h:commandLink>
                    </f:facet>

                </p:panel>
                <div style="clear:both" />
            </h:form>


            <h:form id="frmTask"> 
                <p:remoteCommand name="onCellEdit" update=":frmTask:dtDash" />
                <p:panel id="PanScheduler" 
                         header="Scheduler" 
                         closable="true" 
                         style="width: 900px;"
                         >

                    <p:dataTable id="dtDash" var="vDash" 
                                 value="#{inicio.scheduler}" 
                                 emptyMessage="No results found" 
                                 selectionMode="single" selection="#{inicio.catschmain}" 
                                 rowKey="#{vDash.correla}"
                                 editable="true" 

                                 style="width:880px"
                                 scrollable="true"
                                 scrollHeight="190"
                                 >

                        <p:ajax event="rowEdit" listener="#{inicio.onRowEdit}" process="@this" 
                                oncomplete="onCellEdit()" />



                        <p:column style="width:2px" headerText="N°">
                            <h:outputText value="#{vDash.correla}" />
                        </p:column>
                        <p:column style="width:20px" headerText="Scheduled Date" sortBy="#{vDash.fec_sch}">
                            <h:outputText value="#{vDash.fec_sch}" />
                        </p:column>
                        <p:column style="width:50px" headerText="Order by" sortBy="#{vDash.solicita}">
                            <h:outputText value="#{vDash.solicita}" />
                        </p:column>
                        <p:column style="width:80px" headerText="Equipment" sortBy="#{vDash.equipo}">
                            <h:outputText value="#{vDash.equipo}" />
                        </p:column>
                        <p:column style="width:140px" headerText="Task">
                            <h:outputText value="#{vDash.det_obs}" />
                        </p:column>
                        <p:column style="width:40px; background: #{vDash.det_col};" headerText="Status" sortBy="#{vDash.estado}">
                            <p:cellEditor>
                                <f:facet name="input">
                                    <h:selectOneMenu value="#{vDash.estado}" style="width: 100%;" >
                                        <f:selectItem itemLabel="PENDING" itemValue="PENDING"/>
                                        <f:selectItem itemLabel="CANCELED" itemValue="CANCELED"/>   
                                        <f:selectItem itemLabel="IN PROGRESS" itemValue="IN_PROGRESS"/>
                                        <f:selectItem itemLabel="COMPLETED" itemValue="COMPLETED"/>
                                    </h:selectOneMenu>

                                </f:facet>
                                <f:facet name="output"><h:outputText value="#{vDash.estado}"/></f:facet>

                            </p:cellEditor>
                        </p:column>
                        <p:column style="width:20px">
                            <p:rowEditor />
                        </p:column>

                    </p:dataTable>

                    <f:facet name="actions">
                        <h:commandLink styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default"
                                       actionListener="#{inicio.init()}"
                                       >
                            <p:ajax update=":frmTask"/>
                            <h:outputText styleClass="ui-icon ui-icon-refresh" />
                        </h:commandLink>
                    </f:facet>

                </p:panel>
            </h:form>
        </div>

        <!--******************************************************************** 
        *************************Barra Notificación ****************************
        *********************************************************************-->

        <h:form id="frmNB"> 
            <p:notificationBar id="nbMadre" position="bottom" effect="slide" 
                               widgetVar="bar" >

                <h:panelGrid  columns="3" cellpadding="5">
                    <h:outputText value="USER: &lt;font color='red'&gt; #{login.det_nom} &lt;/font&gt;&lt;br /&gt;DEPARTMENT: &lt;font color='red'&gt; #{login.nomdep} &lt;/font&gt;&lt;br /&gt;COUNTRY: &lt;font color='red'&gt; #{login.nompai} &lt;/font&gt;"
                                  escape="false"
                                  style="font-size:24px;position: absolute; top:15%;right:45%;bottom:0;margin: auto; "
                                  />

                    <h:graphicImage  id="cclogo" value="/nube.gif" width="130" height="120" 
                                     style=" position: absolute; top:0;right:10%;bottom:0;margin: auto; "/>

                    <h:graphicImage  id="logott" value="/logott.png" width="170" height="120" 
                                     style=" position: absolute; top:0;right:80%;bottom:0;margin: auto; "/>
                </h:panelGrid>
            </p:notificationBar>
        </h:form>

        <!--********************************************************************
        ************************** Tablero de Tareas ***************************
        *********************************************************************-->

        <p:dialog  id="dlgTablero" widgetVar="wTablero" modal="true" 
                   width="800" height="320" closable="false" resizable="false" 
                   header="Task Assignment" rendered="true" 
                   dynamic="false" 
                   >

            <h:form id="frmTablero"> 
                <p:growl id="msgTablero" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="New" style=" width: 100px;"
                                         actionListener="#{inicio.nuevo()}"
                                         update=":frmTablero"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Save" style=" width: 100px;"
                                         actionListener="#{inicio.guardar()}"
                                         update=":frmTablero"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Save" 
                                       message="Do you really want to save this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Delete" style=" width: 100px;"
                                         actionListener="#{inicio.eliminar()}"
                                         update=":frmTablero"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Delete" 
                                       message="Do you really want to delete this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Close" style=" width: 100px;"
                                         onclick="PF('wTablero').hide()"
                                         actionListener="#{inicio.cerrarventana()}"
                                         update=":frmTablero,:frmTask"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>

                </p:toolbar>
                <p:panel>
                    <div style=" background-color: #ebf8fe;">
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Scheduled Date" style="font-weight:bold;"/>
                            <p:calendar  pattern="dd/MMM/yyyy HH:mm" 
                                         readonlyInput="true" 
                                         showOn="button" size="18"
                                         value="#{inicio.dfecha1}"
                                         navigator="true"
                                         >
                                <p:ajax event="dateSelect" listener="#{inicio.dateSchedul}" />
                            </p:calendar> 
                            <h:outputText value="Assigned To" style="font-weight:bold;"/>
                            <p:selectOneMenu value="#{inicio.usuariotarea}" 
                                             style="width:300px;text-align:right;"
                                             immediate="false"
                                             autoWidth="false"
                                             filter="true"
                                             filterMatchMode="contains"
                                             >  
                                <f:selectItem itemLabel="Select one" itemValue="0" />  
                                <f:selectItems value="#{inicio.usuarios}" var="somusutask"
                                               itemLabel="#{somusutask.descripcion}" itemValue="#{somusutask.codigo}"/>
                            </p:selectOneMenu>
                            <h:outputText value="Task" style="font-weight:bold;"/>
                            <p:inputTextarea value="#{inicio.tarea}" maxlength="500" rows="2" cols="90" />

                        </h:panelGrid>
                    </div>
                </p:panel>
                <p:panel>
                    <p:dataTable id="dtTaskA" var="vTaskA" 
                                 value="#{inicio.schedulertareas}" 
                                 emptyMessage="No results found" 
                                 selectionMode="single" selection="#{inicio.catschmaintareas}" 
                                 rowKey="#{vTaskA.sch_cor}"
                                 editable="false"
                                 scrollable="true"
                                 scrollHeight="100"
                                 style="width:750px"
                                 >
                        <p:ajax event="rowSelect" listener="#{inicio.seleccionarTarea}" 
                                update=":frmTablero"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:10px" headerText="Scheduled Date">
                            <h:outputText value="#{vTaskA.fec_sch}" />
                        </p:column>
                        <p:column style="width:40px" headerText="Assigned To">
                            <h:outputText value="#{vTaskA.solicita}" />
                        </p:column>
                        <p:column style="width:140px" headerText="Task">
                            <h:outputText value="#{vTaskA.det_obs}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>


        <!-- ***************** MANTENIMIENTO BIOMÉDICO **********************-->

        <!-- *******************************************************************
        ********** Pantalla mantenimiento de Paises Mantenimiento **************
        *********************************************************************-->

        <p:dialog  id="dlgPaises" widgetVar="wPaises" modal="true" 
                   width="500" height="300" closable="false" resizable="false" 
                   header="Countries" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmPaises"> 
                <p:growl id="msgPaises" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="New" style=" width: 100px;"
                                         actionListener="#{manPaises.nuevo()}"
                                         update=":frmPaises"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Save" style=" width: 100px;"
                                         action="#{manPaises.guardar()}"
                                         update=":frmPaises"
                                         icon="ui-icon-disk"
                                         >
                            <p:confirm header="Save" 
                                       message="Do you really want to save this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Delete" style=" width: 100px;"
                                         actionListener="#{manPaises.eliminar()}"
                                         update=":frmPaises"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Delete" 
                                       message="Do you really want to delete this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Close" style=" width: 100px;"
                                         onclick="PF('wPaises').hide()"
                                         action="#{manPaises.cerrarventana()}" 
                                         update=":frmPaises"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>
                <div style=" background-color: #ebf8fe;">
                    <h:panelGrid columns="2" cellpadding="5">
                        <h:outputText value="Country Name" style="font-weight:bold;" />
                        <p:inputText maxlength="20" size="60" value="#{manPaises.nom_pai}" 
                                     onfocus="this.select()"/>
                    </h:panelGrid>
                    <p:dataTable id="dtPaises" var="vPai" 
                                 value="#{manPaises.paises}" 
                                 emptyMessage="No results found" 
                                 selectionMode="single" selection="#{manPaises.catpaises}" 
                                 rowKey="#{vPai.cod_pai}"
                                 editable="false" 
                                 style="width:475px"
                                 scrollable="true"
                                 scrollHeight="190"
                                 >
                        <p:ajax event="rowSelect" listener="#{manPaises.onRowSelect}" 
                                update=":frmPaises" />

                        <p:column style="width:50px" headerText="Country Name">
                            <h:outputText value="#{vPai.nom_pai}" />
                        </p:column>
                    </p:dataTable>
                </div>

            </h:form>
        </p:dialog>  

        <!--******************************************************************** 
        ************* Pantalla mantenimiento de Marcas Mantenimiento ***********
        *********************************************************************-->

        <p:dialog  id="dlgMarca" widgetVar="wMarca" modal="true" 
                   width="460" height="290" closable="false" resizable="false" 
                   header="Brands" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmMarca"> 
                <p:growl id="msgMarca" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="New" style=" width: 100px;"
                                         actionListener="#{manMarcas.nuevo()}"
                                         update=":frmMarca"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Save" style=" width: 100px;"
                                         actionListener="#{manMarcas.guardar()}"
                                         update=":frmMarca"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Save" 
                                       message="Do you really want to save this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Delete" style=" width: 100px;"
                                         actionListener="#{manMarcas.eliminar()}"
                                         update=":frmMarca"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Delete" 
                                       message="Do you realley want to delete this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wMarca').hide()"
                                         actionListener="#{manMarcas.cerrarventana()}"
                                         update=":frmMarca"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color:  #ebf8fe;">
                        <p:focus for="txtnombremarca" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Brand Name" style="font-weight:bold;"/>
                            <p:inputText id="txtnombremarca" 
                                         size="50"
                                         maxlength="50"
                                         value="#{manMarcas.nom_mar}"
                                         onfocus="this.select()"
                                         />
                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtMarca" var="vMarca" 
                                 value="#{manMarcas.marcas}" 
                                 emptyMessage="No results found" 
                                 selectionMode="single" selection="#{manMarcas.catmarcas}" 
                                 rowKey="#{vMarca.id_mar}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="120"
                                 style="width:400px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manMarcas.onRowSelect}" 
                                update=":frmMarca"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:30px" headerText="Id">
                            <h:outputText value="#{vMarca.id_mar}" />
                        </p:column>
                        <p:column style="width:300px" headerText="Brand">
                            <h:outputText value="#{vMarca.nom_mar}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--********************************************************************
        ****************** Mantenimiento Tipología Mantenimiento ***************
        *********************************************************************-->

        <p:dialog  id="dlgTipMan" widgetVar="wTipMan" modal="true" 
                   width="500" height="320" closable="false" resizable="false" 
                   header="Maintenance Type" rendered="true" 
                   dynamic="false" 
                   >

            <h:form id="frmTipMan"> 
                <p:growl id="msgTipMan" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="New" style=" width: 100px;"
                                         actionListener="#{manTipos.nuevo()}"
                                         update=":frmTipMan"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Save" style=" width: 100px;"
                                         actionListener="#{manTipos.guardar()}"
                                         update=":frmTipMan"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Save" 
                                       message="Do you really want to save this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Delete" style=" width: 100px;"
                                         actionListener="#{manTipos.eliminar()}"
                                         update=":frmTipMan"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Delete" 
                                       message="Do you really want to delete this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Close" style=" width: 100px;"
                                         onclick="PF('wTipMan').hide()"
                                         actionListener="#{manTipos.cerrarventana()}"
                                         update=":frmTipMan"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>

                </p:toolbar>
                <p:panel>
                    <div style=" background-color: #ebf8fe;">
                        <p:focus for="txtnomtipman" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Maintenance Type" style="font-weight:bold;"/>
                            <p:inputText id="txtnomtipman" 
                                         size="50"
                                         maxlength="30"
                                         value="#{manTipos.nom_tip}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Periodic" style="font-weight:bold;"/>
                            <p:selectBooleanCheckbox value="#{manTipos.flg_urg}" />
                        </h:panelGrid>
                    </div>
                </p:panel>
                <p:panel>
                    <p:dataTable id="dtTipMan" var="vTipMan" 
                                 value="#{manTipos.tipos}" 
                                 emptyMessage="No results found" 
                                 selectionMode="single" selection="#{manTipos.cattipos}" 
                                 rowKey="#{vTipMan.cod_tip}"
                                 editable="false"
                                 scrollable="true"
                                 scrollHeight="130"
                                 style="width:440px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manTipos.onRowSelect}" 
                                update=":frmTipMan"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:60px" headerText="Maintenance Type">
                            <h:outputText value="#{vTipMan.nom_tip}" />
                        </p:column>
                        <p:column style="width:30px; text-align: center;" headerText="Periodic">
                            <p:selectBooleanCheckbox value="#{vTipMan.flg_urg}" disabled="true" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ************** Pantalla mantenimiento de Grupos Fallas  ****************
        *********************************************************************-->

        <p:dialog  id="dlgGruFal" widgetVar="wGruFal" modal="true" 
                   width="460" height="290" closable="false" resizable="false" 
                   header="Group of Failures" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmGruFal"> 
                <p:growl id="msgGruFal" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="New" style=" width: 100px;"
                                         actionListener="#{manGruposFallas.nuevo()}"
                                         update=":frmGruFal"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Save" style=" width: 100px;"
                                         actionListener="#{manGruposFallas.guardar()}"
                                         update=":frmGruFal"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Save" 
                                       message="Do you really want to save this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Delete" style=" width: 100px;"
                                         actionListener="#{manGruposFallas.eliminar()}"
                                         update=":frmGruFal"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Delete" 
                                       message="Do you really want to delete this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Close" style=" width: 100px;"
                                         onclick="PF('wGruFal').hide()"
                                         actionListener="#{manGruposFallas.cerrarventana()}"
                                         update=":frmGruFal"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color:  #ebf8fe;">
                        <p:focus for="txtnombregrufal" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Group of Failures" style="font-weight:bold;"/>
                            <p:inputText id="txtnombregrufal" 
                                         size="50"
                                         maxlength="50"
                                         value="#{manGruposFallas.nom_gru_fal}"
                                         onfocus="this.select()"
                                         />
                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtGruFal" var="vGruFal" 
                                 value="#{manGruposFallas.grupofallas}" 
                                 emptyMessage="No results found" 
                                 selectionMode="single" selection="#{manGruposFallas.catgrupofallas}" 
                                 rowKey="#{vGruFal.cod_gru_fal}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="120"
                                 style="width:400px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manGruposFallas.onRowSelect}" 
                                update=":frmGruFal"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:30px" headerText="Id">
                            <h:outputText value="#{vGruFal.cod_gru_fal}" />
                        </p:column>
                        <p:column style="width:300px" headerText="Group of Failures">
                            <h:outputText value="#{vGruFal.nom_gru_fal}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--********************************************************************
        ****************** Mantenimiento Categorías Piezas *********************
        *********************************************************************-->

        <p:dialog  id="dlgCatPie" widgetVar="wCatPie" modal="true" 
                   width="500" height="320" closable="false" resizable="false" 
                   header="Parts Category" rendered="true" 
                   dynamic="false" 
                   >

            <h:form id="frmCatPie"> 
                <p:growl id="msgCatPie" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="New" style=" width: 100px;"
                                         actionListener="#{manCategorias.nuevo()}"
                                         update=":frmCatPie"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Save" style=" width: 100px;"
                                         actionListener="#{manCategorias.guardar()}"
                                         update=":frmCatPie"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Save" 
                                       message="Do you really want to save this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Delete" style=" width: 100px;"
                                         actionListener="#{manCategorias.eliminar()}"
                                         update=":frmCatPie"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Delete" 
                                       message="Do you really want to delete this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Close" style=" width: 100px;"
                                         onclick="PF('wCatPie').hide()"
                                         actionListener="#{manCategorias.cerrarventana()}"
                                         update=":frmCatPie"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>

                </p:toolbar>
                <p:panel>
                    <div style=" background-color: #ebf8fe;">
                        <p:focus for="txtnomcatpie" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Category" style="font-weight:bold;"/>
                            <p:inputText id="txtnomcatpie" 
                                         size="50"
                                         maxlength="30"
                                         value="#{manCategorias.nom_cat}"
                                         onfocus="this.select()"
                                         />
                        </h:panelGrid>
                    </div>
                </p:panel>
                <p:panel>
                    <p:dataTable id="dtCatPie" var="vCatPie" 
                                 value="#{manCategorias.categorias}" 
                                 emptyMessage="No results found" 
                                 selectionMode="single" selection="#{manCategorias.catcategorias}" 
                                 rowKey="#{vCatPie.cod_cat}"
                                 editable="false"
                                 scrollable="true"
                                 scrollHeight="150"
                                 style="width:440px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manCategorias.onRowSelect}" 
                                update=":frmCatPie"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:60px" headerText="Parts Category">
                            <h:outputText value="#{vCatPie.nom_cat}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ***************** Pantalla mantenimiento de Acciones ***************
        *********************************************************************-->

        <p:dialog  id="dlgOperaciones" widgetVar="wOpe" modal="true" 
                   width="540" height="320" closable="false" resizable="false" 
                   header="Actions" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmOpe"> 
                <p:growl id="msgOpe" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="New" style=" width: 100px;"
                                         actionListener="#{manOperaciones.nuevo()}"
                                         update=":frmOpe"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Save" style=" width: 100px;"
                                         actionListener="#{manOperaciones.guardar()}"
                                         update=":frmOpe"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Save" 
                                       message="Do you really want to save this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Delete" style=" width: 100px;"
                                         actionListener="#{manOperaciones.eliminar()}"
                                         update=":frmOpe"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Delete" 
                                       message="Do you really want to delete this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Close" style=" width: 100px;"
                                         onclick="PF('wOpe').hide()"
                                         actionListener="#{manOperaciones.cerrarventana()}"
                                         update=":frmOpe"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color: #ebf8fe;">
                        <p:focus for="txtnombreope" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Action" style="font-weight:bold;"/>
                            <p:inputTextarea id="txtnombreope" 
                                             cols="60"
                                             maxlength="300"
                                             value="#{manOperaciones.nom_ope}"
                                             onfocus="this.select()"
                                             rows="1"
                                             />
                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtOpe" var="vOpe" 
                                 value="#{manOperaciones.operaciones}" 
                                 emptyMessage="No results found" 
                                 selectionMode="single" selection="#{manOperaciones.catoperaciones}" 
                                 rowKey="#{vOpe.cod_ope}"
                                 editable="false"
                                 scrollable="true"
                                 scrollHeight="150"
                                 style="width:480px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manOperaciones.onRowSelect}" 
                                update=":frmOpe"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:300px" headerText="Action">
                            <h:outputText value="#{vOpe.nom_ope}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ************** Pantalla mantenimiento de Movimientos *******************
        *********************************************************************-->

        <p:dialog  id="dlgMov" widgetVar="wMov" modal="true" 
                   width="440" height="320" closable="false" resizable="false" 
                   header="Movements Types" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmMov"> 
                <p:growl id="msgMov" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="New" style=" width: 100px;"
                                         actionListener="#{manMovimientos.nuevo()}"
                                         update=":frmMov"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Save" style=" width: 100px;"
                                         actionListener="#{manMovimientos.guardar()}"
                                         update=":frmMov"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Save" 
                                       message="Do you really want to save this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Delete" style=" width: 100px;"
                                         actionListener="#{manMovimientos.eliminar()}"
                                         update=":frmMov"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Delete" 
                                       message="Do you really want to delete this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Close" style=" width: 100px;"
                                         onclick="PF('wMov').hide()"
                                         actionListener="#{manMovimientos.cerrarventana()}"
                                         update=":frmMov"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color: #ebf8fe;">
                        <p:focus for="txtnombremov" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Movement Name" style="font-weight:bold;"/>
                            <p:inputText id="txtnombremov" 
                                         size="50"
                                         maxlength="30"
                                         value="#{manMovimientos.nom_mov}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Type" style="font-weight:bold;"/>
                            <p:inputSwitch offLabel="Entry" onLabel="Egress" value="#{manMovimientos.flg_tip}"/>
                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtMov" var="vMov" 
                                 value="#{manMovimientos.movimientos}" 
                                 emptyMessage="No results found" 
                                 selectionMode="single" selection="#{manMovimientos.catmovimientos}" 
                                 rowKey="#{vMov.id_mov}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="110"
                                 style="width:380px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manMovimientos.onRowSelect}" 
                                update=":frmMov"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:30px" headerText="Id">
                            <h:outputText value="#{vMov.id_mov}" />
                        </p:column>
                        <p:column style="width:160px" headerText="Movement">
                            <h:outputText value="#{vMov.nom_mov}" />
                        </p:column>
                        <p:column style="width:80px" headerText="Type">
                            <h:outputText value="#{vMov.flg_tip}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ***************** Pantalla mantenimiento de Bodegas ********************
        *********************************************************************-->

        <p:dialog  id="dlgBodegas" widgetVar="wBod" modal="true" 
                   width="440" height="330" closable="false" resizable="false" 
                   header="Warehouses" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmBod"> 
                <p:growl id="msgBod" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="New" style=" width: 100px;"
                                         actionListener="#{manBodegas.nuevo()}"
                                         update=":frmBod"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Save" style=" width: 100px;"
                                         actionListener="#{manBodegas.guardar()}"
                                         update=":frmBod"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Save" 
                                       message="Do you really want to save this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Delete" style=" width: 100px;"
                                         actionListener="#{manBodegas.eliminar()}"
                                         update=":frmBod"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Delete" 
                                       message="Do you really want to delete this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Close" style=" width: 100px;"
                                         onclick="PF('wBod').hide()"
                                         actionListener="#{manBodegas.cerrarventana()}"
                                         update=":frmBod"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color: #ebf8fe;">
                        <p:focus for="txtnombrebod" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Country" style="font-weight:bold;"/>
                            <p:selectOneMenu value="#{manBodegas.cod_pai}" 
                                             style="width:280px;text-align:right;"
                                             immediate="false"
                                             disabled="#{manSeguridad.disableOpt('comboPaisesBodegas')}"
                                             autoWidth="false"
                                             >
                                <p:ajax event="change" listener="#{manBodegas.llenarBodegas()}" update=":frmBod"/>
                                <f:selectItem itemLabel="Select one" itemValue="0" />  
                                <f:selectItems value="#{manBodegas.paises}" var="mpaibod"
                                               itemLabel="#{mpaibod.nom_pai}" itemValue="#{mpaibod.cod_pai}"/>
                            </p:selectOneMenu>
                            <h:outputText value="Name" style="font-weight:bold;"/>
                            <p:inputText id="txtnombrebod" 
                                         size="46"
                                         maxlength="50"
                                         value="#{manBodegas.nom_bod}"
                                         onfocus="this.select()"
                                         />
                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtBod" var="vBod" 
                                 value="#{manBodegas.bodegas}" 
                                 emptyMessage="No results found" 
                                 selectionMode="single" selection="#{manBodegas.catbodegas}" 
                                 rowKey="#{vBod.id_bod}"
                                 editable="false"
                                 scrollable="true"
                                 scrollHeight="110"
                                 style="width:380px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manBodegas.onRowSelect}" 
                                update=":frmBod"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:100px" headerText="Country">
                            <h:outputText value="#{vBod.nompai}" />
                        </p:column>
                        <p:column style="width:200px" headerText="Warehouse">
                            <h:outputText value="#{vBod.nom_bod}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        **************** Pantalla mantenimiento de Clientes ********************
        *********************************************************************-->

        <p:dialog  id="dlgCli" widgetVar="wCli" modal="true" 
                   width="550" height="450" closable="false" resizable="false" 
                   header="Clients" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmCli"> 
                <p:growl id="msgCli" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="New" style=" width: 100px;"
                                         actionListener="#{manClientes.nuevo()}"
                                         update=":frmCli"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Save" style=" width: 100px;"
                                         actionListener="#{manClientes.guardar()}"
                                         update=":frmCli"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Save" 
                                       message="Do you really want to save this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Delete" style=" width: 100px;"
                                         actionListener="#{manClientes.eliminar()}"
                                         update=":frmCli"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Delete" 
                                       message="Do you really want to delete this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Close" style=" width: 100px;"
                                         onclick="PF('wCli').hide()"
                                         actionListener="#{manClientes.cerrarventana()}"
                                         update=":frmCli"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color: #ebf8fe;">
                        <p:focus for="txtnombrecli" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Country" style="font-weight:bold;"/>
                            <p:selectOneMenu value="#{manClientes.cod_pai}" style=" width: 310px;" autoWidth="false">
                                <p:ajax event="change" listener="#{manClientes.onselectpais()}" update=":frmCli" />
                                <f:selectItem itemLabel="Select one" itemValue="0"/>
                                <f:selectItems value="#{manClientes.paises}" var="paicli"
                                               itemLabel="#{paicli.nom_pai}" itemValue="#{paicli.cod_pai}"/> 
                            </p:selectOneMenu>
                            <h:outputText value="Client Name" style="font-weight:bold;"/>
                            <p:inputText id="txtnombrecli" 
                                         size="50"
                                         maxlength="50"
                                         value="#{manClientes.nom_cli}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Contact Person" style="font-weight:bold;"/>
                            <p:inputText size="50"
                                         maxlength="150"
                                         value="#{manClientes.per_con}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Contact Phone" style="font-weight:bold;"/>
                            <p:inputText size="50"
                                         maxlength="20"
                                         value="#{manClientes.tel_con}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Email" style="font-weight:bold;"/>
                            <p:inputText size="50"
                                         maxlength="100"
                                         value="#{manClientes.det_mai}"
                                         onfocus="this.select()"
                                         />
                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtcli" var="vCli" 
                                 value="#{manClientes.clientes}" 
                                 emptyMessage="No results found" 
                                 selectionMode="single" selection="#{manClientes.catclientes}" 
                                 rowKey="#{vCli.cod_cli}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="170"
                                 style="width:500px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manClientes.onRowSelect}" 
                                update=":frmCli"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:160px" headerText="Client">
                            <h:outputText value="#{vCli.nom_cli}" />
                        </p:column>
                        <p:column style="width:80px" headerText="Contact Person">
                            <h:outputText value="#{vCli.per_con}" />
                        </p:column>
                        <p:column style="width:80px" headerText="Contact Phone">
                            <h:outputText value="#{vCli.tel_con}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        *************** Pantalla mantenimiento de Fabricantes ******************
        *********************************************************************-->

        <p:dialog  id="dlgpro" widgetVar="wPro" modal="true" 
                   width="550" height="450" closable="false" resizable="false" 
                   header="Manufacturers" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmPro"> 
                <p:growl id="msgPro" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="New" style=" width: 100px;"
                                         actionListener="#{manProveedores.nuevo()}"
                                         update=":frmPro"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Save" style=" width: 100px;"
                                         actionListener="#{manProveedores.guardar()}"
                                         update=":frmPro"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Save" 
                                       message="Do you really want to save this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Delete" style=" width: 100px;"
                                         actionListener="#{manProveedores.eliminar()}"
                                         update=":frmPro"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Delete" 
                                       message="Do you really want to delete this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Close" style=" width: 100px;"
                                         onclick="PF('wPro').hide()"
                                         actionListener="#{manProveedores.cerrarventana()}"
                                         update=":frmPro"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color: #ebf8fe;">
                        <p:focus for="txtnombrepro" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Manufacturer" style="font-weight:bold;"/>
                            <p:inputText id="txtnombrepro" 
                                         size="50"
                                         maxlength="50"
                                         value="#{manProveedores.nom_pro}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Contact Person" style="font-weight:bold;"/>
                            <p:inputText size="50"
                                         maxlength="150"
                                         value="#{manProveedores.per_con}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Contact Phone" style="font-weight:bold;"/>
                            <p:inputText size="50"
                                         maxlength="20"
                                         value="#{manProveedores.tel_con}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Email" style="font-weight:bold;"/>
                            <p:inputText size="50"
                                         maxlength="100"
                                         value="#{manProveedores.det_mai}"
                                         onfocus="this.select()"
                                         />
                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtpro" var="vPro" 
                                 value="#{manProveedores.proveedores}" 
                                 emptyMessage="No result founds" 
                                 selectionMode="single" selection="#{manProveedores.catproveedores}" 
                                 rowKey="#{vPro.cod_pro}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="180"
                                 style="width:500px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manProveedores.onRowSelect}" 
                                update=":frmPro"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:160px" headerText="Manufacturer">
                            <h:outputText value="#{vPro.nom_pro}" />
                        </p:column>
                        <p:column style="width:80px" headerText="Contact Person">
                            <h:outputText value="#{vPro.per_con}" />
                        </p:column>
                        <p:column style="width:80px" headerText="Contact Phone">
                            <h:outputText value="#{vPro.tel_con}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        *************** Pantalla mantenimiento de Proveedores ******************
        *********************************************************************-->

        <p:dialog  id="dlgsup" widgetVar="wSup" modal="true" 
                   width="550" height="450" closable="false" resizable="false" 
                   header="Suppliers" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmSup"> 
                <p:growl id="msgSup" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="New" style=" width: 100px;"
                                         actionListener="#{manSuppliers.nuevo()}"
                                         update=":frmSup"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Save" style=" width: 100px;"
                                         actionListener="#{manSuppliers.guardar()}"
                                         update=":frmSup"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Save" 
                                       message="Do you really want to save this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Delete" style=" width: 100px;"
                                         actionListener="#{manSuppliers.eliminar()}"
                                         update=":frmSup"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Delete" 
                                       message="Do you really want to delete this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Close" style=" width: 100px;"
                                         onclick="PF('wSup').hide()"
                                         actionListener="#{manSuppliers.cerrarventana()}"
                                         update=":frmSup"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color: #ebf8fe;">
                        <p:focus for="txtnombresup" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Country" style="font-weight:bold;"/>
                            <p:selectOneMenu value="#{manSuppliers.cod_pai}" style=" width: 310px;" autoWidth="false">
                                <p:ajax event="change" listener="#{manSuppliers.onselectpais()}" update=":frmSup" />
                                <f:selectItem itemLabel="Select one" itemValue="0"/>
                                <f:selectItems value="#{manSuppliers.paises}" var="paiprosup"
                                               itemLabel="#{paiprosup.nom_pai}" itemValue="#{paiprosup.cod_pai}"/> 
                            </p:selectOneMenu>
                            <h:outputText value="Supplier" style="font-weight:bold;"/>
                            <p:inputText id="txtnombresup" 
                                         size="50"
                                         maxlength="50"
                                         value="#{manSuppliers.nom_pro}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Contact Person" style="font-weight:bold;"/>
                            <p:inputText size="50"
                                         maxlength="150"
                                         value="#{manSuppliers.per_con}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Contact Phone" style="font-weight:bold;"/>
                            <p:inputText size="50"
                                         maxlength="20"
                                         value="#{manSuppliers.tel_con}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Email" style="font-weight:bold;"/>
                            <p:inputText size="50"
                                         maxlength="100"
                                         value="#{manSuppliers.det_mai}"
                                         onfocus="this.select()"
                                         />
                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtsup" var="vSup" 
                                 value="#{manSuppliers.proveedores}" 
                                 emptyMessage="No result founds" 
                                 selectionMode="single" selection="#{manSuppliers.catproveedores}" 
                                 rowKey="#{vSup.cod_pro}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="170"
                                 style="width:500px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manSuppliers.onRowSelect}" 
                                update=":frmSup"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:160px" headerText="Supplier">
                            <h:outputText value="#{vSup.nom_pro}" />
                        </p:column>
                        <p:column style="width:80px" headerText="Contact Person">
                            <h:outputText value="#{vSup.per_con}" />
                        </p:column>
                        <p:column style="width:80px" headerText="Contact Phone">
                            <h:outputText value="#{vSup.tel_con}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        *************** Pantalla mantenimiento de Equipos **********************
        *********************************************************************-->

        <p:dialog  id="dlgequipos" widgetVar="wEquipos" modal="true" 
                   width="650" height="500" closable="false" resizable="false" 
                   header="Equipments Type" rendered="true" 
                   dynamic="false" visible="false" responsive="true" 
                   >
            <h:form id="frmEquipos"> 
                <p:growl id="msgEquipos" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="New" style=" width: 100px;"
                                         actionListener="#{manEquipos.nuevo()}"
                                         update=":frmEquipos"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Save" style=" width: 100px;"
                                         actionListener="#{manEquipos.guardar()}"
                                         update=":frmEquipos"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Save" 
                                       message="Do you really want to save this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Delete" style=" width: 100px;"
                                         actionListener="#{manEquipos.eliminar()}"
                                         update=":frmEquipos"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Delete" 
                                       message="Do you really delete this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Close" style=" width: 100px;"
                                         onclick="PF('wEquipos').hide()"
                                         actionListener="#{manEquipos.cerrarventana()}"
                                         update=":frmEquipos"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color: #ebf8fe;">
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:panelGroup>
                                <p:focus for="cmbequ" />
                                <h:panelGrid columns="2" cellpadding="5">
                                    <h:outputText value="Brand" style="font-weight:bold;" />
                                    <p:selectOneMenu id="cmbequ" value="#{manEquipos.cod_mar}" style=" width: 150px;" autoWidth="false">
                                        <f:selectItem itemLabel="Select one" itemValue="0"/>
                                        <f:selectItems value="#{manEquipos.marcas}" var="vmarcaequ"
                                                       itemLabel="#{vmarcaequ.nom_mar}" itemValue="#{vmarcaequ.id_mar}"/> 
                                    </p:selectOneMenu>
                                    <h:outputText value="Reference" style="font-weight:bold;"/>
                                    <p:inputText  
                                        size="50"
                                        maxlength="30"
                                        value="#{manEquipos.cod_ref}"
                                        onfocus="this.select()"
                                        />
                                    <h:outputText value="Name" style="font-weight:bold;"/>
                                    <p:inputText  
                                        size="50"
                                        maxlength="50"
                                        value="#{manEquipos.nom_equ}"
                                        onfocus="this.select()"
                                        />
                                    <h:outputText value="Description" style="font-weight:bold;"/>
                                    <p:inputText size="50"
                                                 maxlength="150"
                                                 value="#{manEquipos.des_equ}"
                                                 onfocus="this.select()"
                                                 />
                                </h:panelGrid>
                            </h:panelGroup>
                            <p:graphicImage id="imgequ" 
                                            value="#{manEquipos.mimagen}" 
                                            cache="false" width="140" height="#{manEquipos.mheight}" />
                        </h:panelGrid>
                        <p:fileUpload id="fupequ" 
                                      fileUploadListener="#{manEquipos.upload}" 
                                      mode="advanced" dragDropSupport="true"
                                      fileLimit="1" 
                                      allowTypes="/(\.|\/)(jpg|JPG|jepg|JEPG|gif|GIF|png|PNG)$/" 
                                      update=":frmEquipos:msgEquipos,:frmEquipos:imgequ"
                                      label="Select Image" 
                                      cancelLabel="Cancel" 
                                      uploadLabel="Upload" 
                                      auto="true"
                                      />
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtequ" var="vEqu" 
                                 value="#{manEquipos.equipos}" 
                                 emptyMessage="No results found" 
                                 selectionMode="single" selection="#{manEquipos.catequipos}" 
                                 rowKey="#{vEqu.cod_equ}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="170"
                                 style="width:590px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manEquipos.onRowSelect}" 
                                update=":frmEquipos"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:60px" headerText="Reference">
                            <h:outputText value="#{vEqu.cod_ref}" />
                        </p:column>
                        <p:column style="width:80px" headerText="Brand">
                            <h:outputText value="#{vEqu.marca}" />
                        </p:column>
                        <p:column style="width:160px" headerText="Name">
                            <h:outputText value="#{vEqu.nom_equ}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ************************ Pantalla Solicitudes **************************
        *********************************************************************-->

        <p:dialog  id="dlgSol" widgetVar="wSol" modal="true" 
                   width="800" height="480" closable="false" resizable="false" 
                   header="New Purchase Order" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmSol"> 
                <p:growl id="msgSol" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="New" style=" width: 100px;"
                                         actionListener="#{manSolicitudes.nuevo()}"
                                         update=":frmSol"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Save" style=" width: 100px;"
                                         actionListener="#{manSolicitudes.guardar()}"
                                         update=":frmSol"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Save" 
                                       message="Do you really want to save this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Modify" style=" width: 100px;"
                                         onclick="PF('wSearch').show()"
                                         actionListener="#{manSolicitudes.iniciarventanasearch()}"
                                         update=":frmSearch"
                                         icon="ui-icon-search"
                                         />

                    </f:facet>
                    <f:facet name="right">
                        <p:commandButton value="Close" style=" width: 100px;"
                                         onclick="PF('wSol').hide()"
                                         actionListener="#{manSolicitudes.cerrarventana()}"
                                         update=":frmSol"
                                         icon="ui-icon-close"
                                         />
                    </f:facet>

                </p:toolbar>
                <p:tabView activeIndex="#{manSolicitudes.tabindex}">
                    <p:ajax event="tabChange" listener="#{manSolicitudes.onTabChange}" />
                    <p:tab id="tabgensol" title="General">
                        <div style=" background-color: #ebf8fe;">
                            <p:focus for="fecing" />
                            <h:panelGrid columns="4" cellpadding="5">
                                <h:outputText value="Date" style="font-weight:bold;"/>
                                <h:outputText value="Ordered by" style="font-weight:bold;"/>
                                <h:outputText value="Country" style="font-weight:bold;"/>
                                <h:outputText value="Coded Item" style="font-weight:bold;"/>
                                <p:calendar  pattern="dd/MMM/yyyy" id="fecing"
                                             readonlyInput="true" 
                                             showOn="button" size="16"
                                             value="#{manSolicitudes.mfecha}"
                                             navigator="true"
                                             >
                                    <p:ajax event="dateSelect" listener="#{manSolicitudes.dateSelected}" />
                                </p:calendar> 
                                <p:selectOneMenu value="#{manSolicitudes.cod_usu_sol}" 
                                                 style="width:180px;text-align:right;"
                                                 immediate="false"
                                                 disabled="#{manSeguridad.disableOpt('comboSolicitanteSol')}" 
                                                 autoWidth="false"
                                                 >  
                                    <f:selectItem itemLabel="Select one" itemValue="0" />  
                                    <f:selectItems value="#{manSolicitudes.usuarios}" var="solususol"
                                                   itemLabel="#{solususol.det_nom}" itemValue="#{solususol.cod_usu}"/>
                                </p:selectOneMenu>
                                <p:selectOneMenu value="#{manSolicitudes.cod_pai}" 
                                                 style="width:200px;text-align:right;"
                                                 immediate="false"
                                                 disabled="#{manSeguridad.disableOpt('comboPaisSol')}" 
                                                 autoWidth="false"
                                                 >  
                                    <p:ajax event="change" listener="#{manSolicitudes.onChangePais()}" 
                                            />
                                    <f:selectItem itemLabel="Select one" itemValue="0" />  
                                    <f:selectItems value="#{manSolicitudes.paises}" var="solpai"
                                                   itemLabel="#{solpai.nom_pai}" itemValue="#{solpai.cod_pai}"/>
                                </p:selectOneMenu>
                                <p:selectOneMenu value="#{manSolicitudes.det_non_sto}" 
                                                 style="width:80px;text-align:right;"
                                                 immediate="false"
                                                 autoWidth="false"
                                                 disabled="true"
                                                 >
                                    <p:ajax event="change" listener="#{manSolicitudes.onChangeNonStock()}" update="somitesol,desitem"/>
                                    <f:selectItem  itemLabel="No" itemValue="0" />
                                    <f:selectItem  itemLabel="Yes" itemValue="1" />
                                </p:selectOneMenu>

                            </h:panelGrid>    
                            <h:panelGrid columns="1" cellpadding="5">
                                <h:outputText value="Comments " style="font-weight:bold;"/>
                                <p:inputTextarea rows="1"
                                                 cols="105"
                                                 maxlength="150"
                                                 value="#{manSolicitudes.det_obs}"
                                                 onfocus="this.select()"
                                                 />
                            </h:panelGrid>
                            <h:panelGrid columns="4" cellpadding="5">
                                <h:outputText value="Quantity" style="font-weight:bold;"/>
                                <h:outputText value="Part Number" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <p:inputText size="11"
                                             maxlength="11"
                                             value="#{manSolicitudes.det_det_can_sol}"
                                             onfocus="this.select()"
                                             id="canitem"
                                             />
                                <p:selectOneMenu value="#{manSolicitudes.det_cod_ite}" 
                                                 style="width:500px;text-align:right;"
                                                 immediate="false"
                                                 id="somitesol"
                                                 disabled="#{manSolicitudes.boolNS}"
                                                 filter="true"
                                                 filterMatchMode="contains"
                                                 autoWidth="false"
                                                 >
                                    <f:selectItem  itemLabel="Select one" itemValue="0" />
                                    <f:selectItems value="#{manSolicitudes.piezas}" var="solpie"
                                                   itemLabel="#{solpie.cod_ref} - #{solpie.nom_pie}" itemValue="#{solpie.cod_pie}"/>
                                </p:selectOneMenu>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>

                                <h:outputText value="" style="font-weight:bold;"/>
                                <h:outputText value="Description Miscellaneous Part" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <p:inputText size="80"
                                             maxlength="150"
                                             value="#{manSolicitudes.det_des_ite}"
                                             onfocus="this.select()"
                                             id="desitem"
                                             disabled="#{!manSolicitudes.boolNS}"
                                             />
                                <p:commandButton icon="ui-icon-plus" 
                                                 title="Add Detail" 
                                                 style=" width: 30px; height: 20px;" 
                                                 actionListener="#{manSolicitudes.agregardetalle()}"
                                                 update=":frmSol:dtSol,:frmSol:msgSol,canitem,desitem"
                                                 />
                                <p:commandButton icon="ui-icon-minus" 
                                                 title="Remove Detail" 
                                                 style=" width: 30px; height: 20px;" 
                                                 actionListener="#{manSolicitudes.eliminardetalle()}" 
                                                 update=":frmSol:dtSol,:frmSol:msgSol,canitem,desitem"/>
                            </h:panelGrid>    
                        </div>
                    </p:tab>


                </p:tabView>
                <p:panel>
                    <p:dataTable id="dtSol" var="vSol" 
                                 value="#{manSolicitudes.detalles}" 
                                 emptyMessage="No results found" 
                                 selectionMode="single" 
                                 selection="#{manSolicitudes.catdetalles}" 
                                 rowKey="#{vSol.cod_det}"
                                 editable="false" 
                                 style="width:740px"
                                 scrollable="true"
                                 scrollHeight="80"
                                 >
                        <p:ajax event="rowSelect" listener="#{manSolicitudes.onRowSelect}" 
                                update=":frmSol"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:70px;" headerText="Country">
                            <h:outputText value="#{vSol.nompai}" />
                        </p:column>
                        <p:column style="width:50px;" headerText="Quantity">
                            <h:outputText value="#{vSol.det_can_sol}" />
                        </p:column>
                        <p:column style="width:250px" headerText="Description Item">
                            <h:outputText value="#{vSol.des_ite}" />
                        </p:column>

                    </p:dataTable>
                </p:panel>

            </h:form>
        </p:dialog>

        <p:dialog  id="dlgSearch" widgetVar="wSearch" modal="true" 
                   width="770" height="300" closable="false" resizable="false" 
                   header="Search Purchase Order" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmSearch"> 
                <p:growl id="msgSearch" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="right">
                        <p:commandButton value="Close" style=" width: 100px;"
                                         onclick="PF('wSearch').hide()"
                                         actionListener="#{manSolicitudes.cerrarventanasearch()}"
                                         update=":frmSearch"
                                         icon="ui-icon-close"
                                         />
                    </f:facet>
                </p:toolbar>
                <p:panel>
                    <p:dataTable id="dtSearch" var="vSearch" 
                                 value="#{manSolicitudes.maestro}" 
                                 emptyMessage="No results found" 
                                 selectionMode="single" 
                                 selection="#{manSolicitudes.catmaestro}" 
                                 rowKey="#{vSearch.cod_mae}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="200" 
                                 style="width:720px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manSolicitudes.onRowSelectsearch}" 
                                update=":frmSearch"/>


                        <p:column style="width:60px;" headerText="Date">
                            <h:outputText value="#{vSearch.fec_sol}" />
                        </p:column>
                        <p:column style="width:30px;" headerText="Part Number">
                            <h:outputText value="#{vSearch.cod_mae}" />
                        </p:column>
                        <p:column style="width:100px" headerText="Country">
                            <h:outputText value="#{vSearch.nompai}" />
                        </p:column>
                        <p:column style="width:200px" headerText="Comments">
                            <h:outputText value="#{vSearch.det_obs}" />
                        </p:column>
                        <p:column style="width:100px" headerText="Ordered by">
                            <h:outputText value="#{vSearch.nomusu}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ******************* Pantalla Estado Solicitudes ************************
        *********************************************************************-->

        <p:dialog  id="dlgEstado" widgetVar="wEstado" modal="true" 
                   width="840" height="460" closable="false" resizable="false" 
                   header="Purchase Order Status" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmEstado"> 
                <p:growl id="msgEstado" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Refresh" style=" width: 100px;"
                                         actionListener="#{manEstado.iniciarventana()}"
                                         update=":frmEstado"
                                         icon="ui-icon-refresh"
                                         /> 
                        <p:commandButton value="Delete" style=" width: 100px;"
                                         actionListener="#{manEstado.eliminar()}"
                                         update=":frmEstado"
                                         icon="ui-icon-trash"
                                         > 
                            <p:confirm header="Delete" 
                                       message="Do you really want to delete this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>

                        <p:commandButton value="Close" style=" width: 100px;"
                                         onclick="PF('wEstado').hide()"
                                         actionListener="#{manEstado.cerrarventana()}"
                                         update=":frmEstado"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>

                </p:toolbar>

                <p:panel>
                    <p:dataTable id="dtEstado" var="vEstado" 
                                 value="#{manEstado.maestro}" 
                                 emptyMessage="No results found" 
                                 selectionMode="single" 
                                 selection="#{manEstado.catmaestro}" 
                                 rowKey="#{vEstado.cod_mae}"
                                 editable="false" 
                                 style="width:790px"
                                 scrollable="true"
                                 scrollHeight="120"
                                 >

                        <p:ajax event="rowSelect" listener="#{manEstado.onRowSelect}" 
                                update=":frmEstado"/>
                        <p:ajax event="rowUnselect" listener="#{manEstado.onRowUnselect}" 
                                update=":frmEstado"/>

                        <p:column style="width:40px;" headerText="Purchase Order">
                            <h:outputText value="#{vEstado.cod_mae}" />
                        </p:column>
                        <p:column style="width:60px;" headerText="Date">
                            <h:outputText value="#{vEstado.fec_sol}" />
                        </p:column>
                        <p:column style="width:100px" headerText="Country">
                            <h:outputText value="#{vEstado.nompai}" />
                        </p:column>
                        <p:column style="width:200px" headerText="Comments">
                            <h:outputText value="#{vEstado.det_obs}" />
                        </p:column>
                        <p:column style="width:130px" headerText="Status">
                            <h:outputText value="#{vEstado.det_sta}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>


                <p:panel>
                    <p:dataTable id="dtEstadoDet" var="vEsDet" 
                                 value="#{manEstado.detalles}" 
                                 emptyMessage="No results found" 
                                 selectionMode="single" 
                                 rowKey="#{vEsDet.cod_det}"
                                 editable="false" 
                                 style="width:790px"
                                 scrollable="true"
                                 scrollHeight="200"
                                 >
                        <p:ajax event="rowSelect" />
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:30px;" headerText="Requested Amount">
                            <h:outputText value="#{vEsDet.det_can_sol}" />
                        </p:column>
                        <p:column style="width:30px;" headerText="Delivered Qty.">
                            <h:outputText value="#{vEsDet.det_can_ent}" />
                        </p:column>
                        <p:column style="width:30px;" headerText="Pending Qty.">
                            <h:outputText value="#{vEsDet.det_can_pen}" />
                        </p:column>
                        <p:column style="width:250px" headerText="Item Description">
                            <h:outputText value="#{vEsDet.des_ite}" />
                        </p:column>
                        <p:column style="width:100px" headerText="Status">
                            <h:outputText value="#{vEsDet.det_sta}" />
                        </p:column>

                    </p:dataTable>
                </p:panel>

            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ***************** Pantalla Seguimiento Solicitudes *********************
        *********************************************************************-->

        <p:dialog  id="dlgSeguimiento" widgetVar="wSeguimiento" modal="true" 
                   width="900" height="500" closable="false" resizable="false" 
                   header="Tracking" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmSeguimiento"> 
                <p:growl id="msgSeguimiento" showDetail="true" life="8500"/>
                <p:tabView id="tabseguimientosol" activeIndex="#{manSeguimiento.tabindex}">
                    <p:ajax event="tabChange" listener="#{manSeguimiento.onTabChange}" />
                    <p:tab id="tabSegSol" title="Tracking">
                        <p:toolbar>
                            <f:facet name="left">
                                <p:commandButton value="Refresh" style=" width: 100px;"
                                                 actionListener="#{manSeguimiento.iniciarventana()}"
                                                 update=":frmSeguimiento"
                                                 icon="ui-icon-refresh"
                                                 /> 
                                <p:commandButton value="QB PO" 
                                                 style=" width: 100px;"
                                                 actionListener="#{manSeguimiento.recodificarmaestro()}"
                                                 update=":frmCodImp2"
                                                 icon="ui-icon-transferthick-e-w"
                                                 disabled="#{manSeguridad.disableOpt('botonSeguimientoSolRecodificar')}"
                                                 />

                                <p:commandButton value="Close" style=" width: 100px;"
                                                 onclick="PF('wSeguimiento').hide()"
                                                 actionListener="#{manSeguimiento.cerrarventana()}"
                                                 update=":frmSeguimiento"
                                                 icon="ui-icon-close"
                                                 />

                            </f:facet>
                        </p:toolbar>

                        <p:panel>
                            <p:dataTable id="dtSegui" var="vSegui" 
                                         value="#{manSeguimiento.maestro}" 
                                         emptyMessage="No results found" 
                                         selectionMode="single" selection="#{manSeguimiento.catmaestro}" 
                                         rowKey="#{vSegui.cod_mae}"
                                         editable="false" 
                                         style="width:800px;"
                                         scrollable="true"
                                         scrollHeight="70"
                                         >
                                <p:ajax event="rowSelect" listener="#{manSeguimiento.onRowSelect}" 
                                        update=":frmSeguimiento:tabseguimientosol:dtSeguiDet, :frmSeguimiento:tabseguimientosol:panentregas" />
                                <p:ajax event="rowUnselect" listener="#{manSeguimiento.onRowUnselect}" 
                                        update=":frmSeguimiento:tabseguimientosol:dtSeguiDet, :frmSeguimiento:tabseguimientosol:panentregas" />

                                <p:column style="width:40px;" headerText="PO ID">
                                    <h:outputText value="#{vSegui.cod_mae}" />
                                </p:column>
                                <p:column style="width:60px;" headerText="Date">
                                    <h:outputText value="#{vSegui.fec_sol}" />
                                </p:column>
                                <p:column style="width:70px;" headerText="Country">
                                    <h:outputText value="#{vSegui.nompai}" />
                                </p:column>
                                <p:column style="width:100px" headerText="Ordered by">
                                    <h:outputText value="#{vSegui.nomusu}" />
                                </p:column>
                                <p:column style="width:170px" headerText="Comments">
                                    <h:outputText value="#{vSegui.det_obs}" />
                                </p:column>
                                <p:column style="width:70px" headerText="Status">
                                    <h:outputText value="#{vSegui.det_sta}" />
                                </p:column>
                            </p:dataTable>
                        </p:panel>
                        <p:panel>
                            <p:dataTable id="dtSeguiDet" var="vSeguiDet" 
                                         value="#{manSeguimiento.detalles}" 
                                         emptyMessage="No Results found" 
                                         selectionMode="single" selection="#{manSeguimiento.catdetalles}" 
                                         rowKey="#{vSeguiDet.cod_det}"
                                         editable="false" 
                                         style="width:800px;"
                                         scrollable="true"
                                         scrollHeight="90"
                                         >
                                <p:ajax event="rowSelect" listener="#{manSeguimiento.onRowSelectDetalle}" 
                                        update=":frmSeguimiento:tabseguimientosol:panentregas" />
                                <p:ajax event="rowUnselect" listener="#{manSeguimiento.onRowUnselectDetalle}" 
                                        update=":frmSeguimiento:tabseguimientosol:panentregas" />

                                <p:column style="width:30px;" headerText="Requested Amount">
                                    <h:outputText value="#{vSeguiDet.det_can_sol}" />
                                </p:column>
                                <p:column style="width:30px;" headerText="Delivered Qty.">
                                    <h:outputText value="#{vSeguiDet.det_can_ent}" />
                                </p:column>
                                <p:column style="width:30px; background-color: #ff9999;" headerText="Pending Qty.">
                                    <h:outputText value="#{vSeguiDet.det_can_pen}" />
                                </p:column>
                                <p:column style="width:210px" headerText="Item Description">
                                    <h:outputText value="#{vSeguiDet.des_ite}" />
                                </p:column>
                                <p:column style="width:80px; background-color: #ff9999;" headerText="Status">
                                    <h:outputText value="#{vSeguiDet.det_sta}"/>
                                </p:column>

                            </p:dataTable>
                        </p:panel>
                        <p:panel id="panentregas">

                            <h:panelGrid columns="5" cellpadding="5">
                                <h:outputText value="Delivered Qty." style="font-weight:bold;"/>
                                <h:outputText value="Receipt Date" style="font-weight:bold;"/>
                                <h:outputText value="Destination" style="font-weight:bold;"/>
                                <h:outputText value="Document" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <p:inputText value="#{manSeguimiento.det_can_ent}" size="10" onfocus="this.select()" />
                                <p:calendar  pattern="dd/MMM/yyyy" id="fecreci"
                                             readonlyInput="true" 
                                             showOn="button" size="12"
                                             value="#{manSeguimiento.mfecha}"
                                             navigator="true"
                                             >
                                    <p:ajax event="dateSelect" listener="#{manSeguimiento.dateCieSelected}" />
                                </p:calendar>

                                <p:selectOneMenu value="#{manSeguimiento.destino}" 
                                                 style="width:200px;text-align:right;"
                                                 immediate="false"
                                                 autoWidth="false"
                                                 disabled="true"
                                                 >
                                    <p:ajax event="change" listener="#{manSeguimiento.onSelectDestino()}" 
                                            update="sompaiseg,sombodseg,somubiseg" />
                                    <f:selectItem  itemLabel="Warehouse" itemValue="1" />
                                </p:selectOneMenu>

                                <p:inputText value="#{manSeguimiento.vdocumento}" size="33" onfocus="this.select()" maxlength="50"/>
                                <p:commandButton value="Accept" style=" width: 100px;"
                                                 actionListener="#{manSeguimiento.guardarItem()}"
                                                 update=":frmSeguimiento"
                                                 icon="ui-icon-check"
                                                 disabled="#{manSeguridad.disableOpt('botonSeguimientoSolGuardar')}"
                                                 > 
                                    <p:confirm header="Save" 
                                               message="Do you really want to accept this delivery?" 
                                               icon="ui-icon-alert"/>
                                </p:commandButton>
                            </h:panelGrid>    
                            <h:panelGrid columns="4" cellpadding="5">
                                <h:outputText value="Country" style="font-weight:bold;"/>
                                <h:outputText value="Warehouse" style="font-weight:bold;"/>
                                <h:outputText value="Location" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>

                                <p:selectOneMenu value="#{manSeguimiento.cod_pai}" 
                                                 style="width:200px;text-align:right;"
                                                 immediate="false" id="sompaiseg"
                                                 filter="true"
                                                 filterMatchMode="contains"
                                                 autoWidth="false"
                                                 >
                                    <p:ajax event="change" listener="#{manSeguimiento.onSelectPais()}" update="sombodseg,somubiseg" />
                                    <f:selectItem  itemLabel="Select one" itemValue="0" />
                                    <f:selectItems value="#{manSeguimiento.paises}" var="solmpaisegui"
                                                   itemLabel="#{solmpaisegui.nom_pai}" itemValue="#{solmpaisegui.cod_pai}" />
                                </p:selectOneMenu>

                                <p:selectOneMenu value="#{manSeguimiento.cod_bod}" 
                                                 style="width:180px;text-align:right;"
                                                 immediate="false" id="sombodseg"

                                                 autoWidth="false"
                                                 >
                                    <p:ajax event="change" listener="#{manSeguimiento.onSelectBodega()}" update="somubiseg" />
                                    <f:selectItem  itemLabel="Select one" itemValue="0" />
                                    <f:selectItems value="#{manSeguimiento.bodegas}" var="solmbodsegui"
                                                   itemLabel="#{solmbodsegui.nom_bod}" itemValue="#{solmbodsegui.id_bod}" />
                                </p:selectOneMenu>
                                <p:selectOneMenu value="#{manSeguimiento.des_ubi}" 
                                                 style="width:195px;text-align:right;"
                                                 immediate="false" id="somubiseg"
                                                 filter="true"
                                                 filterMatchMode="contains"
                                                 editable="true"
                                                 autoWidth="false"
                                                 >
                                    <f:selectItems value="#{manSeguimiento.ubicaciones}" var="solmubisegui"
                                                   itemLabel="#{solmubisegui.descripcion}" itemValue="#{solmubisegui.codigo}" />
                                </p:selectOneMenu>

                                <p:commandButton value="Cancel" style=" width: 100px;"
                                                 actionListener="#{manSeguimiento.cancelarItem()}"
                                                 update=":frmSeguimiento"
                                                 icon="ui-icon-cancel"
                                                 disabled="#{manSeguridad.disableOpt('botonSeguimientoSolGuardar')}"
                                                 > 
                                    <p:confirm header="Cancel Delivery" 
                                               message="Do you really want to cancel this delivery?" 
                                               icon="ui-icon-alert"/>
                                </p:commandButton>


                            </h:panelGrid>
                        </p:panel>
                    </p:tab>
                    <p:tab id="tabAproSol" title="Approvals" disabled="#{manSeguridad.disableOpt('TabAprobacionesSol')}" >
                        <p:toolbar>
                            <f:facet name="left">
                                <p:commandButton value="Approve" style=" width: 100px;"
                                                 actionListener="#{manSeguimiento.aprobar()}"
                                                 update=":frmSeguimiento"
                                                 icon="ui-icon-circle-check"
                                                 disabled="#{manSeguridad.disableOpt('botonSeguimientoSolAprobar')}"
                                                 > 
                                    <p:confirm header="Approve" 
                                               message="Do you really want to approve this Purchase Order?" 
                                               icon="ui-icon-alert"/>
                                </p:commandButton>
                                <p:commandButton value="Deny" style=" width: 100px;"
                                                 actionListener="#{manSeguimiento.rechazar()}"
                                                 update=":frmSeguimiento"
                                                 icon="ui-icon-circle-close"
                                                 disabled="#{manSeguridad.disableOpt('botonSeguimientoSolDenegar')}"
                                                 > 
                                    <p:confirm header="Deny" 
                                               message="Do you really want to deny this purchase order?" 
                                               icon="ui-icon-alert"/>
                                </p:commandButton>

                                <p:commandButton value="Refresh" style=" width: 100px;"
                                                 actionListener="#{manSeguimiento.refrescarventana()}"
                                                 update=":frmSeguimiento"
                                                 icon="ui-icon-refresh"
                                                 />
                                <p:commandButton value="QB PO" 
                                                 style=" width: 100px;"
                                                 actionListener="#{manSeguimiento.limpiar()}"
                                                 update=":frmCodImp"
                                                 icon="ui-icon-transferthick-e-w"
                                                 disabled="#{manSeguridad.disableOpt('botonSeguimientoSolRecodificar')}"
                                                 />
                                <p:commandButton value="Close" style=" width: 100px;"
                                                 onclick="PF('wSeguimiento').hide()"
                                                 actionListener="#{manSeguimiento.cerrarventana()}"
                                                 update=":frmSeguimiento"
                                                 icon="ui-icon-close"
                                                 />


                            </f:facet>
                            <f:facet name="right">
                                <h:outputText value="Approved by:&nbsp;&nbsp;" style="font-weight:bold;"/>
                                <p:selectOneMenu value="#{manSeguimiento.aprobador}" 
                                                 style="width:180px;text-align:right;"
                                                 immediate="false"
                                                 disabled="#{manSeguridad.disableOpt('comboAprobadaPorSol')}" 
                                                 autoWidth="false"
                                                 >
                                    <f:selectItem  itemLabel="Select one" itemValue="0" />
                                    <f:selectItems value="#{manSeguimiento.aprobadores}" var="segapro"
                                                   itemLabel="#{segapro.det_nom}" itemValue="#{segapro.cod_usu}"/>
                                </p:selectOneMenu>
                            </f:facet>


                        </p:toolbar>

                        <p:panel>
                            <p:dataTable id="dtSeguiApr" var="vSeguiApr" 
                                         value="#{manSeguimiento.maestroaprobar}" 
                                         emptyMessage="No results found" 
                                         selectionMode="single" selection="#{manSeguimiento.catmaestroaprobar}" 
                                         rowKey="#{vSeguiApr.cod_mae}"
                                         editable="false" 
                                         style="width:810px;"
                                         scrollable="true"
                                         scrollHeight="100"
                                         >
                                <p:ajax event="rowSelect" listener="#{manSeguimiento.onRowAprobarSelect}" 
                                        update=":frmSeguimiento:tabseguimientosol:dtSeguiDetApr"/>
                                <p:ajax event="rowUnselect" listener="#{manSeguimiento.onRowAprobarUnselect}" 
                                        update=":frmSeguimiento:tabseguimientosol:dtSeguiDetApr"/>

                                <p:column style="width:20px;" headerText="PO ID">
                                    <h:outputText value="#{vSeguiApr.cod_mae}" />
                                </p:column>
                                <p:column style="width:50px;" headerText="Date">
                                    <h:outputText value="#{vSeguiApr.fec_sol}" />
                                </p:column>
                                <p:column style="width:90px;" headerText="Country">
                                    <h:outputText value="#{vSeguiApr.nompai}" />
                                </p:column>
                                <p:column style="width:110px" headerText="Ordered by">
                                    <h:outputText value="#{vSeguiApr.nomusu}" />
                                </p:column>
                                <p:column style="width:170px" headerText="Comments">
                                    <h:outputText value="#{vSeguiApr.det_obs}" />
                                </p:column>

                            </p:dataTable>
                        </p:panel>
                        <p:panel>
                            <p:dataTable id="dtSeguiDetApr" var="vSeguiDetApr" 
                                         value="#{manSeguimiento.detallesaprobar}" 
                                         emptyMessage="No results found" 
                                         selectionMode="single" 
                                         selection="#{manSeguimiento.catdetallesaprobar}" 
                                         rowKey="#{vSeguiDetApr.cod_det}"
                                         editable="false" 
                                         style="width:810px;"
                                         scrollable="true"
                                         scrollHeight="170"
                                         >

                                <p:column style="width:30px;" headerText="Requested Amount">
                                    <h:outputText value="#{vSeguiDetApr.det_can_sol}" />
                                </p:column>
                                <p:column style="width:250px" headerText="Item Description">
                                    <h:outputText value="#{vSeguiDetApr.des_ite}" />
                                </p:column>
                                <p:column style="width:80px;" headerText="Status">
                                    <h:outputText value="#{vSeguiDetApr.det_sta}"/>
                                </p:column>



                            </p:dataTable>
                        </p:panel>
                    </p:tab>
                    <p:tab id="tabHistoSol" title="History">
                        <p:toolbar>
                            <f:facet name="left">

                                <h:panelGrid columns="4" cellpadding="3">
                                    <h:outputText value="PO ID:" style="font-weight:bold;" />
                                    <p:inputText value="#{manSeguimiento.idbuscar}" size="25" placeholder="PO Id's separated by comma." />
                                    <p:commandButton value="Search" style=" width: 100px;"
                                                     actionListener="#{manSeguimiento.llenarMaestroHistoria()}"
                                                     update=":frmSeguimiento"
                                                     icon="ui-icon-search"
                                                     disabled="#{manSeguridad.disableOpt('botonSeguimientoSolConsultar')}"
                                                     /> 

                                    <p:commandButton value="Close" style=" width: 100px;"
                                                     onclick="PF('wSeguimiento').hide()"
                                                     actionListener="#{manSeguimiento.cerrarventana()}"
                                                     update=":frmSeguimiento"
                                                     icon="ui-icon-close"
                                                     />
                                </h:panelGrid>

                            </f:facet>

                        </p:toolbar>

                        <p:panel>
                            <p:dataTable id="dtHistoricos" var="vHistoricos" 
                                         value="#{manSeguimiento.maestrohistoria}" 
                                         emptyMessage="No results found" 
                                         selectionMode="single" selection="#{manSeguimiento.catmaestrohistoria}" 
                                         rowKey="#{vHistoricos.cod_mae}"
                                         editable="false" 
                                         style="width:800px"
                                         scrollable="true"
                                         scrollHeight="100"
                                         >

                                <p:ajax event="rowSelect" listener="#{manSeguimiento.onRowHistoriaSelect}" 
                                        update=":frmSeguimiento:tabseguimientosol:dtHistoricasDet"/>
                                <p:ajax event="rowUnselect" listener="#{manSeguimiento.onRowHistoriaUnselect}" 
                                        update=":frmSeguimiento:tabseguimientosol:dtHistoricasDet"/>

                                <p:column style="width:30px;" headerText="PO ID">
                                    <h:outputText value="#{vHistoricos.cod_mae}" />
                                </p:column>
                                <p:column style="width:30px;" headerText="QB ID">
                                    <h:outputText value="#{vHistoricos.cod_alt}" />
                                </p:column>
                                <p:column style="width:60px;" headerText="Date">
                                    <h:outputText value="#{vHistoricos.fec_sol}" />
                                </p:column>
                                <p:column style="width:70px;" headerText="Country">
                                    <h:outputText value="#{vHistoricos.nompai}" />
                                </p:column>
                                <p:column style="width:90px" headerText="Requested by">
                                    <h:outputText value="#{vHistoricos.nomusu}" />
                                </p:column>
                                <p:column style="width:180px" headerText="Comments">
                                    <h:outputText value="#{vHistoricos.det_obs}" />
                                </p:column>
                                <p:column style="width:70px" headerText="Status">
                                    <h:outputText value="#{vHistoricos.det_sta}" />
                                </p:column>
                            </p:dataTable>
                        </p:panel>


                        <p:panel>
                            <p:dataTable id="dtHistoricasDet" var="vHistoricasDet" 
                                         value="#{manSeguimiento.detalleshistoria}" 
                                         emptyMessage="No results found" 
                                         selectionMode="single" selection="#{manSeguimiento.catdetalleshistoria}" 
                                         rowKey="#{vHistoricasDet.cod_det}"
                                         editable="false" 
                                         style="width:800px"
                                         scrollable="true"
                                         scrollHeight="140"
                                         >

                                <p:ajax event="rowSelect" listener="#{manSeguimiento.onRowHistoriaDetalleSelect}" 
                                        />
                                <p:ajax event="rowUnselect" listener="#{manSeguimiento.onRowHistoriaDetalleUnselect}" 
                                        />

                                <p:column style="width:30px;" headerText="Requested Amount">
                                    <h:outputText value="#{vHistoricasDet.det_can_sol}" />
                                </p:column>
                                <p:column style="width:30px;" headerText="Delivered Qty.">
                                    <h:outputText value="#{vHistoricasDet.det_can_ent}" />
                                </p:column>
                                <p:column style="width:30px;" headerText="Date">
                                    <h:outputText value="#{vHistoricasDet.fec_cie}" />
                                </p:column>
                                <p:column style="width:250px" headerText="Item Description">
                                    <h:outputText value="#{vHistoricasDet.des_ite}" />
                                </p:column>
                                <p:column style="width:80px;" headerText="Status">
                                    <h:outputText value="#{vHistoricasDet.det_sta}"/>
                                </p:column>

                            </p:dataTable>
                        </p:panel>
                        <p:panel>
                            <div align="right">
                                <p:commandButton value="Undo" 
                                                 icon="ui-icon-arrowreturnthick-1-w" 
                                                 style="width: 100px;"
                                                 actionListener="#{manSeguimiento.deshacer()}"
                                                 update=":frmSeguimiento"
                                                 />
                            </div>
                        </p:panel>   

                    </p:tab>
                </p:tabView>
            </h:form>
        </p:dialog>

        <p:dialog  id="dlgCodImp" widgetVar="wCodImp" modal="true" 
                   width="380" height="130" closable="false" resizable="false" 
                   header="Print" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmCodImp"> 
                <p:growl id="msgCodImp" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <h:panelGrid columns="3" cellpadding="3">
                            <p:commandButton value="Save" style=" width: 100px;"
                                             icon="ui-icon-disk"
                                             actionListener="#{manSeguimiento.editarcodimp()}"
                                             update=":frmCodImp"
                                             ajax="true" 
                                             />
                            <p:commandButton value="Print" 
                                             style=" width: 100px; height: 21px;"
                                             actionListener="#{manSeguimiento.ejecutarreporte()}"
                                             onclick="this.form.target = '_blank'"
                                             ajax="false" 
                                             />
                            <p:commandButton value="Close" style=" width: 100px;"
                                             onclick="PF('wCodImp').hide()"
                                             icon="ui-icon-close"
                                             actionListener="#{manSeguimiento.cerrarcodimp()}"
                                             update=":frmSeguimiento"
                                             ajax="true" 
                                             />
                        </h:panelGrid>
                    </f:facet>
                </p:toolbar>
                <p:panel>
                    <h:panelGrid columns="2" cellpadding="5">
                        <h:outputText value="Quickbooks PO ID:" style="font-weight:bold;" />
                        <p:inputText value="#{manSeguimiento.cod_alt}" size="20" />
                    </h:panelGrid>
                </p:panel>
            </h:form>
        </p:dialog>

        <p:dialog  id="dlgCodImp2" widgetVar="wCodImp2" modal="true" 
                   width="380" height="130" closable="false" resizable="false" 
                   header="Print" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmCodImp2"> 
                <p:growl id="msgCodImp2" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <h:panelGrid columns="3" cellpadding="3">
                            <p:commandButton value="Save" style=" width: 100px;"
                                             icon="ui-icon-disk"
                                             actionListener="#{manSeguimiento.editarcodimpmaestro()}"
                                             update=":frmCodImp2"
                                             ajax="true" 
                                             />
                            <p:commandButton value="Print" 
                                             style=" width: 100px; height: 21px;"
                                             actionListener="#{manSeguimiento.ejecutarreporte2()}"
                                             onclick="this.form.target = '_blank'"
                                             ajax="false" 
                                             />
                            <p:commandButton value="Close" style=" width: 100px;"
                                             onclick="PF('wCodImp2').hide()"
                                             icon="ui-icon-close"
                                             actionListener="#{manSeguimiento.cerrarcodimpmaestro()}"
                                             update=":frmSeguimiento"
                                             ajax="true" 
                                             />
                        </h:panelGrid>
                    </f:facet>
                </p:toolbar>
                <p:panel>
                    <h:panelGrid columns="2" cellpadding="5">
                        <h:outputText value="Quickbooks PO ID:" style="font-weight:bold;" />
                        <p:inputText value="#{manSeguimiento.cod_alt}" size="20" />
                    </h:panelGrid>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ************************* Pantalla Lista Equipos ***********************
        *********************************************************************-->

        <p:dialog  id="dlgListaEquipos" widgetVar="wListaEquipos" modal="true" 
                   width="850" height="500" closable="false" resizable="false" 
                   header="Equipments" rendered="true" 
                   dynamic="true" visible="false"  
                   >
            <h:form id="frmListaEquipos">
                <p:growl id="msgListaEquipos" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="New" style=" width: 100px;"
                                         actionListener="#{manListaEquipos.nuevo()}"
                                         update=":frmListaEquipos"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Save" style=" width: 100px;"
                                         actionListener="#{manListaEquipos.guardar()}"
                                         update=":frmListaEquipos"
                                         icon="ui-icon-disk"
                                         disabled="#{manSeguridad.disableOpt('botonLisEquGuardar')}"
                                         > 
                            <p:confirm header="Save" 
                                       message="Do you really want to save this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Delete" style=" width: 100px;"
                                         actionListener="#{manListaEquipos.eliminar()}"
                                         update=":frmListaEquipos"
                                         icon="ui-icon-trash"
                                         disabled="#{manSeguridad.disableOpt('botonLisEquEliminar')}"
                                         >
                            <p:confirm header="Delete" 
                                       message="Do you really want to delete this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="File" icon="ui-icon-print"
                                         style=" width: 100px;"
                                         onclick="this.form.target = '_blank';" 
                                         action="#{manListaEquipos.ejecutarreporte()}"
                                         disabled="#{manSeguridad.disableOpt('botonLisEquImprimir')}"
                                         ajax="false"/>

                    </f:facet>
                    <f:facet name="right">
                        <p:commandButton value="Close" style=" width: 100px;"
                                         onclick="PF('wListaEquipos').hide()"
                                         actionListener="#{manListaEquipos.cerrarventana()}"
                                         update=":frmListaEquipos"
                                         icon="ui-icon-close"
                                         />
                    </f:facet>
                </p:toolbar>

                <p:tabView id="tvLE" activeIndex="#{manListaEquipos.tabindex}">
                    <p:ajax event="tabChange" listener="#{manListaEquipos.onTabChange}" />
                    <p:tab title="List" id="tabLista">
                        <p:dataTable id="dtSLE" var="vSLE" 
                                     value="#{manListaEquipos.lequipos}" 
                                     emptyMessage="No results found" 
                                     selectionMode="single" selection="#{manListaEquipos.catlistaequipos}" 
                                     rowKey="#{vSLE.cod_lis_equ}"
                                     editable="false"
                                     scrollable="true"
                                     scrollHeight="300"
                                     style="width:790px"
                                     widgetVar="wvSLE"
                                     >
                            <f:facet name="header">
                                <p:outputPanel style=" text-align: right;">
                                    <h:panelGroup>
                                        <h:outputText value="Filter:&nbsp;&nbsp;" />
                                        <p:inputText style="width:300px;" 
                                                     placeholder="Equipment, Serial, Client"
                                                     value="#{manListaEquipos.bfiltro}" 
                                                     />
                                        <h:outputText value="&nbsp;&nbsp;" />
                                        <p:commandButton value="Go" style="width:50px;" 
                                                         update=":frmListaEquipos"
                                                         actionListener="#{manListaEquipos.llenarLequiposFiltro()}"
                                                         />
                                    </h:panelGroup>

                                </p:outputPanel>
                            </f:facet>
                            <p:ajax event="rowSelect" listener="#{manListaEquipos.onRowSelectListaEquipo}" 
                                    update=":frmListaEquipos"/>
                            <p:column style="width:40px" headerText="Country" >
                                <h:outputText value="#{vSLE.nompai}" />
                            </p:column>
                            <p:column style="width:60px;" headerText="Equipment Type" >
                                <h:outputText value="#{vSLE.nomequ}" />
                            </p:column>
                            <p:column style="width:60px;" headerText="Serial" >
                                <h:outputText value="#{vSLE.num_ser}" />
                            </p:column>
                            <p:column style="width:110px" headerText="Client" >
                                <h:outputText value="#{vSLE.nomcli}" />
                            </p:column>

                        </p:dataTable>

                        <h:panelGrid columns="2" cellpadding="5" >
                            <h:outputText value="Country" style="font-weight:bold;"/>
                            <p:selectOneMenu value="#{manListaEquipos.bpais}" 
                                             style=" width: 250px;"
                                             autoWidth="false"
                                             disabled="#{manSeguridad.disableOpt('adminpass')}"
                                             filter="true"
                                             filterMatchMode="contains"
                                             >
                                <p:ajax event="change" listener="#{manListaEquipos.llenarLequipos()}" update="dtSLE" />
                                <f:selectItem itemLabel="All" itemValue="0"/>
                                <f:selectItems value="#{manListaEquipos.paises}" var="sompailstequ"
                                               itemLabel="#{sompailstequ.nom_pai}" itemValue="#{sompailstequ.cod_pai}"/> 
                            </p:selectOneMenu>
                        </h:panelGrid>

                    </p:tab>

                    <p:tab title="General" id="tabGeneral">
                        <div style=" background-color: #ebf8fe;">
                            <p:focus for="cmbEquipolis" />
                            <p:panel header="Identification">
                                <h:panelGrid columns="4" cellpadding="5">
                                    <h:outputText value="Equipment" style="font-weight:bold;"/>
                                    <h:outputText value="Country" style="font-weight:bold;"/>
                                    <h:outputText value="Manufacturer" style="font-weight:bold;"/>
                                    <h:outputText value="Client" style="font-weight:bold;"/>
                                    <p:selectOneMenu id ="cmbEquipolis" value="#{manListaEquipos.cod_equ}" 
                                                     style=" width: 150px;"
                                                     filter="true" filterMatchMode="contains" 
                                                     autoWidth="false"
                                                     >
                                        <f:selectItem itemLabel="Select one" itemValue="0"/>
                                        <f:selectItems value="#{manListaEquipos.equipos}" var="lstequ"
                                                       itemLabel="#{lstequ.nom_equ}" itemValue="#{lstequ.cod_equ}"/> 
                                    </p:selectOneMenu>
                                    <p:selectOneMenu value="#{manListaEquipos.cod_pai}" 
                                                     style=" width: 150px;"
                                                     autoWidth="false"
                                                     disabled="#{manSeguridad.disableOpt('adminpass')}"
                                                     >
                                        <p:ajax event="change" listener="#{manListaEquipos.onPaisChange()}" update="somproequ,somcliequ" />
                                        <f:selectItem itemLabel="Select one" itemValue="0"/>
                                        <f:selectItems value="#{manListaEquipos.paises}" var="lstequpai"
                                                       itemLabel="#{lstequpai.nom_pai}" itemValue="#{lstequpai.cod_pai}"/> 
                                    </p:selectOneMenu>
                                    <p:selectOneMenu  value="#{manListaEquipos.cod_pro}" 
                                                      style=" width: 150px;" id="somproequ"
                                                      autoWidth="false"
                                                      >
                                        <f:selectItem itemLabel="Select one" itemValue="0"/>
                                        <f:selectItems value="#{manListaEquipos.proveedores}" var="lstpro"
                                                       itemLabel="#{lstpro.nom_pro}" itemValue="#{lstpro.cod_pro}"/> 
                                    </p:selectOneMenu>
                                    <p:selectOneMenu  value="#{manListaEquipos.cod_cli}" 
                                                      style=" width: 150px;"  id="somcliequ"
                                                      autoWidth="false"
                                                      disabled="#{manSeguridad.disableOpt('adminpass')}"
                                                      >
                                        <f:selectItem itemLabel="Select one" itemValue="0"/>
                                        <f:selectItems value="#{manListaEquipos.clientes}" var="lstcli"
                                                       itemLabel="#{lstcli.nom_cli}" itemValue="#{lstcli.cod_cli}"/> 
                                    </p:selectOneMenu>

                                    <h:outputText value="Model" style="font-weight:bold;"/>
                                    <h:outputText value="Serial No." style="font-weight:bold;"/>
                                    <h:outputText value="Description" style="font-weight:bold;"/>
                                    <h:outputText value="Location" style="font-weight:bold;"/>
                                    <p:inputText size="25"
                                                 maxlength="25"
                                                 value="#{manListaEquipos.num_mod}"
                                                 onfocus="this.select()"
                                                 />
                                    <p:inputText size="25"
                                                 maxlength="25"
                                                 value="#{manListaEquipos.num_ser}"
                                                 onfocus="this.select()"
                                                 disabled="#{manSeguridad.disableOpt('adminpass')}"
                                                 />
                                    <p:inputText size="25"
                                                 maxlength="25"
                                                 value="#{manListaEquipos.des_equ}"
                                                 onfocus="this.select()"
                                                 />
                                    <p:inputText size="25"
                                                 maxlength="25"
                                                 value="#{manListaEquipos.des_ubi}"
                                                 onfocus="this.select()"
                                                 />
                                </h:panelGrid>
                            </p:panel>
                            <p:panel header="Warranty">
                                <h:panelGrid columns="5" cellpadding="5">
                                    <h:outputText value="Start Date" style="font-weight:bold;"/>
                                    <h:outputText value="" style="font-weight:bold;"/>
                                    <h:outputText value="End Date" style="font-weight:bold;"/>
                                    <h:outputText value="" style="font-weight:bold;"/>
                                    <h:outputText value="Comments" style="font-weight:bold;"/>
                                    <p:calendar  pattern="dd/MMM/yyyy"  
                                                 readonlyInput="true" showOn="button" size="10"
                                                 style="width: 10px"
                                                 value="#{manListaEquipos.dfecini}" 
                                                 disabled="#{!manListaEquipos.edfecini}"
                                                 id="ledfecini"
                                                 navigator="true"
                                                 >
                                        <p:ajax event="dateSelect" listener="#{manListaEquipos.dateSelectedFecgarini}" />
                                    </p:calendar>
                                    <p:selectBooleanCheckbox value="#{manListaEquipos.edfecini}" >
                                        <p:ajax event="change" update="ledfecini"  />
                                    </p:selectBooleanCheckbox>
                                    <p:calendar  pattern="dd/MMM/yyyy" 
                                                 readonlyInput="true" showOn="button" size="10"
                                                 style="width: 10px"
                                                 value="#{manListaEquipos.dfecini}"
                                                 disabled="#{!manListaEquipos.edfecfin}"
                                                 id="ledfecfin"
                                                 navigator="true"
                                                 >
                                        <p:ajax event="dateSelect" listener="#{manListaEquipos.dateSelectedFecgarfin}" />
                                    </p:calendar>
                                    <p:selectBooleanCheckbox value="#{manListaEquipos.edfecfin}" >
                                        <p:ajax event="change" update="ledfecfin"  />
                                    </p:selectBooleanCheckbox>
                                    <p:inputTextarea cols="65"
                                                     rows="2"
                                                     maxlength="200"
                                                     value="#{manListaEquipos.gar_obs}"
                                                     onfocus="this.select()"
                                                     />
                                </h:panelGrid>
                            </p:panel>
                        </div>
                    </p:tab>
                    <p:tab title="History" id="tabHistoria">
                        <div style=" background-color: #ebf8fe;">
                            <h:panelGrid columns="8" cellpadding="5">
                                <h:outputText value="Manufacture" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <h:outputText value="Purchase" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <h:outputText value="Acquisition" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <h:outputText value="Commission" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <p:calendar  pattern="dd/MMM/yyyy"  
                                             readonlyInput="true" showOn="button" size="10"
                                             style="width: 10px"
                                             value="#{manListaEquipos.dfecfab}"
                                             disabled="#{!manListaEquipos.edfecfab}"
                                             id="ledfecfab"
                                             navigator="true"
                                             >
                                    <p:ajax event="dateSelect" listener="#{manListaEquipos.dateSelectedFecfab}" />
                                </p:calendar> 
                                <p:selectBooleanCheckbox value="#{manListaEquipos.edfecfab}" >
                                    <p:ajax event="change" update="ledfecfab"  />
                                </p:selectBooleanCheckbox>
                                <p:calendar  pattern="dd/MMM/yyyy" 
                                             readonlyInput="true" showOn="button" size="10"
                                             style="width: 10px"
                                             value="#{manListaEquipos.dfeccom}"
                                             disabled="#{!manListaEquipos.edfeccom}"
                                             id="ledfeccom"
                                             navigator="true"
                                             >
                                    <p:ajax event="dateSelect" listener="#{manListaEquipos.dateSelectedFeccom}" />
                                </p:calendar>
                                <p:selectBooleanCheckbox value="#{manListaEquipos.edfeccom}" >
                                    <p:ajax event="change" update="ledfeccom"  />
                                </p:selectBooleanCheckbox>
                                <p:calendar  pattern="dd/MMM/yyyy" 
                                             readonlyInput="true" showOn="button" size="10"
                                             style="width: 10px"
                                             value="#{manListaEquipos.dfecadq}"
                                             disabled="#{!manListaEquipos.edfecadq}"
                                             id="ledfecadq"
                                             navigator="true"
                                             >
                                    <p:ajax event="dateSelect" listener="#{manListaEquipos.dateSelectedFecadq}" />
                                </p:calendar>
                                <p:selectBooleanCheckbox value="#{manListaEquipos.edfecadq}" >
                                    <p:ajax event="change" update="ledfecadq"  />
                                </p:selectBooleanCheckbox>
                                <p:calendar  pattern="dd/MMM/yyyy" 
                                             readonlyInput="true" showOn="button" size="10"
                                             style="width: 10px"
                                             value="#{manListaEquipos.dfecpueser}"
                                             disabled="#{!manListaEquipos.edfecpueser}"
                                             id="ledfecpueser"
                                             navigator="true"
                                             >
                                    <p:ajax event="dateSelect" listener="#{manListaEquipos.dateSelectedFecpueser}" />
                                </p:calendar> 
                                <p:selectBooleanCheckbox value="#{manListaEquipos.edfecpueser}" >
                                    <p:ajax event="change" update="ledfecpueser"  />
                                </p:selectBooleanCheckbox>
                            </h:panelGrid>   
                            <h:panelGrid columns="5" cellpadding="5">
                                <h:outputText value="Removed" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <h:outputText value="Comments" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <p:calendar  pattern="dd/MMM/yyyy" 
                                             readonlyInput="true" showOn="button" size="10"
                                             style="width: 10px"
                                             value="#{manListaEquipos.dfecret}"
                                             disabled="#{!manListaEquipos.edfecret}"
                                             id="ledfecret"
                                             navigator="true"
                                             >
                                    <p:ajax event="dateSelect" listener="#{manListaEquipos.dateSelectedFecret}" />
                                </p:calendar>
                                <p:selectBooleanCheckbox value="#{manListaEquipos.edfecret}" disabled="#{manSeguridad.disableOpt('adminpass')}">
                                    <p:ajax event="change" update="ledfecret"  />
                                </p:selectBooleanCheckbox>
                                <p:inputText value="#{manListaEquipos.rem_det_obs}" size="75" maxlength="500"/>
                                <p:commandButton title="Add" style=" width: 30px;"
                                                 update=":frmListaEquipos"
                                                 icon="ui-icon-plus" 
                                                 actionListener="#{manListaEquipos.agregarremovidos()}"
                                                 disabled="#{manSeguridad.disableOpt('adminpass')}"
                                                 />
                                <p:commandButton title="Remove" style=" width: 30px;"
                                                 update=":frmListaEquipos"
                                                 icon="ui-icon-minus" 
                                                 actionListener="#{manListaEquipos.eliminarremovidos()}"
                                                 disabled="#{manSeguridad.disableOpt('adminpass')}"
                                                 />

                            </h:panelGrid>

                        </div>
                        <p:dataTable id="dtRemH" var="vRemH" 
                                     value="#{manListaEquipos.removidos}" 
                                     emptyMessage="No results found" 
                                     selectionMode="single" selection="#{manListaEquipos.catremovidos}" 
                                     rowKey="#{vRemH.cod_rem}"
                                     editable="false"
                                     scrollable="true"
                                     scrollHeight="70"
                                     style="width:781px"
                                     >
                            <f:facet name="header">
                                <h:outputText value="Remotion History" />
                            </f:facet>
                            <p:ajax event="rowSelect" listener="#{manListaEquipos.onRowSelectRemovidos}" 
                                    />

                            <p:column style="width:50px;" headerText="Remotion Date">
                                <h:outputText value="#{vRemH.fec_rem}" />
                            </p:column>
                            <p:column style="width:100px;" headerText="Country">
                                <h:outputText value="#{vRemH.nompai}" />
                            </p:column>
                            <p:column style="width:130px" headerText="Client">
                                <h:outputText value="#{vRemH.nomcli}" />
                            </p:column>
                            <p:column style="width:210px;" headerText="Comments">
                                <h:outputText value="#{vRemH.det_obs}" />
                            </p:column>

                        </p:dataTable>
                        <p:dataTable id="dtEncManH" var="vEncManH" 
                                     value="#{manListaEquipos.mantenimientos}" 
                                     emptyMessage="No results found" 
                                     selectionMode="single" selection="#{manListaEquipos.catmantenimientos}" 
                                     rowKey="#{vEncManH.cod_man}"
                                     editable="false"
                                     scrollable="true"
                                     scrollHeight="100"
                                     style="width:781px"
                                     >
                            <f:facet name="header">
                                <h:panelGrid columns="4" cellpadding="5" styleClass="noBorders">
                                    <h:outputText value="Maintenance History" />
                                    <p:commandButton value="Single" icon="ui-icon-print"
                                                     style=" width: 100px;"
                                                     onclick="this.form.target = '_blank';" 
                                                     action="#{manListaEquipos.ejecutarreporte2()}"
                                                     ajax="false"/>
                                    <p:commandButton value="History" icon="ui-icon-print"
                                                     style=" width: 100px;"
                                                     onclick="this.form.target = '_blank';" 
                                                     action="#{manListaEquipos.ejecutarHistoriaMan()}"
                                                     ajax="false"/>
                                    <p:commandButton value="Reopen" icon="ui-icon-refresh"
                                                     style=" width: 100px;"
                                                     action="#{manListaEquipos.reabrirMantenimiento()}"
                                                     update=":frmListaEquipos"
                                                     disabled="#{manSeguridad.disableOpt('adminpass')}"
                                                     >

                                        <p:confirm header="Reopen" 
                                                   message="Do you really want to Reopen this WO?" 
                                                   icon="ui-icon-alert"/>

                                    </p:commandButton>
                                </h:panelGrid>
                            </f:facet>
                            <p:ajax event="rowSelect" listener="#{manListaEquipos.onRowSelectMantenimiento}" 
                                    />

                            <p:column style="width:30px;" headerText="Id">
                                <h:outputText value="#{vEncManH.cod_alt}" />
                            </p:column>
                            <p:column style="width:70px;" headerText="Type">
                                <h:outputText value="#{vEncManH.nomtip}" />
                            </p:column>
                            <p:column style="width:160px;" headerText="Event">
                                <h:outputText value="#{vEncManH.det_obs}" />
                            </p:column>
                            <p:column style="width:80px" headerText="Start Date">
                                <h:outputText value="#{vEncManH.fec_ini}" />
                            </p:column>
                            <p:column style="width:80px" headerText="End Date">
                                <h:outputText value="#{vEncManH.fec_fin}" />
                            </p:column>
                            <p:column style="width:80px" headerText="Status">
                                <h:outputText value="#{vEncManH.status}" />
                            </p:column>
                        </p:dataTable>

                    </p:tab>
                    <p:tab title="Software" id="tabSoftware">
                        <p:toolbar>
                            <f:facet name="right">
                                <p:commandButton title="Add" style=" width: 30px;"
                                                 update=":frmListaEquipos"
                                                 icon="ui-icon-plus" 
                                                 actionListener="#{manListaEquipos.agregarsistema()}"
                                                 />
                            </f:facet>
                        </p:toolbar>
                        <p:panel id="panelsoftware">
                            <h:panelGrid columns="5" cellpadding="5">
                                <h:outputText value="System" style="font-weight:bold;"/>
                                <h:outputText value="Old Version" style="font-weight:bold;"/>
                                <h:outputText value="Actual Version" style="font-weight:bold;"/>
                                <h:outputText value="Date Updated" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <p:inputText size="45"
                                             maxlength="200"
                                             value="#{manListaEquipos.s_det_obs}"
                                             onfocus="this.select()"
                                             />
                                <p:inputText size="20"
                                             maxlength="20"
                                             value="#{manListaEquipos.s_ver_ant}"
                                             onfocus="this.select()"
                                             />
                                <p:inputText size="20"
                                             maxlength="20"
                                             value="#{manListaEquipos.s_ver_act}"
                                             onfocus="this.select()"
                                             />
                                <p:calendar  pattern="dd/MMM/yyyy" 
                                             readonlyInput="true" showOn="button" size="10"
                                             style="width: 10px"
                                             value="#{manListaEquipos.dfecact}"
                                             disabled="#{!manListaEquipos.edfecact}"
                                             id="ledfecact"
                                             navigator="true"
                                             >
                                    <p:ajax event="dateSelect" listener="#{manListaEquipos.dateSelectedFecact}" />
                                </p:calendar> 
                                <p:selectBooleanCheckbox value="#{manListaEquipos.edfecact}" >
                                    <p:ajax event="change" update="ledfecact"  />
                                </p:selectBooleanCheckbox>
                            </h:panelGrid>
                        </p:panel>

                        <p:contextMenu for="dtSys">
                            <p:menuitem value="Remove" 
                                        update="panelsoftware,dtSys" 
                                        icon="ui-icon-close" 
                                        actionListener="#{manListaEquipos.eliminarsistema()}"/>
                        </p:contextMenu>

                        <p:dataTable id="dtSys" var="vSys" 
                                     value="#{manListaEquipos.sistemas}" 
                                     emptyMessage="No results found" 
                                     selectionMode="single" selection="#{manListaEquipos.catsistemas}" 
                                     rowKey="#{vSys.cod_sys}"
                                     editable="true"
                                     scrollable="true"
                                     scrollHeight="200"
                                     style="width:780px"
                                     >

                            <p:column style="width:150px;" headerText="System">
                                <p:cellEditor>
                                    <f:facet name="output"><h:outputText value="#{vSys.det_obs}" /></f:facet>
                                    <f:facet name="input"><p:inputText value="#{vSys.det_obs}" style="width:100%" required="true"/></f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column style="width:90px" headerText="Old Version">
                                <p:cellEditor>
                                    <f:facet name="output"><h:outputText value="#{vSys.ver_ant}" /></f:facet>
                                    <f:facet name="input"><p:inputText value="#{vSys.ver_ant}" style="width:100%" required="true" maxlength="20"/></f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column style="width:90px" headerText="Actual Version">
                                <p:cellEditor>
                                    <f:facet name="output"><h:outputText value="#{vSys.ver_act}" /></f:facet>
                                    <f:facet name="input"><p:inputText value="#{vSys.ver_act}" style="width:100%" required="true" maxlength="20"/></f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column style="width:100px" headerText="Date Updated">
                                <h:outputText value="#{vSys.fec_act}" />
                            </p:column>
                            <p:column style="width:32px">
                                <p:rowEditor />
                            </p:column>
                        </p:dataTable>
                    </p:tab>
                    <p:tab title="Contracts" id="tabContratos">
                        <p:toolbar>
                            <f:facet name="right">
                                <p:commandButton title="Add" style=" width: 30px;"
                                                 update=":frmListaEquipos"
                                                 icon="ui-icon-plus" 
                                                 actionListener="#{manListaEquipos.agregarcontrato()}"
                                                 />
                            </f:facet>
                        </p:toolbar>
                        <p:panel id="panelcontratos">
                            <h:panelGrid columns="6" cellpadding="5">
                                <h:outputText value="Number" style="font-weight:bold;"/>
                                <h:outputText value="Comments" style="font-weight:bold;"/>
                                <h:outputText value="Start Date" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <h:outputText value="Expiration Date" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <p:inputText size="20"
                                             maxlength="20"
                                             value="#{manListaEquipos.c_cod_ref}"
                                             onfocus="this.select()"
                                             />
                                <p:inputText size="40"
                                             maxlength="200"
                                             value="#{manListaEquipos.c_des_inf}"
                                             onfocus="this.select()"
                                             />
                                <p:calendar  pattern="dd/MMM/yyyy" 
                                             readonlyInput="true" showOn="button" size="10"
                                             style="width: 10px"
                                             value="#{manListaEquipos.dfeccon}"
                                             disabled="#{!manListaEquipos.edfeccon}"
                                             id="ledfeccon"
                                             navigator="true"
                                             >
                                    <p:ajax event="dateSelect" listener="#{manListaEquipos.dateSelectedFeccon}" />
                                </p:calendar>
                                <p:selectBooleanCheckbox value="#{manListaEquipos.edfeccon}" >
                                    <p:ajax event="change" update="ledfeccon"  />
                                </p:selectBooleanCheckbox>
                                <p:calendar  pattern="dd/MMM/yyyy" 
                                             readonlyInput="true" showOn="button" size="10"
                                             style="width: 10px"
                                             value="#{manListaEquipos.dfecexp}"
                                             disabled="#{!manListaEquipos.edfecexp}"
                                             id="ledfecexp"
                                             navigator="true"
                                             >
                                    <p:ajax event="dateSelect" listener="#{manListaEquipos.dateSelectedFecexp}" />
                                </p:calendar>
                                <p:selectBooleanCheckbox value="#{manListaEquipos.edfecexp}" >
                                    <p:ajax event="change" update="ledfecexp"  />
                                </p:selectBooleanCheckbox>
                            </h:panelGrid>
                        </p:panel>

                        <p:contextMenu for="dtCon">
                            <p:menuitem value="Remove" 
                                        update="panelcontratos,dtCon" 
                                        icon="ui-icon-close" 
                                        actionListener="#{manListaEquipos.eliminarcontrato()}"/>
                        </p:contextMenu>
                        <p:dataTable id="dtCon" var="vCon" 
                                     value="#{manListaEquipos.contratos}" 
                                     emptyMessage="No results found" 
                                     selectionMode="single" selection="#{manListaEquipos.catcontratos}" 
                                     rowKey="#{vCon.cod_con}"
                                     editable="true"
                                     scrollable="true"
                                     scrollHeight="190"
                                     style="width:780px"
                                     >

                            <p:column style="width:50px;" headerText="Number">
                                <p:cellEditor>
                                    <f:facet name="output"><h:outputText value="#{vCon.cod_ref}" /></f:facet>
                                    <f:facet name="input"><p:inputText value="#{vCon.cod_ref}" style="width:100%" required="true"/></f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column style="width:100px;" headerText="Comments">
                                <p:cellEditor>
                                    <f:facet name="output"><h:outputText value="#{vCon.des_inf}" /></f:facet>
                                    <f:facet name="input"><p:inputText value="#{vCon.des_inf}" style="width:100%" required="true"/></f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column style="width:70px" headerText="Start Date">
                                <h:outputText value="#{vCon.fec_con}" />
                            </p:column>
                            <p:column style="width:70px" headerText="Expiration Date">
                                <h:outputText value="#{vCon.fec_exp}" />
                            </p:column>
                            <p:column style="width:32px">
                                <p:rowEditor />
                            </p:column>
                        </p:dataTable>
                    </p:tab>
                    <p:tab title="Image" id="tabImagen">
                        <div align="center">

                            <h:panelGrid columns="1" >
                                <p:graphicImage id="imglequ" 
                                                value="#{manListaEquipos.mimagen}"
                                                cache="false" height="330" width="#{manListaEquipos.mWidth}"/>
                                <p:fileUpload id="fuplequ"  
                                              dragDropSupport="true"
                                              mode="advanced" 
                                              uploadLabel="Upload"
                                              cancelLabel="Cancel"
                                              label="Image"
                                              fileLimit="1" 
                                              skinSimple="true"
                                              fileUploadListener="#{manListaEquipos.upload}"
                                              allowTypes="/(\.|\/)(jpg|JPG|jepg|JEPG|gif|GIF|png|PNG)$/" 
                                              update="imglequ, :frmListaEquipos:msgListaEquipos, :frmListaEquipos"
                                              auto="true"
                                              />
                            </h:panelGrid>
                        </div>
                    </p:tab>
                    <p:tab title="Files" id="tabFiles">
                        <p:panel>
                            <h:panelGrid columns="2" cellpadding="5" >
                                <h:outputText value="Type" style="font-weight:bold;"/>
                                <h:outputText value="Description" style="font-weight:bold;"/>
                                <p:selectOneMenu style=" width: 120px;" value="#{manListaEquipos.ane_tip_ane}" autoWidth="false">
                                    <f:selectItem itemLabel="Select one" itemValue="0"/>
                                    <f:selectItem itemLabel="PDF" itemValue="1"/>
                                    <f:selectItem itemLabel="IMAGE" itemValue="2"/>
                                    <f:selectItem itemLabel="OTHER" itemValue="3"/>
                                </p:selectOneMenu>
                                <p:inputTextarea value="#{manListaEquipos.ane_det_obs}" maxlength="500" rows="1" cols="90" />
                            </h:panelGrid>

                            <h:panelGrid columns="6" cellpadding="5" >
                                <h:outputText id="lblnomarchaneequ" value="#{manListaEquipos.nombrearchivo}" style="font-weight:bold; color: red;"/>
                                <p:fileUpload dragDropSupport="true"
                                              mode="advanced" 
                                              uploadLabel="Upload"
                                              cancelLabel="Cancel"
                                              label="File"
                                              fileLimit="1" 
                                              skinSimple="true"
                                              fileUploadListener="#{manListaEquipos.cargarArchivoAnexo}"
                                              update=":frmListaEquipos:msgListaEquipos,lblnomarchaneequ"
                                              auto="true"
                                              />
                                <p:commandButton title="Add" icon="ui-icon-plus" style="width:30px;" 
                                                 actionListener="#{manListaEquipos.agregaranexo()}"
                                                 update=":frmListaEquipos"
                                                 >
                                    <p:confirm header="Add File" 
                                               message="Do you really want to save this file?" 
                                               icon="ui-icon-alert"/>
                                </p:commandButton>
                                <p:commandButton title="Remove" icon="ui-icon-minus" style="width:30px;" 
                                                 actionListener="#{manListaEquipos.eliminarAnexos()}"
                                                 update=":frmListaEquipos"
                                                 >
                                    <p:confirm header="Remove File" 
                                               message="Do you really want to remove this file?" 
                                               icon="ui-icon-alert"/>
                                </p:commandButton>
                                <h:outputText value="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"/>
                                <p:commandButton value="Download" icon="fa fa-download" style="width:100px;" 
                                                 actionListener="#{manListaEquipos.descargaranexos()}"
                                                 update=":frmListaEquipos"
                                                 />
                            </h:panelGrid>
                        </p:panel>

                        <p:dataTable id="dtEquFiles" var="vEquFiles" 
                                     value="#{manListaEquipos.anexos}" 
                                     emptyMessage="No results found" 
                                     selectionMode="single" selection="#{manListaEquipos.catlisequanexos}" 
                                     rowKey="#{vEquFiles.cor_det}"
                                     scrollable="true"
                                     scrollHeight="190"
                                     style="width:790px"
                                     >

                            <p:ajax event="rowSelect" listener="#{manListaEquipos.onRowSelectAnexos}" 
                                    update=":frmListaEquipos"/>
                            <p:column style="width:20px" headerText="Type">
                                <h:outputText value="#{vEquFiles.nomtipane}" />
                            </p:column>
                            <p:column style="width:300px" headerText="Description">
                                <h:outputText value="#{vEquFiles.det_obs}" />
                            </p:column>

                        </p:dataTable>

                    </p:tab>
                </p:tabView>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ********************** Pantalla Nueva Inventario ***********************
        *********************************************************************-->

        <p:dialog  id="dlgInventarioFinal" widgetVar="wInventarioFinal" modal="true" 
                   width="1100" height="540" closable="false" resizable="false" 
                   header="Parts Inventory" rendered="true" 
                   visible="false"  
                   >
            <h:form id="frmInventarioFinal">
                <p:growl id="msgInventarioFinal" showDetail="true" life="8500"/>
                <p:accordionPanel id="accpinventory" activeIndex="#{manInventarioNew.tabacordion}" >
                    <p:tab id="tabpartsni" title="Parts Catalog">
                        <p:toolbar>
                            <f:facet name="left">
                                <p:commandButton value="New Part" style=" width: 95px; background: #ccffcc;"
                                                 actionListener="#{manInventarioNew.nuevapieza()}"
                                                 update=":frmInventarioFinal"
                                                 icon="ui-icon-document"
                                                 />
                                <p:commandButton value="Edit Part" style=" width: 95px; background: #ccffcc;"
                                                 actionListener="#{manInventarioNew.editarpieza()}"
                                                 onclick="PF('wInventarioFinalEditPart').show()"
                                                 update=":frmInventarioFinalEditPart"
                                                 icon="ui-icon-pencil"
                                                 />
                                <span class="ui-separator">
                                    <span class="ui-icon ui-icon-grip-dotted-vertical" />
                                </span>
                                <p:commandButton value="Save Part" style=" width: 95px; background: orange; color: #FFFFFF;"
                                                 actionListener="#{manInventarioNew.guardarpieza()}"
                                                 update=":frmInventarioFinal"
                                                 icon="fa fa-floppy-o"
                                                 >
                                    <p:confirm header="Save Part" 
                                               message="Do you really want to save this record?" 
                                               icon="ui-icon-alert"/>
                                </p:commandButton>

                                <span class="ui-separator">
                                    <span class="ui-icon ui-icon-grip-dotted-vertical" />
                                </span>
                                <p:commandButton value="Del.Part" style=" width: 95px;  background: #FF0000; color: #FFFFFF;"
                                                 actionListener="#{manInventarioNew.iniciareliminarpieza()}"
                                                 update=":frmInventarioFinal"
                                                 icon="fa fa-trash"
                                                 />
                                <span class="ui-separator">
                                    <span class="ui-icon ui-icon-grip-dotted-vertical" />
                                </span>
                                <p:commandButton value="Reorder L." style=" width: 95px; background: blueviolet; color:  #FFFFFF;"
                                                 actionListener="#{manInventarioNew.puntoreorden()}"
                                                 update=":frmInventarioFinal:msgInventarioFinal"
                                                 icon="fa fa-calculator"
                                                 />

                            </f:facet>
                            <f:facet name="right">
                                <p:commandButton value="Close" style=" width: 95px;"
                                                 onclick="PF('wInventarioFinal').hide()"
                                                 actionListener="#{manInventarioNew.cerrarventana()}"
                                                 update=":frmInventarioFinal"
                                                 icon="ui-icon-close"
                                                 />
                            </f:facet>
                        </p:toolbar>
                        <p:panel id="panPiezasInventarioNew" styleClass="noBorders">
                            <div style=" background-color: #ebf8fe;">
                                <h:panelGrid columns="2" cellpadding="5">
                                    <h:panelGroup>
                                        <p:focus for="cmbequipopie" />
                                        <h:panelGrid columns="4" cellpadding="5">
                                            <h:outputText value="Equipment" style="font-weight:bold;" />
                                            <p:selectOneMenu id="cmbequipopie" value="#{manInventarioNew.pie_cod_equ}" 
                                                             style=" width: 180px;"
                                                             autoWidth="false"
                                                             filter="true"
                                                             filterMatchMode="contains"
                                                             >
                                                <f:selectItem itemLabel="Select one" itemValue="0"/>
                                                <f:selectItems value="#{manInventarioNew.equipos}" var="vequpie"
                                                               itemLabel="#{vequpie.descripcion}" itemValue="#{vequpie.codigo}"/> 
                                            </p:selectOneMenu>
                                            <h:outputText value="Supplier" style="font-weight:bold;" />
                                            <p:selectOneMenu value="#{manInventarioNew.pie_cod_cat}" 
                                                             style=" width: 180px;"
                                                             autoWidth="false"
                                                             filter="true"
                                                             filterMatchMode="contains"
                                                             >
                                                <f:selectItem itemLabel="Select one" itemValue="0"/>
                                                <f:selectItems value="#{manInventarioNew.proveedores}" var="catpie"
                                                               itemLabel="#{catpie.nom_pro}" itemValue="#{catpie.cod_pro}"/> 
                                            </p:selectOneMenu>
                                            <h:outputText value="Price" style="font-weight:bold;" />
                                            <p:inputNumber size="45"
                                                           maxlength="15"
                                                           value="#{manInventarioNew.pie_det_pre}"
                                                           onfocus="this.select()"
                                                           minValue="0"
                                                           decimalPlaces="2"
                                                           />
                                            <h:outputText value="Part Number" style="font-weight:bold;"/>
                                            <p:inputText size="45"
                                                         maxlength="30"
                                                         value="#{manInventarioNew.pie_cod_ref}"
                                                         onfocus="this.select()"
                                                         />
                                            <h:outputText value="Part Name" style="font-weight:bold;"/>
                                            <p:inputText size="45"
                                                         maxlength="50"
                                                         value="#{manInventarioNew.pie_nom_pie}"
                                                         onfocus="this.select()"
                                                         />
                                            <h:outputText value="Description" style="font-weight:bold;"/>
                                            <p:inputText size="45"
                                                         maxlength="150"
                                                         value="#{manInventarioNew.pie_des_pie}"
                                                         onfocus="this.select()"
                                                         />
                                            <h:outputText value="Expiration date (Hours)" style="font-weight:bold;"/>
                                            <p:inputNumber size="45"
                                                           maxlength="11"
                                                           value="#{manInventarioNew.pie_vid_uti}"
                                                           onfocus="this.select()"
                                                           minValue="0"
                                                           decimalPlaces="2"
                                                           />
                                            <h:outputText value="Image" style="font-weight:bold;"/>
                                            <p:fileUpload id="fuppie" 
                                                          fileUploadListener="#{manInventarioNew.upload}" 
                                                          mode="advanced" dragDropSupport="true"
                                                          fileLimit="1" 
                                                          allowTypes="/(\.|\/)(jpg|JPG|jepg|JEPG|gif|GIF|png|PNG)$/" 
                                                          update=":frmInventarioFinal:msgInventarioFinal,:frmInventarioFinal:accpinventory:imgpie"
                                                          label="Select Image" cancelLabel="Cancel" uploadLabel="Upload" 
                                                          auto="true"
                                                          previewWidth="20" 
                                                          />
                                        </h:panelGrid>
                                    </h:panelGroup>
                                    <p:graphicImage id="imgpie" 
                                                    value="#{manInventarioNew.mimagen}" 
                                                    cache="false" width="#{manInventarioNew.mwidth}" height="140" />
                                </h:panelGrid>

                            </div>
                        </p:panel>
                    </p:tab>
                    <p:tab id="tabinventoryni" title="Inventory">
                        <p:toolbar>
                            <f:facet name="left">
                                <p:commandButton value="New Loc." style=" width: 95px; background: #fbfdb5;"
                                                 actionListener="#{manInventarioNew.nuevaLocation()}"
                                                 update=":frmInventarioFinal"
                                                 icon="ui-icon-document"
                                                 />

                                <span class="ui-separator">
                                    <span class="ui-icon ui-icon-grip-dotted-vertical" />
                                </span>
                                <p:commandButton value="Edit Stock" style=" width: 95px; background: #ffccff;"
                                                 update=":frmInventarioFinal,:frmInventarioFinalEdit" 
                                                 actionListener="#{manInventarioNew.onEdit()}"
                                                 icon="ui-icon-pencil"
                                                 />
                                <p:commandButton value="P.O.View" style=" width: 95px; background: #ffccff;"
                                                 disabled="#{manSeguridad.disableOpt('menuSeguimientoSolicitud')}"
                                                 actionListener="#{manInventarioNew.onPOView()}"
                                                 update=":frmInventarioFinal" 
                                                 icon="ui-icon-circle-zoomin"
                                                 />
                                <span class="ui-separator">
                                    <span class="ui-icon ui-icon-grip-dotted-vertical" />
                                </span>

                                <p:commandButton value="Del. Locat." style=" width: 95px; background: #FF0000; color: #FFFFFF;"
                                                 actionListener="#{manInventarioNew.eliminarLocation()}"
                                                 update=":frmInventarioFinal"
                                                 icon="fa fa-trash"
                                                 >
                                    <p:confirm header="Delete Location" 
                                               message="Do you really want to delete this Location and all its content?" 
                                               icon="ui-icon-alert"/>
                                </p:commandButton>
                            </f:facet>
                            <f:facet name="right">
                                <p:commandButton value="Close" style=" width: 95px;"
                                                 onclick="PF('wInventarioFinal').hide()"
                                                 actionListener="#{manInventarioNew.cerrarventana()}"
                                                 update=":frmInventarioFinal"
                                                 icon="ui-icon-close"
                                                 />
                            </f:facet>
                        </p:toolbar>
                        <p:panel>
                            <h:panelGrid columns="4" cellpadding="3">
                                <h:outputText value="Date" style="font-weight:bold;"/>
                                <h:outputText value="Country" style="font-weight:bold;"/>
                                <h:outputText value="Warehouse" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>

                                <p:calendar  value="#{manInventarioNew.mfecha}"
                                             pattern="dd/MMM/yyyy" 
                                             readonlyInput="true" 
                                             showOn="button" 
                                             size="16"
                                             style="width: 15px"
                                             navigator="true"
                                             >
                                    <p:ajax event="dateSelect" listener="#{manInventarioNew.dateSelectedAction}" 
                                            />
                                </p:calendar> 

                                <p:selectOneMenu value="#{manInventarioNew.cod_pai}" 
                                                 style=" width: 305px;"
                                                 autoWidth="false"
                                                 filter="true"
                                                 filterMatchMode="contains"
                                                 >
                                    <p:ajax event="change" listener="#{manInventarioNew.onSeleccionarpais()}" 
                                            update="sombodinvnew"
                                            />
                                    <f:selectItem itemLabel="Select one" itemValue="0"/>
                                    <f:selectItems value="#{manInventarioNew.paises}" var="lstpaiinvnew"
                                                   itemLabel="#{lstpaiinvnew.nom_pai}" itemValue="#{lstpaiinvnew.cod_pai}"/> 
                                </p:selectOneMenu>

                                <p:selectOneMenu value="#{manInventarioNew.cod_bod}" 
                                                 style=" width: 360px;"
                                                 id="sombodinvnew"
                                                 autoWidth="false"
                                                 >
                                    <p:ajax event="change" listener="#{manInventarioNew.onSeleccionarbod()}" 
                                            update=":frmInventarioFinal"
                                            />
                                    <f:selectItem itemLabel="Select one" itemValue="0"/>
                                    <f:selectItems value="#{manInventarioNew.bodegas}" var="lstbodinvnew"
                                                   itemLabel="#{lstbodinvnew.nom_bod}" itemValue="#{lstbodinvnew.id_bod}"/> 

                                </p:selectOneMenu>
                                <p:commandButton title="Reload" style=" width: 35px;"
                                                 actionListener="#{manInventarioNew.refreshlist()}"
                                                 update=":frmInventarioFinal"
                                                 icon="ui-icon-refresh"
                                                 />

                            </h:panelGrid>
                        </p:panel>
                        <p:dataTable id="dtInventarioFinal" var="vInventarioFinal" 
                                     value="#{manInventarioNew.vista}" 
                                     emptyMessage="No results found" 
                                     selection="#{manInventarioNew.catinventarioview}" 
                                     selectionMode="single"
                                     rowKey="#{vInventarioFinal.categoria},#{vInventarioFinal.equipo}"
                                     scrollable="true"
                                     scrollHeight="260"
                                     style="width:1030px"
                                     sortMode="multiple"
                                     widgetVar="wvInventarioFinal"
                                     >
                            <p:ajax event="rowSelect" listener="#{manInventarioNew.onRowSelect}" />
                            <f:facet name="header">
                                <p:outputPanel>
                                    <h:panelGrid columns="3" cellpadding="1" styleClass="noBorders">
                                        <h:panelGroup>
                                            <h:panelGrid columns="2" cellpadding="2"  styleClass="noBorders">
                                                <h:commandLink>
                                                    <p:graphicImage value="/resources/images/xls_download.png" width="20" height="20" title="Excel"/>
                                                    <p:dataExporter type="xls" target="dtInventarioFinal" fileName="Parts" />
                                                </h:commandLink>
                                                <h:commandLink>
                                                    <p:graphicImage value="/resources/images/pdf_download.png" width="20" height="20" title="PDF"/>
                                                    <p:dataExporter type="pdf" target="dtInventarioFinal" fileName="Parts"/>
                                                </h:commandLink>
                                            </h:panelGrid>
                                        </h:panelGroup>
                                        <h:panelGroup>
                                            <h:outputText value="Filter:&nbsp;&nbsp;" />
                                            <p:inputText id="globalFilter" 
                                                         style="width:250px;" 
                                                         placeholder="No. Part, Part Name, Location"/>
                                            <h:outputText value="&nbsp;" />
                                            <p:commandButton value="Go" style=" width: 40px;"
                                                             onclick="PF('wvInventarioFinal').filter()"
                                                             update=":frmInventarioFinal:accpinventory:dtInventarioFinal"
                                                             />
                                        </h:panelGroup>
                                    </h:panelGrid>
                                </p:outputPanel>
                            </f:facet>
                            <p:column style="width:30px;" headerText="No. Part" filterBy="#{vInventarioFinal.referencia}" filterMatchMode="contains"  
                                      filterStyle="display:none; visibility:hidden;" sortBy="#{vInventarioFinal.referencia}">
                                <h:outputText value="#{vInventarioFinal.referencia}" />
                            </p:column>
                            <p:column style="width:100px;" headerText="Part Name" filterBy="#{vInventarioFinal.nombre}" filterMatchMode="contains"  
                                      filterStyle="display:none; visibility:hidden;" sortBy="#{vInventarioFinal.nombre}">
                                <h:outputText value="#{vInventarioFinal.nombre}" />
                            </p:column>
                            <p:column style="width:70px;" headerText="Location" filterBy="#{vInventarioFinal.equipo}" filterMatchMode="contains"  
                                      filterStyle="display:none; visibility:hidden;" sortBy="#{vInventarioFinal.equipo}">
                                <h:outputText value="#{vInventarioFinal.equipo}" />
                            </p:column>
                            <p:column style="width:25px; text-align:  center;" headerText="Stock" >
                                <h:outputText value="#{vInventarioFinal.existencia}" />
                            </p:column>
                            <p:column style="width:25px; text-align:  center; background-color: bisque; " headerText="Pending">
                                <h:outputText value="#{vInventarioFinal.pendiente}" />
                            </p:column>


                        </p:dataTable>

                    </p:tab>
                </p:accordionPanel>





            </h:form>
        </p:dialog>

        <p:dialog  id="dlgInventarioFinalEditPart" widgetVar="wInventarioFinalEditPart" modal="true" 
                   width="600" height="330" closable="true" resizable="false" 
                   header="Edit Part" rendered="true" 
                   visible="false"  
                   >
            <h:form id="frmInventarioFinalEditPart">
                <p:dataTable id="dtInventarioFinalEditPart" var="vInventarioFinalEditPart" 
                             value="#{manInventarioNew.piezas}" 
                             emptyMessage="No results found" 
                             selection="#{manInventarioNew.catpiezas}" 
                             selectionMode="single"
                             rowKey="#{vInventarioFinalEditPart.cod_pie}"
                             scrollable="true"
                             scrollHeight="240"
                             style="width:570px"
                             widgetVar="wvInventarioFinalEditPart"
                             >
                    <p:ajax event="rowSelect" listener="#{manInventarioNew.onRowSelectEditPart}" 
                            update=":frmInventarioFinal"/>
                    <f:facet name="header">
                        <p:outputPanel>
                            <h:panelGrid columns="1" cellpadding="1" styleClass="noBorders">
                                <h:panelGroup>
                                    <h:outputText value="Filter:&nbsp;&nbsp;" />
                                    <p:inputText id="globalFilter" 
                                                 style="width:250px;" 
                                                 placeholder="No. Part, Part Name"/>
                                    <h:outputText value="&nbsp;" />
                                    <p:commandButton value="Go" style=" width: 40px;"
                                                     onclick="PF('wvInventarioFinalEditPart').filter()"
                                                     update=":frmInventarioFinalEditPart"
                                                     />
                                </h:panelGroup>
                            </h:panelGrid>
                        </p:outputPanel>
                    </f:facet>
                    <p:column style="width:80px;" headerText="No. Part" filterBy="#{vInventarioFinalEditPart.cod_ref}" filterMatchMode="contains"  
                              filterStyle="display:none; visibility:hidden;">
                        <h:outputText value="#{vInventarioFinalEditPart.cod_ref}" />
                    </p:column>
                    <p:column style="width:400px;" headerText="Part Name" filterBy="#{vInventarioFinalEditPart.nom_pie}" filterMatchMode="contains"  
                              filterStyle="display:none; visibility:hidden;">
                        <h:outputText value="#{vInventarioFinalEditPart.nom_pie}" />
                    </p:column>
                </p:dataTable>
            </h:form>
        </p:dialog>

        <p:dialog  id="dlgInventarioFinalEdit" widgetVar="wInventarioFinalEdit" modal="true" 
                   width="700" height="350" closable="false" resizable="false" 
                   header="Edit Parts Stock" rendered="true" 
                   dynamic="true" visible="false"  
                   >
            <h:form id="frmInventarioFinalEdit">
                <p:growl id="msgInventarioFinalEdit" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Move" style=" width: 100px;"
                                         actionListener="#{manInventarioNew.iniciarMove()}"
                                         update=":frmInventarioFinal"
                                         icon="fa fa-exchange"
                                         />
                    </f:facet>
                    <f:facet name="right">
                        <p:commandButton value="Save" style=" width: 100px;"
                                         actionListener="#{manInventarioNew.guardarEdit()}"
                                         update=":frmInventarioFinal"
                                         icon="fa fa-floppy-o"
                                         >
                            <p:confirm header="Save" 
                                       message="Do you really want to save this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Close" style=" width: 100px;"
                                         onclick="PF('wInventarioFinalEdit').hide()"
                                         actionListener="#{manInventarioNew.cerrarventanaEdit()}"
                                         update=":frmInventarioFinal"
                                         icon="fa fa-times"
                                         />

                    </f:facet>
                </p:toolbar>
                <h:panelGrid columns="2" cellpadding="5">
                    <p:graphicImage id="imgpro" 
                                    value="#{manInventarioNew.mimagen2}"
                                    cache="false" width="250" height="#{manInventarioNew.mHeight}" 
                                    />
                    <p:panel style="width: 400px;">
                        <h:panelGrid columns="4" cellpadding="5" styleClass="noBorders">
                            <h:outputText value="" style="font-weight:bold;"/>
                            <p:inputSwitch offLabel="Entre" onLabel="Remove" value="#{manInventarioNew.boolinout}" >
                                <p:ajax listener="#{manInventarioNew.inout()}" update="somproinvnew" />
                            </p:inputSwitch>
                            <h:outputText value="" style="font-weight:bold;"/>
                            <h:outputText value="" style="font-weight:bold;"/>
                            <h:outputText value="Supplier&nbsp;&nbsp;" style="font-weight:bold;"/>
                            <p:selectOneMenu id="somproinvnew" 
                                             value="#{manInventarioNew.cod_pro}" 
                                             style=" width: 200px;"
                                             disabled="#{!manInventarioNew.booleditable}"
                                             autoWidth="false"
                                             filter="true"
                                             filterMatchMode="contains"
                                             >
                                <f:selectItem itemLabel="Select one" itemValue="0"/>
                                <f:selectItems value="#{manInventarioNew.proveedores}" var="lstproinvnew"
                                               itemLabel="#{lstproinvnew.nom_pro}" itemValue="#{lstproinvnew.cod_pro}"/> 
                            </p:selectOneMenu>
                            <p:commandButton title="Suppliers" 
                                             icon="ui-icon-person" 
                                             style=" width: 25px;" 
                                             onclick="PF('wSup').show()"
                                             action="#{manSuppliers.iniciarventana(1)}" 
                                             disabled="#{manSeguridad.disableOpt('menuFabricantes')}"
                                             update=":frmSup"
                                             />
                            <p:commandButton title="Refresh" 
                                             icon="ui-icon-refresh" 
                                             style=" width: 25px;" 
                                             actionListener="#{manInventarioNew.llenarProveedores()}" 
                                             update="somproinvnew"
                                             />
                        </h:panelGrid>    
                        <h:panelGrid columns="2" cellpadding="5" styleClass="noBorders">        
                            <h:outputText value="Comments" style="font-weight:bold;"/>
                            <p:inputTextarea value="#{manInventarioNew.det_obs}" cols="41" rows="3"/>
                            <h:outputText value="Stock" style="font-weight:bold;"/>
                            <h:outputText value="#{manInventarioNew.canexi}" style="font-weight:bold;"/>
                            <h:outputText value="Quantity" style="font-weight:bold;"/>
                            <p:inputNumber value="#{manInventarioNew.inputnumber}" minValue="0"/>
                        </h:panelGrid>
                    </p:panel>
                    <h:outputText value="No Part: #{manInventarioNew.nompie}" style="font-weight:bold;"/>
                </h:panelGrid>



            </h:form>
        </p:dialog>

        <p:dialog  id="dlgInventarioFinalNew" widgetVar="wInventarioFinalNew" modal="true" 
                   width="670" height="250" closable="false" resizable="false" 
                   header="Add Part - Location" rendered="true" 
                   dynamic="true" visible="false"  
                   >
            <h:form id="frmInventarioFinalNew">
                <p:growl id="msgInventarioFinalNew" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="right">
                        <p:commandButton value="Save" style=" width: 100px;"
                                         actionListener="#{manInventarioNew.guardarNewLocation()}"
                                         update=":frmInventarioFinal"
                                         icon="ui-icon-disk"
                                         >
                            <p:confirm header="Save" 
                                       message="Do you really want to save this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Close" style=" width: 100px;"
                                         onclick="PF('wInventarioFinalNew').hide()"
                                         actionListener="#{manInventarioNew.cerrarventanaNew()}"
                                         update=":frmInventarioFinal"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>
                <p:panel >
                    <h:panelGrid columns="2" cellpadding="5">
                        <h:outputText value="Part" style="font-weight:bold;"/>
                        <h:outputText value="" style="font-weight:bold;"/>
                        <p:selectOneMenu value="#{manInventarioNew.cod_pie}" 
                                         style=" width: 500px;"
                                         filter="true" 
                                         filterMatchMode="contains"
                                         id="sompieinvnew2"
                                         autoWidth="false"
                                         >
                            <f:selectItem itemLabel="Select one" itemValue="0"/>
                            <f:selectItems value="#{manInventarioNew.piezas}" var="lstpieinvnew2"
                                           itemLabel="#{lstpieinvnew2.cod_ref} - #{lstpieinvnew2.nom_pie}" itemValue="#{lstpieinvnew2.cod_pie}"/> 
                        </p:selectOneMenu>
                        <p:commandButton title="Refresh" 
                                         icon="ui-icon-refresh" 
                                         style=" width: 25px;" 
                                         actionListener="#{manInventarioNew.llenarPiezas()}"  
                                         update="sompieinvnew2"
                                         />
                        <h:outputText value="Location" style="font-weight:bold;"/>
                        <h:outputText value="" style="font-weight:bold;"/>
                        <p:inputText value="#{manInventarioNew.cod_ubi}" maxlength="50" size="80"/>
                        <h:outputText value="" style="font-weight:bold;"/>
                        <h:outputText value="Quantity" style="font-weight:bold;"/>
                        <h:outputText value="" style="font-weight:bold;"/>
                        <p:inputNumber value="#{manInventarioNew.det_can}" minValue="0" size="80" decimalPlaces="2" />
                    </h:panelGrid>
                </p:panel>
            </h:form>
        </p:dialog>

        <p:dialog  id="dlgInventarioFinalReo" widgetVar="wInventarioFinalReo" modal="true" 
                   width="500" height="350" closable="false" resizable="false" 
                   header="Reorder Level" rendered="true" 
                   visible="false"  
                   >
            <h:form id="frmInventarioFinalReo">
                <p:growl id="msgInventarioFinalReo" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Save" style=" width: 100px;"
                                         actionListener="#{manInventarioNew.guardarReorden()}"
                                         update=":frmInventarioFinalReo"
                                         icon="ui-icon-disk"
                                         >
                            <p:confirm header="Save" 
                                       message="Do you really want to save this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Delete" style=" width: 100px;"
                                         actionListener="#{manInventarioNew.eliminarReorden()}"
                                         update=":frmInventarioFinalReo"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Delete" 
                                       message="Do you really want to delete this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                    </f:facet>
                    <f:facet name="right">
                        <p:commandButton value="Close" style=" width: 100px;"
                                         onclick="PF('wInventarioFinalReo').hide()"
                                         actionListener="#{manInventarioNew.cerrarReorden()}"
                                         update=":frmInventarioFinalReo"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>
                <p:panel>
                    <div style=" background-color: #ebf8fe;">
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Country" style="font-weight:bold;"/>
                            <p:selectOneMenu value="#{manInventarioNew.reo_cod_pai}" 
                                             style=" width: 300px;"
                                             filter="true" 
                                             filterMatchMode="contains"
                                             autoWidth="false"
                                             >
                                <p:ajax event="change" listener="#{manInventarioNew.onSeleccionarpaisreo()}" update="sombodreo,somubireo,inpunreo"/>
                                <f:selectItem itemLabel="Select one" itemValue="0"/>
                                <f:selectItems value="#{manInventarioNew.paises}" var="lstpaireolvl"
                                               itemLabel="#{lstpaireolvl.nom_pai}" itemValue="#{lstpaireolvl.cod_pai}"/> 
                            </p:selectOneMenu>
                            <h:outputText value="Warehouse" style="font-weight:bold;"/>
                            <p:selectOneMenu value="#{manInventarioNew.reo_cod_bod}" 
                                             style=" width: 300px;"
                                             filter="true" 
                                             filterMatchMode="contains"
                                             autoWidth="false"
                                             id="sombodreo"
                                             >
                                <p:ajax event="change" listener="#{manInventarioNew.llenarUbicacionesReo()}" update="somubireo,inpunreo"/>
                                <f:selectItem itemLabel="Select one" itemValue="0"/>
                                <f:selectItems value="#{manInventarioNew.bodegasreo}" var="lstbodreo"
                                               itemLabel="#{lstbodreo.descripcion}" itemValue="#{lstbodreo.codigo}"/> 
                            </p:selectOneMenu>
                            <h:outputText value="Location" style="font-weight:bold;"/>
                            <p:selectOneMenu value="#{manInventarioNew.reo_cod_ubi}" 
                                             style=" width: 300px;"
                                             filter="true" 
                                             filterMatchMode="contains"
                                             autoWidth="false"
                                             id="somubireo"
                                             >
                                <f:selectItem itemLabel="Select one" itemValue="0."/>
                                <f:selectItems value="#{manInventarioNew.ubicacionesreo}" var="lstubireo"
                                               itemLabel="#{lstubireo.descripcion}" itemValue="#{lstubireo.descripcion}"/> 
                            </p:selectOneMenu>
                            <h:outputText value="Reorder Level" style="font-weight:bold;"/>
                            <p:inputNumber value="#{manInventarioNew.reo_pun_reo}" 
                                           minValue="0" 
                                           decimalPlaces="2" 
                                           size="20" 
                                           id="inpunreo"/>
                        </h:panelGrid>
                    </div>
                </p:panel>
                <p:dataTable id="dtInventarioFinalReo" var="vInventarioFinalReo" 
                             value="#{manInventarioNew.puntos}" 
                             emptyMessage="No results found" 
                             selection="#{manInventarioNew.catpuntosreorden}" 
                             selectionMode="single"
                             rowKey="#{vInventarioFinalReo.cod_pai},#{vInventarioFinalReo.cod_bod},#{vInventarioFinalReo.cod_ubi},#{vInventarioFinalReo.cod_pie}"
                             scrollable="true"
                             scrollHeight="120"
                             style="width:480px"
                             widgetVar="wvInventarioFinalReo"
                             >
                    <p:ajax event="rowSelect" listener="#{manInventarioNew.onRowSelectReorder}" 
                            update=":frmInventarioFinalReo"/>
                    <p:column style="width:90px;" headerText="Warehouse">
                        <h:outputText value="#{vInventarioFinalReo.nombod}" />
                    </p:column>
                    <p:column style="width:80px;" headerText="Location">
                        <h:outputText value="#{vInventarioFinalReo.cod_ubi}" />
                    </p:column>
                    <p:column style="width:60px;" headerText="Reorder Level">
                        <h:outputText value="#{vInventarioFinalReo.pun_reo}" />
                    </p:column>
                </p:dataTable>

            </h:form>
        </p:dialog>

        <p:dialog  id="dlgTrasladoPie" widgetVar="wTrasladoPie" modal="true" 
                   width="670" height="170" closable="false" resizable="false" 
                   header="Move Parts" rendered="true" 
                   dynamic="true" visible="false"  
                   >
            <h:form id="frmTrasladoPie">
                <p:growl id="msgTrasladoPie" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="right">
                        <p:commandButton value="Save" style=" width: 100px;"
                                         actionListener="#{manInventarioNew.guardarMove()}"
                                         update=":frmTrasladoPie"
                                         icon="ui-icon-disk"
                                         >
                            <p:confirm header="Save" 
                                       message="Do you really want to save this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Close" style=" width: 100px;"
                                         onclick="PF('wTrasladoPie').hide()"
                                         actionListener="#{manInventarioNew.cerrarMove()}"
                                         update=":frmInventarioFinal"
                                         icon="ui-icon-close"
                                         />
                    </f:facet>
                </p:toolbar>
                <p:panel >
                    <h:panelGrid columns="2" cellpadding="5">
                        <h:outputText value="Warehouse" style="font-weight:bold;"/>
                        <p:selectOneMenu value="#{manInventarioNew.boddestino}" 
                                         style=" width: 500px;"
                                         filter="true" 
                                         filterMatchMode="contains"
                                         autoWidth="false"
                                         >
                            <p:ajax event="change" listener="#{manInventarioNew.llenarUbicacionesTras()}" update="somubimovpar"/>
                            <f:selectItem itemLabel="Select one" itemValue="0"/>
                            <f:selectItems value="#{manInventarioNew.bodegas}" var="lstbodmov"
                                           itemLabel="#{lstbodmov.nom_bod}" itemValue="#{lstbodmov.id_bod}"/> 
                        </p:selectOneMenu>

                        <h:outputText value="Location" style="font-weight:bold;"/>
                        <p:selectOneMenu value="#{manInventarioNew.ubidestino}" 
                                         style=" width: 500px;"
                                         filter="true" 
                                         filterMatchMode="contains"
                                         id="somubimovpar"
                                         autoWidth="false"
                                         editable="true"
                                         >
                            <f:selectItems value="#{manInventarioNew.ubicacionesdestino}" var="lstubimov"
                                           itemLabel="#{lstubimov.descripcion}" itemValue="#{lstubimov.descripcion}"/> 
                        </p:selectOneMenu>

                    </h:panelGrid>
                </p:panel>
            </h:form>
        </p:dialog>

        <p:dialog  id="dlgDelPart" widgetVar="wDelPart" modal="true" 
                   width="600" height="100" closable="false" resizable="false" 
                   header="Delete Part" rendered="true" 
                   visible="false"  
                   >
            <h:form id="frmDelPart">
                <p:growl id="msgDelPart" showDetail="true" life="8500"/>
                <p:panel >
                    <h:panelGrid columns="2" cellpadding="5" style=" text-align: center;">
                        <h:outputText value="Part to be Deleted" style="font-weight:bold;"/>
                        <p:selectOneMenu style=" width: 400px;" 
                                         value="#{manInventarioNew.deletedpart}"
                                         autoWidth="false"
                                         filter="true" filterMatchMode="contains"
                                         >
                            <f:selectItem itemLabel="Select One" itemValue="0"/>
                            <f:selectItems value="#{manInventarioNew.piezas}" var="somrepuestosdelpart"
                                           itemLabel="#{somrepuestosdelpart.cod_ref} -- #{somrepuestosdelpart.nom_pie}" 
                                           itemValue="#{somrepuestosdelpart.cod_pie}"/> 
                        </p:selectOneMenu>
                    </h:panelGrid>
                    <h:panelGrid columns="2" cellpadding="5" style=" text-align: center;">
                        <p:commandButton value="Delete" style=" width: 100px;"
                                         actionListener="#{manInventarioNew.eliminarpieza()}"
                                         update=":frmDelPart, :frmInventarioFinal"
                                         icon="fa fa-eraser"
                                         >
                            <p:confirm header="Delete" 
                                       message="Do you really want to delete this part?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Close" style=" width: 100px;"
                                         update=":frmInventarioFinal"
                                         icon="ui-icon-close" 
                                         actionListener="#{manInventarioNew.cerrareliminarpieza()}"
                                         onclick="PF('wDelPart').hide()"
                                         />
                    </h:panelGrid>
                </p:panel>

            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ************ Pantalla salida especial Inventario ***********************
        *********************************************************************-->

        <p:dialog  id="dlgInventarioPie" widgetVar="wInventarioPie" modal="true" 
                   width="1090" height="480" closable="false" resizable="false" 
                   header="Special Parts Form" rendered="true" 
                   dynamic="false" visible="false" style=" background: #a3c1ff;"
                   >
            <h:form id="frmInventarioPie">
                <p:growl id="msgInventarioPie" showDetail="true" life="8500"/>
                <p:toolbar style="background: #FFFFFF;">
                    <f:facet name="left">
                        <p:commandButton value="New" style=" width: 100px; background:  #4e6a71; color: #F3F3F3; "
                                         actionListener="#{manTblPiezas.nuevo()}"
                                         update=":frmInventarioPie"
                                         icon="fa fa-file-o"
                                         />
                        <p:commandButton value="Save" style=" width: 100px; background:  #4e6a71; color: #F3F3F3;"
                                         actionListener="#{manTblPiezas.guardar()}"
                                         update=":frmInventarioPie"
                                         icon="fa fa-floppy-o"
                                         > 
                            <p:confirm header="Save" 
                                       message="Do you really want to save this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Edit" style=" width: 100px; background:  #4e6a71; color: #F3F3F3;"
                                         onclick="PF('wBuscarEspParForm').show()"
                                         actionListener="#{manTblPiezas.iniciarBuscar()}"
                                         update=":frmBuscarEspParForm"
                                         icon="fa fa-search"
                                         />
                        <p:commandButton value="Print" style=" width: 100px; background:  #4e6a71; color: #F3F3F3;"
                                         icon="fa fa-print"
                                         actionListener="#{manTblPiezas.ejecutarreporte()}"
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <span class="ui-separator">
                            <span class="ui-icon ui-icon-grip-dotted-vertical" />
                        </span>

                        <p:commandButton value="Cancel" style=" width: 100px; background: #FF0000; color: #F3F3F3; "
                                         actionListener="#{manTblPiezas.eliminar()}"
                                         update=":frmInventarioPie"
                                         icon="fa fa-ban"
                                         >
                            <p:confirm header="Cancel" 
                                       message="Do you really want to cancel this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>



                    </f:facet>
                    <f:facet name="right">
                        <p:commandButton value="Close" style=" width: 100px;"
                                         onclick="PF('wInventarioPie').hide()"
                                         actionListener="#{manTblPiezas.cerrarventana()}"
                                         update=":frmInventarioPie"
                                         icon="ui-icon-close"
                                         />
                    </f:facet>
                </p:toolbar>

                <p:panel id="panencabezadopro" style="background: #FFFFFF;">
                    <div style=" background: #e2ecfe;">
                        <h:panelGrid columns="5" cellpadding="5">
                            <h:outputText value="Date" style="font-weight:bold;"/>
                            <h:outputText value="Country" style="font-weight:bold;"/>
                            <h:outputText value="Attn" style="font-weight:bold;"/>
                            <h:outputText value="Name" style="font-weight:bold;"/>
                            <h:outputText value="Customer" style="font-weight:bold;"/>
                            <p:calendar  value="#{manTblPiezas.mfecha}"
                                         pattern="dd/MMM/yyyy" 
                                         readonlyInput="true" 
                                         showOn="button" 
                                         size="16"
                                         style="width: 10px"
                                         navigator="true"
                                         >
                                <p:ajax event="dateSelect" listener="#{manTblPiezas.dateSelectedAction}" />
                            </p:calendar> 

                            <p:selectOneMenu value="#{manTblPiezas.cod_pai}" 
                                             style=" width: 160px;"
                                             autoWidth="false"
                                             filter="true"
                                             filterMatchMode="contains"
                                             >
                                <p:ajax event="change" listener="#{manTblPiezas.seleccionarpais()}" update="idatntblpie,idlstbodtblpie,idubitblpie,dtInvTblPie"
                                        />
                                <f:selectItem itemLabel="Select One" itemValue="0"/>
                                <f:selectItems value="#{manTblPiezas.paises}" var="lstpaitblpie"
                                               itemLabel="#{lstpaitblpie.descripcion}" itemValue="#{lstpaitblpie.codigo}"/> 
                            </p:selectOneMenu>
                            <p:selectOneMenu value="#{manTblPiezas.det_atn}" 
                                             style=" width: 200px;"
                                             autoWidth="false"
                                             filter="true"
                                             filterMatchMode="contains"
                                             editable="true"
                                             maxlength="200"
                                             id="idatntblpie"
                                             >
                                <f:selectItems value="#{manTblPiezas.attn}" var="lstatntlbpie"
                                               itemLabel="#{lstatntlbpie.descripcion}" itemValue="#{lstatntlbpie.codigo}"/> 
                            </p:selectOneMenu>
                            <p:inputText maxlength="150" size="30" value="#{manTblPiezas.nom_sol}"/>
                            <p:selectOneMenu value="#{manTblPiezas.cod_pro}" 
                                             style=" width: 200px;"
                                             autoWidth="false"
                                             filter="true"
                                             filterMatchMode="contains"
                                             >
                                <f:selectItem itemLabel="Select One" itemValue="0"/>
                                <f:selectItems value="#{manTblPiezas.clientes}" var="lstclitlbpie"
                                               itemLabel="#{lstclitlbpie.descripcion}" itemValue="#{lstclitlbpie.codigo}"/> 
                            </p:selectOneMenu>

                            <h:outputText value="Invoice/SN" style="font-weight:bold;"/>
                            <h:outputText value="Action" style="font-weight:bold;"/>
                            <h:outputText value="" style="font-weight:bold;"/>
                            <h:outputText value="" style="font-weight:bold;"/>
                            <h:outputText value="" style="font-weight:bold;"/>

                            <p:inputText maxlength="20" size="20" value="#{manTblPiezas.por_qbo}" />
                            <p:selectOneMenu value="#{manTblPiezas.flg_xxx}" 
                                             style=" width: 160px;"
                                             autoWidth="false"
                                             >
                                <f:selectItem itemLabel="Select One" itemValue="0"/>
                                <f:selectItem itemLabel="Charge" itemValue="1"/>
                                <f:selectItem itemLabel="Reagent Contract" itemValue="2"/>
                                <f:selectItem itemLabel="Warranty" itemValue="3"/>
                                <f:selectItem itemLabel="Repairs" itemValue="4"/>
                                <f:selectItem itemLabel="Refurbish" itemValue="5"/>

                            </p:selectOneMenu>

                        </h:panelGrid>    

                        <h:panelGrid columns="1" cellpadding="5">
                            <h:outputText value="Remarks" style="font-weight:bold;"/>
                            <p:inputText maxlength="200" size="158" value="#{manTblPiezas.det_obs}"/>
                        </h:panelGrid>
                    </div>
                </p:panel>
                <p:panel id="detallearticulos" style="background: #FFFFFF;">
                    <div style=" background: #e2ecfe;">
                        <h:panelGrid columns="6" cellpadding="3">
                            <h:outputText value="Part" style="font-weight:bold;"/>
                            <h:outputText value="Warehouse" style="font-weight:bold;"/>
                            <h:outputText value="Location" style="font-weight:bold;"/>
                            <h:outputText value="Quantity" style="font-weight:bold;"/>
                            <h:outputText value="" style="font-weight:bold;"/>
                            <h:outputText value="" style="font-weight:bold;"/>
                            <p:selectOneMenu value="#{manTblPiezas.cod_pie}" 
                                             style=" width: 440px;"
                                             filter="true" 
                                             filterMatchMode="contains"
                                             id="lstparttblpie"
                                             autoWidth="false"
                                             >
                                <p:ajax event="change" listener="#{manTblPiezas.seleccionarpieza()}" update="idlstbodtblpie,idubitblpie"/>
                                <f:selectItem itemLabel="Select One" itemValue="0"/>
                                <f:selectItems value="#{manTblPiezas.piezas}" var="lstpietblpie"
                                               itemLabel="#{lstpietblpie.descripcion}" itemValue="#{lstpietblpie.codigo}"/> 
                            </p:selectOneMenu>

                            <p:selectOneMenu id="idlstbodtblpie" 
                                             value="#{manTblPiezas.cod_bod}" 
                                             style=" width: 170px;"
                                             autoWidth="false"
                                             >
                                <p:ajax event="change" listener="#{manTblPiezas.seleccionarbod()}" update="idubitblpie"
                                        />
                                <f:selectItem itemLabel="Select One" itemValue="0"/>
                                <f:selectItems value="#{manTblPiezas.bodegas}" var="lstbodtblpie"
                                               itemLabel="#{lstbodtblpie.descripcion}" itemValue="#{lstbodtblpie.codigo}"/> 
                            </p:selectOneMenu>

                            <p:selectOneMenu id="idubitblpie" 
                                             value="#{manTblPiezas.cod_ubi}" 
                                             style=" width: 170px;"
                                             autoWidth="false"
                                             filter="true" 
                                             filterMatchMode="contains"
                                             >
                                <f:selectItem itemLabel="Select One" itemValue="0"/>
                                <f:selectItems value="#{manTblPiezas.ubicaciones}" var="lstubitblpie"
                                               itemLabel="#{lstubitblpie.descripcion}" itemValue="#{lstubitblpie.codigo}"/> 
                            </p:selectOneMenu>

                            <p:inputNumber size="12" value="#{manTblPiezas.det_can}" minValue="0" decimalPlaces="2" />

                            <p:commandButton title="Add" 
                                             icon="ui-icon-plus" 
                                             style=" width: 30px;" 
                                             actionListener="#{manTblPiezas.agregardetalle()}" 
                                             update=":frmInventarioPie"
                                             />
                            <p:commandButton title="Remove" 
                                             icon="ui-icon-minus" 
                                             style=" width: 30px;" 
                                             actionListener="#{manTblPiezas.eliminardetalle()}" 
                                             update=":frmInventarioPie"
                                             />
                        </h:panelGrid>
                    </div>
                </p:panel>
                <p:dataTable id="dtInvTblPie" var="vInvTblPie" 
                             value="#{manTblPiezas.piezasdetalle }" 
                             emptyMessage="No results found" 
                             selection="#{manTblPiezas.cattblpiezasdetalle}" 
                             selectionMode="single"
                             rowKey="#{vInvTblPie.cod_det }"
                             editable="false"
                             scrollable="true"
                             scrollHeight="120"
                             style="width:1067px"
                             >

                    <p:ajax event="rowSelect" listener="#{manTblPiezas.onRowSelect}" 
                            />

                    <p:column style="width:3px;" headerText="Item">
                        <h:outputText value="#{vInvTblPie.cod_det}" />
                    </p:column>
                    <p:column style="width:60px;" headerText="Warehouse">
                        <h:outputText value="#{vInvTblPie.nombod}" />
                    </p:column>
                    <p:column style="width:50px;" headerText="Location">
                        <h:outputText value="#{vInvTblPie.nomubi}" />
                    </p:column>
                    <p:column style="width:160px;" headerText="Part">
                        <h:outputText value="#{vInvTblPie.nompie}" />
                    </p:column>
                    <p:column style="width:30px;" headerText="Qty">
                        <h:outputText value="#{vInvTblPie.det_can}" />
                    </p:column>


                </p:dataTable>

            </h:form>
        </p:dialog>

        <p:dialog  id="dlgBuscarEspParForm" widgetVar="wBuscarEspParForm" modal="true" 
                   width="700" height="400" closable="false" resizable="false" 
                   header="Search" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmBuscarEspParForm"> 

                <p:toolbar>
                    <f:facet name="right">
                        <p:commandButton value="Close" style=" width: 100px;"
                                         onclick="PF('wBuscarEspParForm').hide()"
                                         update=":frmInventarioPie"
                                         icon="ui-icon-close"
                                         actionListener="#{manTblPiezas.cerrarBuscar()}"
                                         />
                    </f:facet>
                </p:toolbar>
                <p:panel>
                    <p:dataTable id="dtIngBuscarEspParFor" var="vIngBuscarEspParFor" 
                                 value="#{manTblPiezas.piezasencabezado}" 
                                 emptyMessage="No results found" 
                                 selectionMode="single" selection="#{manTblPiezas.cattblpiezas}" 
                                 rowKey="#{vIngBuscarEspParFor.cod_lis_pie}"
                                 editable="false" 
                                 style="width:650px"
                                 widgetVar="wDTIngBuscarEspParFor"
                                 scrollable="true"
                                 scrollHeight="280"
                                 >
                        <p:ajax event="rowSelect" listener="#{manTblPiezas.onRowSelectEncabezado}" 
                                update=":frmInventarioPie"/>

                        <f:facet name="header">
                            <p:outputPanel>
                                <h:panelGrid columns="2" cellpadding="1" styleClass="noBorders">
                                    <h:outputText value="Filter:" />
                                    <p:inputText id="globalFilter" 
                                                 onkeyup="PF('wDTIngBuscarEspParFor').filter()" 
                                                 style="width:250px" 
                                                 placeholder="Country,Date,Customer,Invoice"
                                                 />
                                </h:panelGrid>
                            </p:outputPanel>
                        </f:facet>


                        <p:column style="width:15px" headerText="Country" filterBy="#{vIngBuscarEspParFor.nompai}" 
                                  filterMatchMode="contains"  filterStyle="display:none; visibility:hidden;" >
                            <h:outputText value="#{vIngBuscarEspParFor.nompai}" />
                        </p:column>
                        <p:column style="width:15px" headerText="Date" filterBy="#{vIngBuscarEspParFor.fec_tra}" 
                                  filterMatchMode="contains"  filterStyle="display:none; visibility:hidden;" >
                            <h:outputText value="#{vIngBuscarEspParFor.fec_tra}" />
                        </p:column>
                        <p:column style="width:50px" headerText="Customer" filterBy="#{vIngBuscarEspParFor.nompro}" 
                                  filterMatchMode="contains"  filterStyle="display:none; visibility:hidden;">
                            <h:outputText value="#{vIngBuscarEspParFor.nompro}" />
                        </p:column>
                        <p:column style="width:30px" headerText="Invoice" filterBy="#{vIngBuscarEspParFor.por_qbo}" 
                                  filterMatchMode="contains"  filterStyle="display:none; visibility:hidden;">
                            <h:outputText value="#{vIngBuscarEspParFor.por_qbo}" />
                        </p:column>



                    </p:dataTable>
                </p:panel> 
            </h:form>
        </p:dialog>

        <!--********************************************************************
        ************************** Pantalla Integral ***************************
        *********************************************************************-->

        <p:dialog  id="dlgIntegralIni" widgetVar="wIntegralIni" modal="true" 
                   width="1080" height="600" closable="false" resizable="false" 
                   header="Maintenances" rendered="true" 
                   dynamic="false" visible="false" 
                   >
            <h:form id="frmIntegralIni" >
                <p:growl id="msgIntegralIni" showDetail="true" life="8500"/>
                <h:outputLabel value="#{manMaestroMan.nombreequipoman}" style="color: red;" />
                <p:toolbar style=" background: #FFFFFF;" >
                    <f:facet name="left">
                        <p:commandButton value="New" style=" width: 100px; background: #ccffcc; "
                                         icon="fa fa-file-o" 
                                         actionListener="#{manMaestroMan.nuevoIntegral()}"
                                         update=":frmIntegralIni"
                                         /> 
                        <p:commandButton value="Save" style=" width: 100px; background: #fbfdb5;"
                                         update=":frmIntegralIni"
                                         icon="fa fa-floppy-o" 
                                         actionListener="#{manMaestroMan.guardarintegral()}"
                                         >
                            <p:confirm header="Save" 
                                       message="Do you really want to save this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton> 
                        <span class="ui-separator">
                            <span class="ui-icon ui-icon-grip-dotted-vertical" />
                        </span>
                        <p:commandButton value="Cancel" style=" width: 100px;  background: #FF0000; color: #FFFFFF;"
                                         update=":frmIntegralIni"
                                         icon="fa fa-trash-o" 
                                         actionListener="#{manMaestroMan.eliminarencabezadoInt()}"
                                         >
                            <p:confirm header="Cancel" 
                                       message="Do you really want to Cancel this WO?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton> 
                        <span class="ui-separator">
                            <span class="ui-icon ui-icon-grip-dotted-vertical" />
                        </span>    
                        <p:commandButton value="WO Completed" 
                                         style=" width: 130px; background: deeppink; color: #FFFFFF;"
                                         actionListener="#{manMaestroMan.iniciarFinalizarWO()}"
                                         icon="fa fa-check"
                                         disabled="#{manSeguridad.disableOpt('botonWOCompleted')}"
                                         />
                        <p:commandButton value="PM Completed" 
                                         style=" width: 130px; background: blueviolet; color: #FFFFFF;"
                                         actionListener="#{manMaestroMan.iniciarFinalizarPM()}"
                                         icon="fa fa-check"
                                         disabled="#{manSeguridad.disableOpt('botonPMCompleted')}"
                                         />
                        <span class="ui-separator">
                            <span class="ui-icon ui-icon-grip-dotted-vertical" />
                        </span>
                        <p:commandButton value="Print" icon="fa fa-print"
                                         style=" width: 100px; background: darkorange; color: #FFFFFF; "
                                         onclick="this.form.target = '_blank';" 
                                         action="#{manMaestroMan.ejecutarreporte2()}" 
                                         ajax="false"/>
                        <span class="ui-separator">
                            <span class="ui-icon ui-icon-grip-dotted-vertical" />
                        </span>
                        <p:commandButton value="UnLock" icon="fa fa-unlock"
                                         style=" width: 100px; background: #FF0000; color:  #FFFFFF;"
                                         action="#{manMaestroMan.unlock()}" 
                                         update=":frmIntegralIni"
                                         disabled="#{manSeguridad.disableOpt('botonUnlock')}"
                                         />
                    </f:facet> 
                    <f:facet name="right">
                        <p:commandButton value="Close" style=" width: 100px;"
                                         icon="fa fa-times" 
                                         actionListener="#{manMaestroMan.cerrarventanaintegral()}"
                                         onclick="PF('wIntegralIni').hide()"
                                         update=":frmIntegralIni"
                                         />

                    </f:facet>
                </p:toolbar>
                <p:tabView id="tvmanintcon" activeIndex="#{manMaestroMan.tabindex}" >
                    <p:ajax event="tabChange" listener="#{manMaestroMan.onTabChangeIni}" />
                    <p:tab id="listagenini" title="WO List" >
                        <p:dataTable id="dtEncManInit" var="vEncManInit" 
                                     value="#{manMaestroMan.mantenimientos}" 
                                     emptyMessage="No results found" 
                                     selection="#{manMaestroMan.catmantenimientos}" 
                                     selectionMode="single"
                                     rowKey="#{vEncManInit.cod_lis_equ},#{vEncManInit.cod_man}"
                                     editable="false"
                                     scrollable="true"
                                     scrollHeight="360"
                                     style="width:1020px;"
                                     sortMode="multiple"
                                     widgetVar="wvEncManIni"
                                     >

                            <f:facet name="header">
                                <p:outputPanel style=" text-align: right;">
                                    <h:panelGroup>
                                        <h:outputText value="Filter:&nbsp;&nbsp;" />
                                        <p:inputText id="globalFilter" 
                                                     style="width:400px;" 
                                                     placeholder="WO, Country, Equipment, Serial, Engineer, Opened by"
                                                     value="#{manMaestroMan.bfiltro}"
                                                     />
                                        <h:outputText value="&nbsp;&nbsp;" />
                                        <p:commandButton value="Go" style="width:50px;" 
                                                         update=":frmIntegralIni"
                                                         actionListener="#{manMaestroMan.llenarMantenimientosFiltrado()}"
                                                         />
                                    </h:panelGroup>

                                </p:outputPanel>
                            </f:facet>

                            <p:ajax event="rowSelect" listener="#{manMaestroMan.onRowSelectEncInt}" 
                                    update=":frmIntegralIni"/>

                            <p:column style="width:45px" headerText="WO" sortBy="#{vEncManInit.codigoalt}" >
                                <h:outputText value="#{vEncManInit.cod_alt}" />
                            </p:column>
                            <p:column style="width:50px" headerText="Date" sortBy="#{vEncManInit.ordenafecha}">
                                <h:outputText value="#{vEncManInit.fec_ini}" />
                            </p:column>
                            <p:column style="width:60px;" headerText="Type" sortBy="#{vEncManInit.nomtip}">
                                <h:outputText value="#{vEncManInit.nomtip}" />
                            </p:column>
                            <p:column style="width:90px" headerText="Country" sortBy="#{vEncManInit.npais}">
                                <h:outputText value="#{vEncManInit.npais}" />
                            </p:column>
                            <p:column style="width:90px" headerText="Engineer" sortBy="#{vEncManInit.nusu}">
                                <h:outputText value="#{vEncManInit.nusu}" />
                            </p:column>
                            <p:column style="width:90px" headerText="Opened By" sortBy="#{vEncManInit.nordpor}">
                                <h:outputText value="#{vEncManInit.nordpor}" />
                            </p:column>
                            <p:column style="width:90px" headerText="Equipment" sortBy="#{vEncManInit.tequipo}">
                                <h:outputText value="#{vEncManInit.tequipo}" />
                            </p:column>
                            <p:column style="width:90px" headerText="Serial No" sortBy="#{vEncManInit.nserie}">
                                <h:outputText value="#{vEncManInit.nserie}" />
                            </p:column>
                            <p:column style="width:60px" headerText="Status" sortBy="#{vEncManInit.status}">
                                <h:outputText value="#{vEncManInit.status}" />
                            </p:column>


                        </p:dataTable>
                        <div style="background: #ebf8fe;">
                            <h:panelGrid columns="3" cellpadding="5" style=" text-align: left;">
                                <h:outputText value="Country" style="font-weight:bold;"/>
                                <p:selectOneMenu value="#{manMaestroMan.buscar_pais}" 
                                                 style=" width: 210px;"
                                                 autoWidth="false"
                                                 filter="true"
                                                 filterMatchMode="contains"
                                                 >
                                    <f:selectItem itemLabel="All" itemValue="0"/>
                                    <f:selectItems value="#{manMaestroMan.paises}" var="lstpaimm"
                                                   itemLabel="#{lstpaimm.nom_pai}" itemValue="#{lstpaimm.cod_pai}"/> 
                                </p:selectOneMenu>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <h:outputText value="Year (yyyy)" style="font-weight:bold;"/>
                                <p:inputText id="cmdlimit" value="#{manMaestroMan.vlimit}" size="7" maxlength="11"/>
                                <p:commandButton value="Refresh" actionListener="#{manMaestroMan.llenarMantenimientosintegral()}" update="dtEncManInit,cmdlimit"/>
                            </h:panelGrid>
                        </div>
                    </p:tab>
                    <p:tab id="listaPMini" title="PM List" >
                        <p:dataTable id="dtEncManPInit" var="vEncManPInit" 
                                     value="#{manMaestroMan.mantenimientospm}" 
                                     emptyMessage="No results found" 
                                     selection="#{manMaestroMan.catmantenimientospm}" 
                                     selectionMode="single"
                                     rowKey="#{vEncManPInit.cod_lis_equ},#{vEncManPInit.cod_man}"
                                     editable="false"
                                     scrollable="true"
                                     scrollHeight="400"
                                     style="width:1020px;"
                                     sortMode="multiple"
                                     widgetVar="wvEncManPIni"
                                     >

                            <f:facet name="header">
                                <p:outputPanel style=" text-align: right;">
                                    <h:panelGroup>
                                        <h:outputText value="Filter:&nbsp;&nbsp;" />
                                        <p:inputText style="width:400px;" 
                                                     placeholder="PMI, Country, Equipment, Serial, Engineer, Opened by"
                                                     value="#{manMaestroMan.bfiltropm}"
                                                     />
                                        <h:outputText value="&nbsp;&nbsp;" />
                                        <p:commandButton value="Go" style="width:50px;" 
                                                         update=":frmIntegralIni"
                                                         actionListener="#{manMaestroMan.llenarMantenimientosFiltradopm()}"
                                                         />
                                    </h:panelGroup>

                                </p:outputPanel>
                            </f:facet>

                            <p:ajax event="rowSelect" listener="#{manMaestroMan.onRowSelectEncIntPM}" update=":frmIntegralIni"/>

                            <p:column style="width:35px;" headerText="PMI" sortBy="#{vEncManPInit.codigoalt}">
                                <h:outputText value="#{vEncManPInit.cod_alt}" />
                            </p:column>
                            <p:column style="width:50px;" headerText="Date" sortBy="#{vEncManPInit.ordenafecha}">
                                <h:outputText value="#{vEncManPInit.fec_ini}" />
                            </p:column>
                            <p:column style="width:60px;" headerText="Event">
                                <h:outputText value="#{vEncManPInit.det_obs}" />
                            </p:column>
                            <p:column style="width:90px; background: #{vEncManPInit.color}" headerText="Country" sortBy="#{vEncManPInit.npais}">
                                <h:outputText value="#{vEncManPInit.npais}" />
                            </p:column>
                            <p:column style="width:90px; background: #{vEncManPInit.color}" headerText="Engineer" sortBy="#{vEncManPInit.nusu}">
                                <h:outputText value="#{vEncManPInit.nusu}" />
                            </p:column>
                            <p:column style="width:90px; background: #{vEncManPInit.color}" headerText="Opened By" sortBy="#{vEncManPInit.nordpor}">
                                <h:outputText value="#{vEncManPInit.nordpor}" />
                            </p:column>
                            <p:column style="width:90px; background: #{vEncManPInit.color}" headerText="Equipment" sortBy="#{vEncManPInit.tequipo}">
                                <h:outputText value="#{vEncManPInit.tequipo}" />
                            </p:column>
                            <p:column style="width:90px; background: #{vEncManPInit.color}" headerText="Serial No" sortBy="#{vEncManPInit.nserie}">
                                <h:outputText value="#{vEncManPInit.nserie}" />
                            </p:column>
                            <p:column style="width:70px; background: #{vEncManPInit.color}" headerText="Status" sortBy="#{vEncManPInit.status}">
                                <h:outputText value="#{vEncManPInit.status}" />
                            </p:column>


                        </p:dataTable>
                        <div style="background: #ebf8fe;">
                            <h:panelGrid columns="3" cellpadding="5" style=" text-align: left;">
                                <h:outputText value="Country" style="font-weight:bold;"/>
                                <p:selectOneMenu value="#{manMaestroMan.buscar_pais2}" 
                                                 style=" width: 210px;"
                                                 autoWidth="false"
                                                 filter="true"
                                                 filterMatchMode="contains"
                                                 >
                                    <f:selectItem itemLabel="All" itemValue="0"/>
                                    <f:selectItems value="#{manMaestroMan.paises}" var="lstpaimmpm"
                                                   itemLabel="#{lstpaimmpm.nom_pai}" itemValue="#{lstpaimmpm.cod_pai}"/> 
                                </p:selectOneMenu>
                                <p:commandButton value="Refresh" actionListener="#{manMaestroMan.llenarMantenimientosintegralpm()}" update="dtEncManPInit"/>
                            </h:panelGrid>
                        </div>
                    </p:tab>
                    <p:tab id="genini" title="General">
                        <p:panel style="background: #dfecf1;">
                            <h:panelGrid columns="4" cellpadding="5">
                                <h:outputText value="WO ID" style="font-weight:bold;"/>
                                <h:outputText value="Start Date" style="font-weight:bold;"/>
                                <h:outputText value="Equipment" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <p:inputText value="#{manMaestroMan.cod_alt}" size="10" maxlength="11" readonly="true"/>
                                <p:calendar  pattern="dd/MMM/yyyy HH:mm" 
                                             readonlyInput="true" showOn="button" 
                                             size="16"
                                             value="#{manMaestroMan.dfecini}"
                                             navigator="true"
                                             disabled="#{!manMaestroMan.detailsenabled}"
                                             >
                                    <p:ajax event="dateSelect" listener="#{manMaestroMan.dateSelectedFencabezado}" update=":frmIntegralIni"/>
                                </p:calendar>
                                <p:selectOneMenu style=" width: 500px;" 
                                                 value="#{manMaestroMan.cod_lis_equ}"
                                                 filter="true" 
                                                 filterMatchMode="contains" 
                                                 disabled="#{!manMaestroMan.detailsenabled}"
                                                 autoWidth="false"
                                                 >
                                    <f:selectItem itemLabel="Select one" itemValue="0"/>
                                    <f:selectItems value="#{manMaestroMan.listadoequipo}" var="lequmanini"
                                                   itemLabel="#{lequmanini.descripcion}" itemValue="#{lequmanini.codigo}"/> 
                                </p:selectOneMenu>
                                <p:commandButton title="Equipments" icon="fa fa-gears" style="width:30px;" 
                                                 onclick="PF('wListaEquipos').show()"
                                                 update=":frmListaEquipos"
                                                 actionListener="#{manListaEquipos.iniciarventana()}"
                                                 disabled="#{manSeguridad.disableOpt('menuRegistroEquipo')}"
                                                 />
                            </h:panelGrid>

                            <h:panelGrid columns="5" cellpadding="5">
                                <h:outputText value="External" style="font-weight:bold;"/>
                                <h:outputText value="Type" style="font-weight:bold;"/>
                                <h:outputText value="Frequency" style="font-weight:bold;"/>
                                <h:outputText value="Opened by" style="font-weight:bold;"/>
                                <h:outputText value="Date and Time Created" style="font-weight:bold;"/>
                                <p:selectOneMenu value="#{manMaestroMan.flg_ext}" 
                                                 style=" width: 50px;"
                                                 disabled="#{!manMaestroMan.detailsenabled}"
                                                 autoWidth="false"
                                                 >
                                    <f:selectItem itemLabel="No" itemValue="0"/>
                                    <f:selectItem itemLabel="Yes" itemValue="1"/>

                                </p:selectOneMenu>
                                <p:selectOneMenu value="#{manMaestroMan.cod_tip}" 
                                                 style=" width: 120px;"
                                                 disabled="#{!manMaestroMan.detailsenabled}"
                                                 autoWidth="false"
                                                 filter="true"
                                                 filterMatchMode="contains"
                                                 >
                                    <f:selectItem itemLabel="Select one" itemValue="0"/>
                                    <f:selectItems value="#{manMaestroMan.tipos}" var="inttipman"
                                                   itemLabel="#{inttipman.nom_tip}" itemValue="#{inttipman.cod_tip}"/> 
                                </p:selectOneMenu>
                                <p:selectOneMenu value="#{manMaestroMan.cod_per}" 
                                                 style=" width: 120px;"
                                                 disabled="#{!manMaestroMan.detailsenabled}"
                                                 autoWidth="false"
                                                 filter="true"
                                                 filterMatchMode="contains"
                                                 >
                                    <p:ajax event="change" listener="#{manMaestroMan.onSelectFrecuencia()}" 
                                            update=":frmIntegralIni:tvmanintcon:tvpangenman:itaobsman" />
                                    <f:selectItem itemLabel="Select one" itemValue="0"/>
                                    <f:selectItems value="#{manMaestroMan.periodos}" var="intperman"
                                                   itemLabel="#{intperman.nom_per}" itemValue="#{intperman.cod_per}"/> 
                                </p:selectOneMenu>
                                <p:selectOneMenu value="#{manMaestroMan.ord_por}" 
                                                 style=" width: 200px;"
                                                 disabled="#{!manMaestroMan.detailsenabled}"
                                                 autoWidth="false"
                                                 filter="true"
                                                 filterMatchMode="contains"
                                                 >
                                    <f:selectItem itemLabel="Select one" itemValue="0"/>
                                    <f:selectItems value="#{manMaestroMan.paises}" var="intpaiordpor"
                                                   itemLabel="#{intpaiordpor.nom_pai}" itemValue="#{intpaiordpor.cod_pai}"/> 
                                </p:selectOneMenu>
                                <p:calendar  pattern="dd/MMM/yyyy HH:mm" 
                                             readonlyInput="true"
                                             size="16"
                                             value="#{manMaestroMan.dfechacreate}"
                                             disabled="true"
                                             >
                                </p:calendar>

                            </h:panelGrid>


                        </p:panel>
                        <p:tabView activeIndex="#{manMaestroMan.panindex}" id="tvpangenman" >
                            <p:ajax event="tabChange" listener="#{manMaestroMan.onTabPanChange}" />
                            <p:tab id="tabOBSTECini" title="General Observations">
                                <div style="background: #fdcdb5;">
                                    <h:panelGrid columns="2" cellpadding="5">
                                        <h:outputText value="Engineer" style="font-weight:bold;"/>
                                        <p:selectOneMenu value="#{manMaestroMan.cod_usu}" 
                                                         style=" width: 210px;"
                                                         disabled="#{!manMaestroMan.detailsenabled}"
                                                         autoWidth="false"
                                                         filter="true"
                                                         filterMatchMode="contains"
                                                         >
                                            <f:selectItem itemLabel="Select one" itemValue="0"/>
                                            <f:selectItems value="#{manMaestroMan.usuarios}" var="intusuman"
                                                           itemLabel="#{intusuman.det_nom}" itemValue="#{intusuman.cod_usu}"/> 
                                        </p:selectOneMenu>
                                        <h:outputText value="Event" style="font-weight:bold;"/>
                                        <p:inputTextarea id="itaobsman" cols="87" rows="2" value="#{manMaestroMan.det_obs}" 
                                                         maxlength="300" disabled="#{!manMaestroMan.detailsenabled}"/>

                                    </h:panelGrid>
                                </div>

                            </p:tab>
                            <p:tab id="tabGENini" title="Technical Details" disabled="#{manMaestroMan.detailsenabled}">
                                <div style="background: #fbfdb5;">
                                    <h:panelGrid columns="3" cellpadding="5">
                                        <h:outputText value="Date" style="font-weight:bold;"/>
                                        <h:outputText value="Action" style="font-weight:bold;"/>
                                        <h:outputText value="Engineer" style="font-weight:bold;"/>
                                        <p:calendar  pattern="dd/MMM/yyyy HH:mm" 
                                                     readonlyInput="true" 
                                                     showOn="button" size="16"
                                                     value="#{manMaestroMan.dfecha1}"
                                                     navigator="true"
                                                     >
                                            <p:ajax event="dateSelect" listener="#{manMaestroMan.dateSelectedGeneral}" />
                                        </p:calendar> 
                                        <p:selectOneMenu style="width: 323px;" 
                                                         value="#{manMaestroMan.gen_cod_ope}"
                                                         filter="true" 
                                                         filterMatchMode="contains" 
                                                         autoWidth="false" 
                                                         >
                                            <f:selectItem itemLabel="Select one" itemValue="0"/>
                                            <f:selectItems value="#{manMaestroMan.operaciones}" var="inttipope"
                                                           itemLabel="#{inttipope.nom_ope}" itemValue="#{inttipope.cod_ope}"/> 
                                        </p:selectOneMenu>
                                        <p:selectOneMenu style=" width: 210px;" 
                                                         value="#{manMaestroMan.gen_cod_usu}" 
                                                         autoWidth="false"
                                                         filter="true"
                                                         filterMatchMode="contains"
                                                         >
                                            <f:selectItem itemLabel="Select one" itemValue="0"/>
                                            <f:selectItems value="#{manMaestroMan.usuarios}" var="intusudet"
                                                           itemLabel="#{intusudet.det_nom}" itemValue="#{intusudet.cod_usu}"/> 
                                        </p:selectOneMenu>
                                    </h:panelGrid>
                                    <h:panelGrid columns="3" cellpadding="3">
                                        <h:outputText value="Diagnostic or Comments" style="font-weight:bold;"/>
                                        <h:outputText value="" style="font-weight:bold;"/>
                                        <h:outputText value="" style="font-weight:bold;"/>
                                        <p:inputTextarea maxlength="200" cols="100" rows="2" value="#{manMaestroMan.gen_det_obs}" />
                                        <p:commandButton title="Add" icon="ui-icon-plus" style="width:30px;" 
                                                         actionListener="#{manMaestroMan.agregargeneral()}"
                                                         update=":frmIntegralIni"
                                                         />
                                        <p:commandButton title="Remove" icon="ui-icon-minus" style="width:30px;" 
                                                         actionListener="#{manMaestroMan.eliminargeneral()}"
                                                         update=":frmIntegralIni"
                                                         />
                                    </h:panelGrid>
                                </div>
                                <p:dataTable id="dtDetTecIni" var="vDetTecIni" 
                                             value="#{manMaestroMan.general}" 
                                             emptyMessage="No results found" 
                                             selection="#{manMaestroMan.catmantenimientosgen}" 
                                             selectionMode="single"
                                             rowKey="#{vDetTecIni.det_man}"
                                             editable="false"
                                             scrollable="true"
                                             scrollHeight="130"
                                             style="width:980px"
                                             >
                                    <p:ajax event="rowSelect" listener="#{manMaestroMan.onRowSelectGen}" update=":frmIntegralIni"/>
                                    <p:column style="width:12px;" headerText="Date">
                                        <h:outputText value="#{vDetTecIni.fec_man}" />
                                    </p:column>
                                    <p:column style="width:80px" headerText="Action">
                                        <h:outputText value="#{vDetTecIni.nomope}" />
                                    </p:column>
                                    <p:column style="width:80px" headerText="Comments">
                                        <h:outputText value="#{vDetTecIni.det_obs}" />
                                    </p:column>
                                    <p:column style="width:50px" headerText="Engineer">
                                        <h:outputText value="#{vDetTecIni.nomusu}" />
                                    </p:column>
                                </p:dataTable>

                            </p:tab>

                        </p:tabView>

                    </p:tab>
                    <p:tab id="detintini" title="Parts and Docs" disabled="#{manMaestroMan.detailsenabled}">
                        <p:tabView id="tvDetMan2ini" activeIndex="#{manMaestroMan.tabindex2}" >
                            <p:ajax event="tabChange" listener="#{manMaestroMan.onTab2Change}" />
                            <p:tab id="tabPIEini" title="Parts">
                                <p:panel>
                                    <div style=" background-color: #ebf8fe;">
                                        <h:panelGrid columns="4" cellpadding="5">
                                            <h:outputText value="Date" style="font-weight:bold;"/>
                                            <h:outputText value="Engineer" style="font-weight:bold;"/>
                                            <h:outputText value="Country" style="font-weight:bold;"/>
                                            <h:outputText value="Warehouse" style="font-weight:bold;"/>
                                            <p:calendar  pattern="dd/MMM/yyyy HH:mm" 
                                                         readonlyInput="true" showOn="button" size="16"
                                                         value="#{manMaestroMan.dfecha2}"
                                                         navigator="true"
                                                         >
                                                <p:ajax event="dateSelect" listener="#{manMaestroMan.dateSelectedPiezas}" />
                                            </p:calendar>  

                                            <p:selectOneMenu style=" width: 180px;" 
                                                             value="#{manMaestroMan.pie_cod_usu}" 
                                                             autoWidth="false"
                                                             filter="true"
                                                             filterMatchMode="contains"
                                                             >
                                                <f:selectItem itemLabel="Select one" itemValue="0"/>
                                                <f:selectItems value="#{manMaestroMan.usuarios}" var="iniusumanpie"
                                                               itemLabel="#{iniusumanpie.det_nom}" itemValue="#{iniusumanpie.cod_usu}"/> 
                                            </p:selectOneMenu>

                                            <p:selectOneMenu style=" width: 180px;" 
                                                             value="#{manMaestroMan.pie_cod_pai}" 
                                                             autoWidth="false"
                                                             filter="true"
                                                             filterMatchMode="contains"
                                                             >
                                                <p:ajax event="change" listener="#{manMaestroMan.llenarBodegas()}" 
                                                        update="bodegadepiezaintegral,somubimanpieini,lblqtyreq,indetcan" />
                                                <f:selectItem itemLabel="Select one" itemValue="0"/>
                                                <f:selectItems value="#{manMaestroMan.paises}" var="inipaimanpie"
                                                               itemLabel="#{inipaimanpie.nom_pai}" itemValue="#{inipaimanpie.cod_pai}"/> 

                                            </p:selectOneMenu>
                                            <p:selectOneMenu style=" width: 180px;" value="#{manMaestroMan.pie_cod_bod}" id="bodegadepiezaintegral" autoWidth="false">
                                                <p:ajax event="change" listener="#{manMaestroMan.llenarCatalogoPiezas()}" 
                                                        update="somubimanpieini,lblqtyreq,indetcan,sompiemanpieini" />
                                                <f:selectItem itemLabel="Select one" itemValue="0"/>
                                                <f:selectItems value="#{manMaestroMan.bodegas}" var="inibodmanpie"
                                                               itemLabel="#{inibodmanpie.nom_bod}" itemValue="#{inibodmanpie.id_bod}"/> 
                                            </p:selectOneMenu>

                                        </h:panelGrid>

                                        <h:panelGrid columns="4" cellpadding="5">
                                            <h:outputText value="Part" style="font-weight:bold;"/>
                                            <h:outputText value="" style="font-weight:bold;"/>
                                            <h:outputText value="" style="font-weight:bold;"/>
                                            <h:outputText value="Location" style="font-weight:bold;"/>

                                            <p:selectOneMenu value="#{manMaestroMan.pie_cod_pie}" 
                                                             style=" width: 458px;"
                                                             filter="true" 
                                                             filterMatchMode="contains"
                                                             id="sompiemanpieini"
                                                             autoWidth="false"
                                                             >
                                                <p:ajax event="change" listener="#{manMaestroMan.onSelectPiePieza()}" update="somubimanpieini,lblqtyreq,indetcan"/>
                                                <f:selectItem itemLabel="Select one" itemValue="0"/>
                                                <f:selectItems value="#{manMaestroMan.listapiezas}" var="inipiemanpie"
                                                               itemLabel="#{inipiemanpie.cod_ref} - #{inipiemanpie.nom_pie}" itemValue="#{inipiemanpie.cod_pie}"/> 

                                            </p:selectOneMenu>
                                            <p:commandButton title="Parts Inventory" 
                                                             icon="ui-icon-gear"
                                                             onclick="PF('wInventarioFinal').show()"
                                                             update=":frmInventarioFinal"
                                                             style="width: 30px;"
                                                             actionListener="#{manInventarioNew.iniciarventana()}"
                                                             disabled="#{manSeguridad.disableOpt('menuInventarioPiezas')}"
                                                             />
                                            <p:commandButton title="Refresh" 
                                                             icon="ui-icon-refresh" 
                                                             style="width:30px;" 
                                                             actionListener="#{manMaestroMan.llenarCatalogoPiezas()}"
                                                             update="sompiemanpieini,somubimanpieini,lblqtyreq,indetcan"
                                                             />
                                            <p:selectOneMenu value="#{manMaestroMan.pie_cod_ubi}" 
                                                             style=" width: 180px;"
                                                             filter="true" 
                                                             filterMatchMode="contains"
                                                             id="somubimanpieini"
                                                             autoWidth="false"
                                                             >
                                                <p:ajax event="change" listener="#{manMaestroMan.onSelectUbicacion()}" update="lblqtyreq,indetcan"/>
                                                <f:selectItem itemLabel="Select one" itemValue="0"/>
                                                <f:selectItems value="#{manMaestroMan.ubicaciones}" var="iniubimanpie"
                                                               itemLabel="#{iniubimanpie.descripcion}" itemValue="#{iniubimanpie.codigo}"/> 

                                            </p:selectOneMenu>

                                        </h:panelGrid>
                                        <h:panelGrid columns="4" cellpadding="5">
                                            <h:outputText value="Available Quantity in stock on selected date" style="font-weight:bold; font-size: larger; color: red; "/>
                                            <h:outputText value="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" style="font-weight:bold;"/>
                                            <h:outputText value="Required Quantity" style="font-weight:bold;"/>
                                            <p:commandButton value="Add parts to Maintenance" icon="ui-icon-plus" style="width:200px;" 
                                                             actionListener="#{manMaestroMan.agregarpiezas()}"
                                                             update=":frmIntegralIni"
                                                             />
                                            <p:panel style=" text-align:  center;">
                                                <h:outputText id="lblqtyreq" value="#{manMaestroMan.exiscan}" style="font-weight:bold; font-size: large; color: red;"/>
                                            </p:panel>
                                            <h:outputText value="" style="font-weight:bold;"/>
                                            <p:inputNumber id="indetcan" value="#{manMaestroMan.pie_det_can}" minValue="0" style="width: 80px;" />

                                            <p:commandButton value="Remove parts from Maintenance" icon="ui-icon-minus" style="width:200px;"  
                                                             actionListener="#{manMaestroMan.eliminarpiezas()}"
                                                             update=":frmIntegralIni"
                                                             />
                                        </h:panelGrid>
                                    </div>
                                </p:panel>
                                <p:dataTable id="dtDetPie2ini" var="vDetPieini" 
                                             value="#{manMaestroMan.piezas}" 
                                             emptyMessage="No results found" 
                                             selection="#{manMaestroMan.catmantenimientospie}" 
                                             selectionMode="single"
                                             rowKey="#{vDetPieini.det_man}"
                                             editable="false"
                                             scrollable="true"
                                             scrollHeight="180"
                                             style="width:990px"
                                             >
                                    <p:ajax event="rowSelect" listener="#{manMaestroMan.onRowSelectPie}" update=":frmIntegralIni"/>


                                    <p:column style="width:25px;" headerText="Date">
                                        <h:outputText value="#{vDetPieini.fec_man}" />
                                    </p:column>
                                    <p:column style="width:30px;" headerText="Country">
                                        <h:outputText value="#{vDetPieini.nompai}" />
                                    </p:column>
                                    <p:column style="width:30px;" headerText="Warehouse">
                                        <h:outputText value="#{vDetPieini.nombod}" />
                                    </p:column>
                                    <p:column style="width:50px" headerText="Location">
                                        <h:outputText value="#{vDetPieini.cod_ubi}" />
                                    </p:column>
                                    <p:column style="width:10px" headerText="Qty">
                                        <h:outputText value="#{vDetPieini.det_can}" />
                                    </p:column>
                                    <p:column style="width:100px;" headerText="Part">
                                        <h:outputText value="#{vDetPieini.nompie}" />
                                    </p:column>
                                    <p:column style="width:70px" headerText="Engineer">
                                        <h:outputText value="#{vDetPieini.nomusu}" />
                                    </p:column>

                                </p:dataTable>
                            </p:tab>
                            <p:tab id="tabACCini" title="Miscellaneous">
                                <p:panel>
                                    <div style=" background-color: #ebf8fe;">
                                        <h:panelGrid columns="3" cellpadding="5">
                                            <h:outputText value="Date" style="font-weight:bold;"/>
                                            <h:outputText value="Engineer" style="font-weight:bold;"/>
                                            <h:outputText value="Country" style="font-weight:bold;"/>

                                            <p:calendar  pattern="dd/MMM/yyyy HH:mm" 
                                                         readonlyInput="true" showOn="button" size="16"
                                                         value="#{manMaestroMan.dfecha3}"
                                                         navigator="true"
                                                         >
                                                <p:ajax event="dateSelect" listener="#{manMaestroMan.dateSelectedAccesorios}" />
                                            </p:calendar>  

                                            <p:selectOneMenu style=" width: 180px;" 
                                                             value="#{manMaestroMan.acc_cod_usu}" 
                                                             autoWidth="false"
                                                             filter="true"
                                                             filterMatchMode="contains"
                                                             >
                                                <f:selectItem itemLabel="Select one" itemValue="0"/>
                                                <f:selectItems value="#{manMaestroMan.usuarios}" var="iniusumanacc"
                                                               itemLabel="#{iniusumanacc.det_nom}" itemValue="#{iniusumanacc.cod_usu}"/> 
                                            </p:selectOneMenu>

                                            <p:selectOneMenu style=" width: 180px;" 
                                                             value="#{manMaestroMan.acc_cod_pai}" 
                                                             autoWidth="false"
                                                             filter="true"
                                                             filterMatchMode="contains"
                                                             >
                                                <f:selectItem itemLabel="Select one" itemValue="0"/>
                                                <f:selectItems value="#{manMaestroMan.paises}" var="inipaimanacc"
                                                               itemLabel="#{inipaimanacc.nom_pai}" itemValue="#{inipaimanacc.cod_pai}"/> 
                                            </p:selectOneMenu>

                                        </h:panelGrid>

                                        <h:panelGrid columns="4" cellpadding="5">
                                            <h:outputText value="Quantity" style="font-weight:bold;"/>
                                            <h:outputText value="Item" style="font-weight:bold;"/>
                                            <h:outputText value="" style="font-weight:bold;"/>
                                            <h:outputText value="" style="font-weight:bold;"/>
                                            <p:inputText maxlength="12" size="10" value="#{manMaestroMan.acc_det_can}" />
                                            <p:inputText maxlength="200" size="90" value="#{manMaestroMan.acc_des_ite}" />
                                            <p:commandButton title="Add" icon="ui-icon-plus" style="width:30px;" 
                                                             actionListener="#{manMaestroMan.agregaraccesorios()}"
                                                             update=":frmIntegralIni"
                                                             />
                                            <p:commandButton title="Remove" icon="ui-icon-minus" style="width:30px;" 
                                                             actionListener="#{manMaestroMan.eliminarAccesorio()}"
                                                             update=":frmIntegralIni"
                                                             />
                                        </h:panelGrid>
                                    </div>
                                </p:panel>
                                <p:dataTable id="dtDetAccIni" var="vDetAccIni" 
                                             value="#{manMaestroMan.accesorios}" 
                                             emptyMessage="No results found" 
                                             selection="#{manMaestroMan.catmantenimientosacc}" 
                                             selectionMode="single"
                                             rowKey="#{vDetAccIni.det_man}"
                                             editable="false"
                                             scrollable="true"
                                             scrollHeight="260"
                                             style="width:980px"
                                             >
                                    <p:ajax event="rowSelect" listener="#{manMaestroMan.onRowSelectAcc}" update=":frmIntegralIni"/>


                                    <p:column style="width:110px;" headerText="Date">
                                        <h:outputText value="#{vDetAccIni.fec_man}" />
                                    </p:column>
                                    <p:column style="width:100px;" headerText="Country">
                                        <h:outputText value="#{vDetAccIni.nompai}" />
                                    </p:column>
                                    <p:column style="width:50px" headerText="Quantity">
                                        <h:outputText value="#{vDetAccIni.det_can}" />
                                    </p:column>
                                    <p:column style="width:400px" headerText="Description">
                                        <h:outputText value="#{vDetAccIni.des_ite}" />
                                    </p:column>

                                </p:dataTable>
                            </p:tab>
                            <p:tab id="tabANEini" title="Files">
                                <p:panel>
                                    <div style=" background-color: #ebf8fe;">
                                        <h:panelGrid columns="5" cellpadding="5" >
                                            <h:outputText value="Type" style="font-weight:bold;"/>
                                            <h:outputText value="Engineer" style="font-weight:bold;"/>
                                            <h:outputText value="Comments" style="font-weight:bold;"/>
                                            <h:outputText value="" style="font-weight:bold;"/>
                                            <h:outputText value="" style="font-weight:bold;"/>
                                            <p:selectOneMenu style=" width: 120px;" value="#{manMaestroMan.ane_tip_ane}" autoWidth="false">
                                                <f:selectItem itemLabel="Select one" itemValue="0"/>
                                                <f:selectItem itemLabel="PDF" itemValue="1"/>
                                                <f:selectItem itemLabel="IMAGE" itemValue="2"/>
                                                <f:selectItem itemLabel="OTHER" itemValue="3"/>
                                            </p:selectOneMenu>
                                            <p:selectOneMenu style=" width: 180px;" 
                                                             value="#{manMaestroMan.ane_cod_usu}" 
                                                             autoWidth="false"
                                                             filter="true"
                                                             filterMatchMode="contains"
                                                             >
                                                <f:selectItem itemLabel="Select one" itemValue="0"/>
                                                <f:selectItems value="#{manMaestroMan.usuarios}" var="usumananeini"
                                                               itemLabel="#{usumananeini.det_nom}" itemValue="#{usumananeini.cod_usu}"/> 
                                            </p:selectOneMenu>
                                            <p:inputText value="#{manMaestroMan.ane_det_obs}" style="font-weight:bold;" size="50" maxlength="200"/>
                                            <p:commandButton title="Add" icon="ui-icon-plus" style="width:30px;" 
                                                             actionListener="#{manMaestroMan.agregaranexo()}"
                                                             update=":frmIntegralIni"
                                                             />
                                            <p:commandButton title="Remove" icon="ui-icon-minus" style="width:30px;" 
                                                             actionListener="#{manMaestroMan.eliminarAnexos()}"
                                                             update=":frmIntegralIni"
                                                             />
                                        </h:panelGrid>
                                        <h:panelGrid columns="2" cellpadding="5" >
                                            <h:outputText value="File:" style="font-weight:bold;"/>
                                            <h:outputText value="#{manMaestroMan.nombrearchivo}" style="font-weight:bold; color: #FF0000;" id="otxtnomarch"/>
                                        </h:panelGrid>
                                        <p:fileUpload id="fupman2ini" 
                                                      fileUploadListener="#{manMaestroMan.upload}" 
                                                      mode="advanced" dragDropSupport="false"
                                                      fileLimit="1" 
                                                      label="File" cancelLabel="Cancel" uploadLabel="Upload" 
                                                      auto="true"
                                                      update="otxtnomarch" 
                                                      allowTypes="/(\.|\/)(jpg|JPG|jepg|JEPG|gif|GIF|png|PNG|pdf|PDF|xls|XLS|doc|DOC|ppt|PPT|txt|TXT|mp3|MP3|rar|RAR|zip|ZIP|docx|DOCX|xlsx|XLSX|log|LOG|pptx|PPTX|pps|PPS|ppsx|PPSX)$/" 
                                                      />

                                    </div>
                                </p:panel>
                                <p:dataTable id="dtDetAne2ini" var="vDetAneIni" 
                                             value="#{manMaestroMan.anexos}" 
                                             emptyMessage="No results found" 
                                             selection="#{manMaestroMan.catmantenimientosane}" 
                                             selectionMode="single"
                                             rowKey="#{vDetAneIni.det_man}"
                                             editable="false"
                                             scrollable="true"
                                             scrollHeight="230"
                                             style="width:980px"
                                             >
                                    <p:ajax event="rowSelect" listener="#{manMaestroMan.onRowSelectAne}" update=":frmIntegralIni"/>

                                    <p:column style="width:10px;" headerText="Type">
                                        <h:outputText value="#{vDetAneIni.nomtip}" />
                                    </p:column>
                                    <p:column style="width:150px" headerText="Comments">
                                        <h:outputText value="#{vDetAneIni.det_obs}" />
                                    </p:column>
                                    <p:column style="width:60px" headerText="Engineer">
                                        <h:outputText value="#{vDetAneIni.nomusu}" />
                                    </p:column>
                                </p:dataTable>
                                <h:panelGrid columns="1" cellpadding="5" >
                                    <p:commandButton value="Click here to download selected file" 
                                                     icon="ui-icon-circle-arrow-s" 
                                                     style="width:970px; color: #FF0000;"                                                              
                                                     actionListener="#{manMaestroMan.descargaranexos()}"                                                             
                                                     update=":frmIntegralIni"
                                                     />
                                </h:panelGrid>
                            </p:tab>

                        </p:tabView>
                    </p:tab>
                    <p:tab id="detinthis" title="History" >
                        <p:dataTable id="dtHisMant" var="vHisMant" 
                                     value="#{manMaestroMan.mantenimientoshis}" 
                                     emptyMessage="No results found" 
                                     selection="#{manMaestroMan.catmantenimientoshis}" 
                                     selectionMode="single"
                                     rowKey="#{vHisMant.cod_lis_equ},#{vHisMant.cod_man}"
                                     editable="false"
                                     scrollable="true"
                                     scrollHeight="220"
                                     style="width:1020px;"
                                     sortMode="multiple"
                                     widgetVar="wvHisMant"
                                     >

                            <f:facet name="header">
                                <p:outputPanel style=" text-align: right;">
                                    <h:panelGroup>
                                        <h:outputText value="Filter:&nbsp;&nbsp;" />
                                        <p:inputText id="globalFilter" 
                                                     style="width:400px;" 
                                                     placeholder="WO, PM, Country, Equipment, Serial, Engineer, Opened by"
                                                     value="#{manMaestroMan.bfiltro_his}"
                                                     />
                                        <h:outputText value="&nbsp;&nbsp;" />
                                        <p:commandButton value="Go" style="width:50px;" 
                                                         update=":frmIntegralIni"
                                                         actionListener="#{manMaestroMan.llenarMantenimientosFiltradoHis()}"
                                                         />
                                        <h:outputText value="&nbsp;&nbsp;&nbsp;&nbsp;" />
                                        <p:commandButton value="Print" style="width:100px; background: magenta; color: #FFFFFF; " 
                                                         icon="fa fa-print"
                                                         onclick="this.form.target = '_blank';" 
                                                         action="#{manMaestroMan.ejecutarHistoriaMan()}"
                                                         ajax="false"
                                                         />
                                        <h:outputText value="&nbsp;&nbsp;" />
                                        <p:commandButton title="Equipments" icon="fa fa-gears" style="width:30px;" 
                                                         onclick="PF('wListaEquipos').show()"
                                                         update=":frmListaEquipos"
                                                         actionListener="#{manListaEquipos.iniciarventana()}"
                                                         disabled="#{manSeguridad.disableOpt('menuRegistroEquipo')}"
                                                         />
                                    </h:panelGroup>

                                </p:outputPanel>
                            </f:facet>

                            <p:ajax event="rowSelect" listener="#{manMaestroMan.onRowSelectEncIntHis}" update="dtHisMant, :frmIntegralIni:tvmanintcon:dtHisMantAne"/>

                            <p:column style="width:45px" headerText="ID" sortBy="#{vHisMant.codigoalt}" >
                                <h:outputText value="#{vHisMant.cod_alt}" />
                            </p:column>
                            <p:column style="width:50px" headerText="Date" sortBy="#{vHisMant.ordenafecha}">
                                <h:outputText value="#{vHisMant.fec_ini}" />
                            </p:column>
                            <p:column style="width:60px;" headerText="Type" sortBy="#{vHisMant.nomtip}">
                                <h:outputText value="#{vHisMant.nomtip}" />
                            </p:column>
                            <p:column style="width:90px" headerText="Country" sortBy="#{vHisMant.npais}">
                                <h:outputText value="#{vHisMant.npais}" />
                            </p:column>
                            <p:column style="width:90px" headerText="Engineer" sortBy="#{vHisMant.nusu}">
                                <h:outputText value="#{vHisMant.nusu}" />
                            </p:column>
                            <p:column style="width:90px" headerText="Opened By" sortBy="#{vHisMant.nordpor}">
                                <h:outputText value="#{vHisMant.nordpor}" />
                            </p:column>
                            <p:column style="width:90px" headerText="Equipment" sortBy="#{vHisMant.tequipo}">
                                <h:outputText value="#{vHisMant.tequipo}" />
                            </p:column>
                            <p:column style="width:90px" headerText="Serial No" sortBy="#{vHisMant.nserie}">
                                <h:outputText value="#{vHisMant.nserie}" />
                            </p:column>
                            <p:column style="width:60px" headerText="Status" sortBy="#{vHisMant.status}">
                                <h:outputText value="#{vHisMant.status}" />
                            </p:column>


                        </p:dataTable>
                        <p:dataTable id="dtHisMantAne" var="vHisMantAne" 
                                     value="#{manMaestroMan.anexoshis}" 
                                     emptyMessage="No results found" 
                                     selection="#{manMaestroMan.catmantenimientosanehis}" 
                                     selectionMode="single"
                                     rowKey="#{vHisMantAne.det_man}"
                                     editable="false"
                                     scrollable="true"
                                     scrollHeight="100"
                                     style="width:1020px;"
                                     widgetVar="wvHisMantAne"
                                     >

                            <f:facet name="header">
                                <p:outputPanel style=" text-align: right;">
                                    <p:commandButton value="Download" style="width:100px; background: cornflowerblue; color: #FFFFFF; " 
                                                     icon="fa fa-download"
                                                     actionListener="#{manMaestroMan.descargaranexosHis()}"
                                                     update=":frmIntegralIni:msgIntegralIni"
                                                     />

                                </p:outputPanel>
                            </f:facet>

                            <p:ajax event="rowSelect" listener="#{manMaestroMan.onRowSelectAneHis}" update=":frmIntegralIni:tvmanintcon:dtHisMant"/>

                            <p:column style="width:25px" headerText="Type" >
                                <h:outputText value="#{vHisMantAne.nomtip}" />
                            </p:column>
                            <p:column style="width:120px" headerText="Description">
                                <h:outputText value="#{vHisMantAne.det_obs}" />
                            </p:column>

                        </p:dataTable>
                        <div style="background: #ebf8fe;">
                            <h:panelGrid columns="3" cellpadding="5" style=" text-align: left;">
                                <h:outputText value="Country" style="font-weight:bold;"/>
                                <p:selectOneMenu value="#{manMaestroMan.buscar_pais_his}" 
                                                 style=" width: 210px;"
                                                 autoWidth="false"
                                                 filter="true"
                                                 filterMatchMode="contains"
                                                 >
                                    <f:selectItem itemLabel="All" itemValue="0"/>
                                    <f:selectItems value="#{manMaestroMan.paises}" var="lstpaihisman"
                                                   itemLabel="#{lstpaihisman.nom_pai}" itemValue="#{lstpaihisman.cod_pai}"/> 
                                </p:selectOneMenu>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <h:outputText value="Year (yyyy)" style="font-weight:bold;"/>
                                <p:inputText id="txtlimitmanhis" value="#{manMaestroMan.vlimit_his}" size="7" maxlength="11"/>
                                <p:commandButton value="Refresh" 
                                                 actionListener="#{manMaestroMan.llenarMantenimientosintegralHis()}"
                                                 update="dtHisMant,txtlimitmanhis,dtHisMantAne"/>
                            </h:panelGrid>
                        </div>
                    </p:tab>
                </p:tabView>
            </h:form>
        </p:dialog>  

        <p:dialog  id="dlgSwitch" widgetVar="wSwitch" modal="true" 
                   width="200" height="80" closable="false" resizable="false" 
                   header="Switch Start" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmSwitch">
                <h:panelGrid columns="2" cellpadding="5">
                    <h:outputText value="Start"/>
                    <p:selectOneMenu style=" width: 100px;" 
                                     value="#{manMaestroMan.switchinicio}"
                                     autoWidth="false"
                                     >
                        <f:selectItem itemLabel="6 Month" itemValue="6"/>
                        <f:selectItem itemLabel="12 Month" itemValue="12"/>

                    </p:selectOneMenu>

                </h:panelGrid>
                <div align="center">
                    <p:commandButton value="Ok" style=" width: 100px;"
                                     update=":frmIntegralIni:tvmanintcon:tvpangenman:itaobsman"
                                     icon="ui-icon-check" 
                                     onclick="PF('wSwitch').hide()"
                                     actionListener="#{manMaestroMan.onPressOkSwitch()}"
                                     />
                </div>


            </h:form>
        </p:dialog>

        <p:dialog  id="dlgSwitch2" widgetVar="wSwitch2" modal="true" 
                   width="200" height="80" closable="false" resizable="false" 
                   header="Switch Start" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmSwitch2">
                <h:panelGrid columns="2" cellpadding="5">
                    <h:outputText value="Start"/>
                    <p:selectOneMenu style=" width: 100px;" 
                                     value="#{manMaestroMan.switchinicio2}"
                                     autoWidth="false"
                                     >
                        <f:selectItem itemLabel="6 Month (1°)" itemValue="1"/>
                        <f:selectItem itemLabel="6 Month (2°)" itemValue="2"/>
                        <f:selectItem itemLabel="12 Month" itemValue="3"/>

                    </p:selectOneMenu>

                </h:panelGrid>
                <div align="center">
                    <p:commandButton value="Ok" style=" width: 100px;"
                                     update=":frmIntegralIni:tvmanintcon:tvpangenman:itaobsman"
                                     icon="ui-icon-check" 
                                     onclick="PF('wSwitch2').hide()"
                                     actionListener="#{manMaestroMan.onPressOkSwitch2()}"
                                     />
                </div>


            </h:form>
        </p:dialog>

        <p:dialog  id="dlgObservaciones" widgetVar="wObservaciones" modal="true" 
                   width="470" height="120" closable="true" resizable="false" 
                   header="Comments" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmObservaciones">
                <p:inputTextarea cols="59" rows="8" readonly="true" value="#{manMaestroMan.gen_det_obs}" />
            </h:form>
        </p:dialog>

        <p:dialog  id="dlgMaestraFin" widgetVar="wMaestraFinWO" modal="true" 
                   width="460" height="160" closable="false" resizable="false" 
                   header="Completed" rendered="true" 
                   dynamic="false" visible="false" 
                   >
            <h:form id="frmMaestraFin" >
                <p:growl id="msgMaestraNew" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="right">
                        <p:commandButton value="Accept" style=" width: 100px;"
                                         actionListener="#{manMaestroMan.finalizarmantenimientoWO()}"
                                         update=":frmIntegralIni,:frmMaestraFin"
                                         icon="ui-icon-disk"
                                         onclick="PF('wMaestraFinWO').hide()"
                                         >
                            <p:confirm header="Completed" 
                                       message="Do you really want to complete this WO?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cancel" style=" width: 100px;"
                                         update=":frmIntegralIni"
                                         icon="ui-icon-close" 
                                         onclick="PF('wMaestraFinWO').hide()"
                                         />

                    </f:facet>
                </p:toolbar>
                <p:panel>

                    <h:panelGrid columns="1" cellpadding="5" style=" text-align: center;">
                        <h:outputText value="IF YOU ACCEPT THIS PROCESS the selected maintenance will be COMPLETED." 
                                      style="font-weight:bold; color: red;"/>
                    </h:panelGrid>
                    <div align="center">
                        <h:panelGrid columns="1" cellpadding="5">
                            <h:outputText value="This Maintenance is completed with the following End Date" style="font-weight:bold; color: red;"/>

                        </h:panelGrid>
                    </div>
                    <div align="center">
                        <h:panelGrid columns="1" cellpadding="5">
                            <p:calendar  pattern="dd/MMM/yyyy HH:mm"
                                         readonlyInput="true" 
                                         showOn="button" 
                                         size="16"
                                         value="#{manMaestroMan.dfecfinF}"
                                         navigator="true" 
                                         >
                                <p:ajax event="dateSelect" listener="#{manMaestroMan.dateSelectedFencabezadoFin}" />
                            </p:calendar>
                        </h:panelGrid>
                    </div>
                </p:panel>
            </h:form>
        </p:dialog>

        <p:dialog  id="dlgMaestraFinPM" widgetVar="wMaestraFinPM" modal="true" 
                   width="460" height="160" closable="false" resizable="false" 
                   header="Completed" rendered="true" 
                   dynamic="false" visible="false" 
                   >
            <h:form id="frmMaestraFinPM" >
                <p:growl id="msgMaestraNewPM" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="right">
                        <p:commandButton value="Accept" style=" width: 100px;"
                                         actionListener="#{manMaestroMan.finalizarmantenimientoPM()}"
                                         update=":frmIntegralIni,:frmMaestraFinPM"
                                         icon="ui-icon-disk"
                                         onclick="PF('wMaestraFinPM').hide()"
                                         >
                            <p:confirm header="Completed" 
                                       message="Do you really want to complete this PM?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cancel" style=" width: 100px;"
                                         update=":frmIntegralIni"
                                         icon="ui-icon-close" 
                                         onclick="PF('wMaestraFinPM').hide()"
                                         />

                    </f:facet>
                </p:toolbar>
                <p:panel>

                    <h:panelGrid columns="1" cellpadding="5" style=" text-align: center;">
                        <h:outputText value="IF YOU ACCEPT THIS PROCESS the selected maintenance will be COMPLETED." 
                                      style="font-weight:bold; color: red;"/>
                    </h:panelGrid>
                    <div align="center">
                        <h:panelGrid columns="1" cellpadding="5">
                            <h:outputText value="This Maintenance is completed with the following End Date" style="font-weight:bold; color: red;"/>

                        </h:panelGrid>
                    </div>
                    <div align="center">
                        <h:panelGrid columns="1" cellpadding="5">
                            <p:calendar  pattern="dd/MMM/yyyy HH:mm"
                                         readonlyInput="true" 
                                         showOn="button" 
                                         size="16"
                                         value="#{manMaestroMan.dfecfinF}"
                                         navigator="true" 
                                         >
                                <p:ajax event="dateSelect" listener="#{manMaestroMan.dateSelectedFencabezadoFin}" />
                            </p:calendar>
                        </h:panelGrid>
                    </div>
                </p:panel>
            </h:form>
        </p:dialog>


        <!--******************************************************************** 
        ***************** Reporte Piezas por Período ***************************
        *********************************************************************-->

        <p:dialog  id="dlgRepPiePeriodo" widgetVar="wRepPiePeriodo" modal="true" 
                   width="540" height="190" closable="false" resizable="false" 
                   header="Used Parts by Period" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmRepPiePeriodo"> 

                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Screen" style=" width: 80px;"
                                         actionListener="#{repMantenimiento.ejecutarreporte(0,1)}"
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PDF" style=" width: 80px;" 
                                         actionListener="#{repMantenimiento.ejecutarreporte(0,2)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="XLS" style=" width: 80px;" 
                                         actionListener="#{repMantenimiento.ejecutarreporte(0,3)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="DOC" style=" width: 80px;" 
                                         actionListener="#{repMantenimiento.ejecutarreporte(0,4)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PPT" style=" width: 80px;" 
                                         actionListener="#{repMantenimiento.ejecutarreporte(0,5)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="Close" style=" width: 80px;" 
                                         onclick="PF('wRepPiePeriodo').hide()" 
                                         icon="ui-icon-close"
                                         ajax="true"
                                         />
                    </f:facet>
                </p:toolbar>
                <p:panel>
                    <p:focus for="feciniPiePeriodo" />
                    <div style=" background-color: #dfecf1; ">
                        <h:panelGrid columns="2" cellpadding="5">
                            <p:outputLabel value="Start Date" style="font-weight: bold;"/>
                            <p:outputLabel value="End Date" style="font-weight: bold;"/>               
                            <p:calendar  id="feciniPiePeriodo"
                                         pattern="dd/MMM/yyyy"  
                                         readonlyInput="true" 
                                         showOn="button" size="16"
                                         value="#{repMantenimiento.dfechaini}"
                                         navigator="true"
                                         >
                                <p:ajax event="dateSelect" listener="#{repMantenimiento.dateiniSelectedAction}" />
                            </p:calendar> 
                            <p:calendar  pattern="dd/MMM/yyyy"  
                                         readonlyInput="true" 
                                         showOn="button" size="16"
                                         value="#{repMantenimiento.dfechafin}"
                                         navigator="true"
                                         >
                                <p:ajax event="dateSelect" listener="#{repMantenimiento.datefinSelectedAction}" />
                            </p:calendar> 
                        </h:panelGrid>
                        <h:panelGrid columns="1" cellpadding="5">
                            <p:outputLabel value="Country" style="font-weight: bold;"/>
                            <p:selectOneMenu style=" width: 180px;" 
                                             value="#{repMantenimiento.cod_pai}"
                                             disabled="#{manSeguridad.disableOpt('menuMattoMaestro')}" 
                                             autoWidth="false"
                                             filter="true"
                                             filterMatchMode="contains"
                                             >
                                <f:selectItem itemLabel="All Countries" itemValue="0"/>
                                <f:selectItems value="#{repMantenimiento.paises}" var="sompaireppieperiod"
                                               itemLabel="#{sompaireppieperiod.descripcion}" itemValue="#{sompaireppieperiod.codigo}"/> 
                            </p:selectOneMenu>
                        </h:panelGrid>
                    </div>
                </p:panel>


            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ***************** Reporte Órdenes Abiertas   ***************************
        *********************************************************************-->

        <p:dialog  id="dlgRepOpenOrders" widgetVar="wRepOpenOrders" modal="true" 
                   width="540" height="120" closable="false" resizable="false" 
                   header="Opened Orders" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmRepOpenOrders"> 

                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Screen" style=" width: 80px;"
                                         actionListener="#{repMantenimiento.ejecutarreporte(1,1)}"
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PDF" style=" width: 80px;" 
                                         actionListener="#{repMantenimiento.ejecutarreporte(1,2)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="XLS" style=" width: 80px;" 
                                         actionListener="#{repMantenimiento.ejecutarreporte(1,3)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="DOC" style=" width: 80px;" 
                                         actionListener="#{repMantenimiento.ejecutarreporte(1,4)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PPT" style=" width: 80px;" 
                                         actionListener="#{repMantenimiento.ejecutarreporte(1,5)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="Close" style=" width: 80px;" 
                                         onclick="PF('wRepOpenOrders').hide()" 
                                         icon="ui-icon-close"
                                         ajax="true"
                                         />
                    </f:facet>
                </p:toolbar>
                <p:panel>
                    <div style=" background-color: #dfecf1; ">
                        <h:panelGrid columns="1" cellpadding="5">
                            <p:outputLabel value="Country" style="font-weight: bold;"/>
                            <p:selectOneMenu style=" width: 180px;" 
                                             value="#{repMantenimiento.cod_pai}"
                                             disabled="#{manSeguridad.disableOpt('menuMattoMaestro')}" 
                                             autoWidth="false"
                                             filter="true"
                                             filterMatchMode="contains"
                                             >
                                <f:selectItem itemLabel="All Countries" itemValue="0"/>
                                <f:selectItems value="#{repMantenimiento.paises}" var="sompaiordabierta"
                                               itemLabel="#{sompaiordabierta.descripcion}" itemValue="#{sompaiordabierta.codigo}"/> 
                            </p:selectOneMenu>
                        </h:panelGrid>
                    </div>
                </p:panel>


            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ***************** Reporte Órdenes por Ingeniero  ***********************
        *********************************************************************-->

        <p:dialog  id="dlgRepOrdenInge" widgetVar="wRepOrdenInge" modal="true" 
                   width="540" height="250" closable="false" resizable="false" 
                   header="Orders by Engineer" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmRepOrdenInge"> 

                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Screen" style=" width: 80px;"
                                         actionListener="#{repMantenimiento.ejecutarreporte(2,1)}"
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PDF" style=" width: 80px;" 
                                         actionListener="#{repMantenimiento.ejecutarreporte(2,2)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="XLS" style=" width: 80px;" 
                                         actionListener="#{repMantenimiento.ejecutarreporte(2,3)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="DOC" style=" width: 80px;" 
                                         actionListener="#{repMantenimiento.ejecutarreporte(2,4)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PPT" style=" width: 80px;" 
                                         actionListener="#{repMantenimiento.ejecutarreporte(2,5)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="Close" style=" width: 80px;" 
                                         onclick="PF('wRepOrdenInge').hide()" 
                                         icon="ui-icon-close"
                                         ajax="true"
                                         />
                    </f:facet>
                </p:toolbar>
                <p:panel>
                    <div style=" background-color: #dfecf1; ">
                        <h:panelGrid columns="2" cellpadding="5">
                            <p:outputLabel value="Start Date" style="font-weight: bold;"/>
                            <p:outputLabel value="End Date" style="font-weight: bold;"/>               
                            <p:calendar  id="feciniPiePeriodo"
                                         pattern="dd/MMM/yyyy"  
                                         readonlyInput="true" 
                                         showOn="button" size="16"
                                         value="#{repMantenimiento.dfechaini}"
                                         navigator="true"
                                         >
                                <p:ajax event="dateSelect" listener="#{repMantenimiento.dateiniSelectedAction}" />
                            </p:calendar> 
                            <p:calendar  pattern="dd/MMM/yyyy"  
                                         readonlyInput="true" 
                                         showOn="button" size="16"
                                         value="#{repMantenimiento.dfechafin}"
                                         navigator="true"
                                         >
                                <p:ajax event="dateSelect" listener="#{repMantenimiento.datefinSelectedAction}" />
                            </p:calendar> 
                        </h:panelGrid>
                        <h:panelGrid columns="1" cellpadding="5">
                            <p:outputLabel value="Country" style="font-weight: bold;"/>
                            <p:selectOneMenu style=" width: 180px;" 
                                             value="#{repMantenimiento.cod_pai}"
                                             disabled="#{manSeguridad.disableOpt('menuMattoMaestro')}" 
                                             autoWidth="false"
                                             filter="true"
                                             filterMatchMode="contains"
                                             >
                                <f:selectItem itemLabel="All Countries" itemValue="0"/>
                                <f:selectItems value="#{repMantenimiento.paises}" var="sompaipinge"
                                               itemLabel="#{sompaipinge.descripcion}" itemValue="#{sompaipinge.codigo}"/> 
                            </p:selectOneMenu>
                            <p:outputLabel value="Engineer" style="font-weight: bold;"/>
                            <p:selectOneMenu style=" width: 180px;" 
                                             value="#{repMantenimiento.cod_usu}"
                                             disabled="#{manSeguridad.disableOpt('menuMattoMaestro')}" 
                                             autoWidth="false"
                                             filter="true"
                                             filterMatchMode="contains"
                                             >
                                <f:selectItem itemLabel="All Engineers" itemValue="0"/>
                                <f:selectItems value="#{repMantenimiento.ingenieros}" var="somordeninge"
                                               itemLabel="#{somordeninge.descripcion}" itemValue="#{somordeninge.codigo}"/> 
                            </p:selectOneMenu>
                        </h:panelGrid>
                    </div>
                </p:panel>


            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ******************** Reporte PM Compliance  ****************************
        *********************************************************************-->

        <p:dialog  id="dlgRepPMCompliance" widgetVar="wRepPMCompliance" modal="true" 
                   width="540" height="250" closable="false" resizable="false" 
                   header="PM Compliance" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmRepPMCompliance"> 

                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Screen" style=" width: 80px;"
                                         actionListener="#{repMantenimiento.ejecutarreporte(3,1)}"
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PDF" style=" width: 80px;" 
                                         actionListener="#{repMantenimiento.ejecutarreporte(3,2)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="XLS" style=" width: 80px;" 
                                         actionListener="#{repMantenimiento.ejecutarreporte(3,3)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="DOC" style=" width: 80px;" 
                                         actionListener="#{repMantenimiento.ejecutarreporte(3,4)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PPT" style=" width: 80px;" 
                                         actionListener="#{repMantenimiento.ejecutarreporte(3,5)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="Close" style=" width: 80px;" 
                                         onclick="PF('wRepPMCompliance').hide()" 
                                         icon="ui-icon-close"
                                         ajax="true"
                                         />
                    </f:facet>
                </p:toolbar>
                <p:panel>
                    <div style=" background-color: #dfecf1; ">
                        <h:panelGrid columns="2" cellpadding="5">
                            <p:outputLabel value="Compliance Start Date" style="font-weight: bold;"/>
                            <p:outputLabel value="Compliance End Date" style="font-weight: bold;"/>               
                            <p:calendar  id="feciniPiePeriodo"
                                         pattern="dd/MMM/yyyy"  
                                         readonlyInput="true" 
                                         showOn="button" size="16"
                                         value="#{repMantenimiento.dfechaini}"
                                         navigator="true"
                                         >
                                <p:ajax event="dateSelect" listener="#{repMantenimiento.dateiniSelectedAction}" />
                            </p:calendar> 
                            <p:calendar  pattern="dd/MMM/yyyy"  
                                         readonlyInput="true" 
                                         showOn="button" size="16"
                                         value="#{repMantenimiento.dfechafin}"
                                         navigator="true"
                                         >
                                <p:ajax event="dateSelect" listener="#{repMantenimiento.datefinSelectedAction}" />
                            </p:calendar> 
                        </h:panelGrid>
                        <h:panelGrid columns="1" cellpadding="5">
                            <p:outputLabel value="Country" style="font-weight: bold;"/>
                            <p:selectOneMenu style=" width: 180px;" 
                                             value="#{repMantenimiento.cod_pai}"
                                             disabled="#{manSeguridad.disableOpt('menuMattoMaestro')}" 
                                             autoWidth="false"
                                             filter="true"
                                             filterMatchMode="contains"
                                             >
                                <f:selectItem itemLabel="All Countries" itemValue="0"/>
                                <f:selectItems value="#{repMantenimiento.paises}" var="sompaipmcomplia"
                                               itemLabel="#{sompaipmcomplia.descripcion}" itemValue="#{sompaipmcomplia.codigo}"/> 
                            </p:selectOneMenu>
                            <p:outputLabel value="Engineer" style="font-weight: bold;"/>
                            <p:selectOneMenu style=" width: 180px;" 
                                             value="#{repMantenimiento.cod_usu}"
                                             disabled="#{manSeguridad.disableOpt('menuMattoMaestro')}" 
                                             autoWidth="false"
                                             filter="true"
                                             filterMatchMode="contains"
                                             >
                                <f:selectItem itemLabel="All Engineers" itemValue="0"/>
                                <f:selectItems value="#{repMantenimiento.ingenieros}" var="somingecomplia"
                                               itemLabel="#{somingecomplia.descripcion}" itemValue="#{somingecomplia.codigo}"/> 
                            </p:selectOneMenu>
                        </h:panelGrid>
                    </div>
                </p:panel>


            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ***************** Reporte Piezas Salientes *****************************
        *********************************************************************-->

        <p:dialog  id="dlgRepPieSaliente" widgetVar="wRepPieSaliente" modal="true" 
                   width="540" height="250" closable="false" resizable="false" 
                   header="Special Parts Form Outwards" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmRepPieSaliente"> 

                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Screen" style=" width: 80px;"
                                         actionListener="#{repMantenimiento.ejecutarreporte(4,1)}"
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PDF" style=" width: 80px;" 
                                         actionListener="#{repMantenimiento.ejecutarreporte(4,2)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="XLS" style=" width: 80px;" 
                                         actionListener="#{repMantenimiento.ejecutarreporte(4,3)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="DOC" style=" width: 80px;" 
                                         actionListener="#{repMantenimiento.ejecutarreporte(4,4)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PPT" style=" width: 80px;" 
                                         actionListener="#{repMantenimiento.ejecutarreporte(4,5)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="Close" style=" width: 80px;" 
                                         onclick="PF('wRepPieSaliente').hide()" 
                                         icon="ui-icon-close"
                                         ajax="true"
                                         />
                    </f:facet>
                </p:toolbar>
                <p:panel>
                    <p:focus for="feciniPieSaliente" />
                    <div style=" background-color: #dfecf1; ">
                        <h:panelGrid columns="2" cellpadding="5">
                            <p:outputLabel value="Start Date" style="font-weight: bold;"/>
                            <p:outputLabel value="End Date" style="font-weight: bold;"/>               
                            <p:calendar  id="feciniPieSaliente"
                                         pattern="dd/MMM/yyyy"  
                                         readonlyInput="true" 
                                         showOn="button" size="16"
                                         value="#{repMantenimiento.dfechaini}"
                                         navigator="true"
                                         >
                                <p:ajax event="dateSelect" listener="#{repMantenimiento.dateiniSelectedAction}" />
                            </p:calendar> 
                            <p:calendar  pattern="dd/MMM/yyyy"  
                                         readonlyInput="true" 
                                         showOn="button" size="16"
                                         value="#{repMantenimiento.dfechafin}"
                                         navigator="true"
                                         >
                                <p:ajax event="dateSelect" listener="#{repMantenimiento.datefinSelectedAction}" />
                            </p:calendar> 
                        </h:panelGrid>
                        <h:panelGrid columns="1" cellpadding="5">
                            <p:outputLabel value="Country" style="font-weight: bold;"/>
                            <p:selectOneMenu style=" width: 180px;" 
                                             value="#{repMantenimiento.cod_pai}"
                                             disabled="#{manSeguridad.disableOpt('menuMattoMaestro')}" 
                                             autoWidth="false"
                                             filter="true"
                                             filterMatchMode="contains"
                                             >
                                <p:ajax event="change" listener="#{repMantenimiento.onSelectPais()}" update=":frmRepPieSaliente" />
                                <f:selectItem itemLabel="All Countries" itemValue="0"/>
                                <f:selectItems value="#{repMantenimiento.paises}" var="sompaireppiesal"
                                               itemLabel="#{sompaireppiesal.descripcion}" itemValue="#{sompaireppiesal.codigo}"/> 
                            </p:selectOneMenu>
                            <p:outputLabel value="Customer" style="font-weight: bold;"/>
                            <p:selectOneMenu style=" width: 180px;" 
                                             value="#{repMantenimiento.cod_usu}"
                                             autoWidth="false"
                                             filter="true"
                                             filterMatchMode="contains"
                                             >
                                <f:selectItem itemLabel="All Customers" itemValue="0"/>
                                <f:selectItems value="#{repMantenimiento.clientes}" var="somclireppiesal"
                                               itemLabel="#{somclireppiesal.descripcion}" itemValue="#{somclireppiesal.codigo}"/> 
                            </p:selectOneMenu>
                        </h:panelGrid>
                    </div>
                </p:panel>


            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ******************* Reporte Due Maintenance Parts **********************
        *********************************************************************-->

        <p:dialog  id="dlgDueM" widgetVar="wDueM" modal="true" 
                   width="840" height="480" closable="false" resizable="false" 
                   header="Due Maintenances" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmDueM"> 
                <p:growl id="msgDueM" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="New" style=" width: 100px;"
                                         actionListener="#{manDueMaintenances.nuevo()}"
                                         update=":frmDueM"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Save" style=" width: 100px;"
                                         actionListener="#{manDueMaintenances.guardar()}"
                                         update=":frmDueM"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Save" 
                                       message="Do you really want to save this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Delete" style=" width: 100px;"
                                         actionListener="#{manDueMaintenances.eliminar()}"
                                         update=":frmDueM"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Delete" 
                                       message="Do you really want to delete this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <span class="ui-separator">
                            <span class="ui-icon ui-icon-grip-dotted-vertical" />
                        </span>
                        <p:commandButton value="Screen" style=" width: 100px; background: #fbfdb5;"
                                         actionListener="#{manDueMaintenances.ejecutarreporte(1)}"
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="XLS" style=" width: 100px; background: #fbfdb5;" 
                                         actionListener="#{manDueMaintenances.ejecutarreporte(3)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />



                    </f:facet>
                    <f:facet name="right">
                        <p:commandButton value="Close" style=" width: 100px;"
                                         onclick="PF('wDueM').hide()"
                                         actionListener="#{manDueMaintenances.cerrarventana()}"
                                         update=":frmDueM"
                                         icon="ui-icon-close"
                                         />
                    </f:facet>
                </p:toolbar>

                <p:panel >
                    <div style=" background-color: #ebf8fe;">
                        <h:panelGrid columns="3" cellpadding="5">
                            <h:outputText value="Start Date" style="font-weight:bold;"/>
                            <h:outputText value="End Date" style="font-weight:bold;"/>
                            <h:outputText value="Country" style="font-weight:bold;"/>
                            <p:calendar  pattern="dd/MMM/yyyy" 
                                         readonlyInput="true" 
                                         showOn="button" size="14"
                                         value="#{manDueMaintenances.dfechaini}"
                                         navigator="true"
                                         >
                                <p:ajax event="dateSelect" listener="#{manDueMaintenances.dateiniSelectedAction}" />
                            </p:calendar> 
                            <p:calendar  pattern="dd/MMM/yyyy" 
                                         readonlyInput="true" 
                                         showOn="button" size="14"
                                         value="#{manDueMaintenances.dfechafin}"
                                         navigator="true"
                                         >
                                <p:ajax event="dateSelect" listener="#{manDueMaintenances.datefinSelectedAction}" />
                            </p:calendar>
                            <p:selectOneMenu value="#{manDueMaintenances.cod_pai}" 
                                             style="width:400px;text-align:right;"
                                             immediate="false"
                                             autoWidth="false"
                                             filter="true"
                                             filterMatchMode="contains"
                                             > 
                                <f:selectItem itemLabel="All" itemValue="0" />  
                                <f:selectItems value="#{manDueMaintenances.paises}" var="sompaidue"
                                               itemLabel="#{sompaidue.descripcion}" itemValue="#{sompaidue.codigo}"/>
                            </p:selectOneMenu>
                        </h:panelGrid>
                    </div>
                </p:panel>


                <p:panel id="panConfigDueRep" >
                    <div style=" background-color: #ebf8fe;">
                        <h:panelGrid columns="3" cellpadding="5">
                            <h:outputText value="Equipment" style="font-weight:bold;"/>
                            <h:outputText value="Frequency" style="font-weight:bold;"/>
                            <h:outputText value="Level" style="font-weight:bold;"/>
                            <p:selectOneMenu value="#{manDueMaintenances.cod_tip}" 
                                             style="width:400px;text-align:right;"
                                             immediate="false"
                                             autoWidth="false"
                                             filter="true"
                                             filterMatchMode="contains"
                                             > 
                                <f:selectItem itemLabel="Select One" itemValue="0" />  
                                <f:selectItems value="#{manDueMaintenances.equipos}" var="somdueequ"
                                               itemLabel="#{somdueequ.descripcion}" itemValue="#{somdueequ.codigo}"/>
                            </p:selectOneMenu>

                            <p:selectOneMenu value="#{manDueMaintenances.cod_per}" 
                                             style="width:150px;text-align:right;"
                                             immediate="false"
                                             autoWidth="false"
                                             > 
                                <p:ajax event="change" listener="#{manDueMaintenances.onSelectFrecuencia()}" update="somleveldue" />
                                <f:selectItem itemLabel="Select One" itemValue="0" />  
                                <f:selectItems value="#{manDueMaintenances.frecuencia}" var="somfredue"
                                               itemLabel="#{somfredue.descripcion}" itemValue="#{somfredue.codigo}"/>
                            </p:selectOneMenu>


                            <p:selectOneMenu value="#{manDueMaintenances.ord_per}" 
                                             style="width:130px;text-align:right;"
                                             immediate="false"
                                             id="somleveldue" 
                                             autoWidth="false"
                                             > 
                                <f:selectItems value="#{manDueMaintenances.orden}" var="somduelvl"
                                               itemLabel="#{somduelvl.descripcion}" itemValue="#{somduelvl.codigo}"/>
                            </p:selectOneMenu>

                            <h:outputText value="Part" style="font-weight:bold;"/>
                            <h:outputText value="Quantity" style="font-weight:bold;"/>
                            <h:outputText value="" style="font-weight:bold;"/>
                            <p:selectOneMenu value="#{manDueMaintenances.cod_pie}" 
                                             style="width:400px;text-align:right;"
                                             immediate="false"
                                             autoWidth="false"
                                             filter="true"
                                             filterMatchMode="contains"
                                             > 
                                <f:selectItem itemLabel="Select One" itemValue="0" />  
                                <f:selectItems value="#{manDueMaintenances.piezas}" var="sompartdue"
                                               itemLabel="#{sompartdue.descripcion}" itemValue="#{sompartdue.codigo}"/>
                            </p:selectOneMenu>

                            <p:inputNumber value="#{manDueMaintenances.qty_use}" minValue="0" decimalPlaces="2" />

                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtDueM" var="vDueM" 
                                 value="#{manDueMaintenances.duemaintenance}" 
                                 emptyMessage="No results found" 
                                 selectionMode="single" selection="#{manDueMaintenances.catduemaintenance}" 
                                 rowKey="#{vDueM.cod_pro}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="180"
                                 style="width:790px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manDueMaintenances.onRowSelect}" 
                                update=":frmDueM:panConfigDueRep"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:10px" headerText="Equipment">
                            <h:outputText value="#{vDueM.equipo}" />
                        </p:column>
                        <p:column style="width:10px" headerText="Frequency">
                            <h:outputText value="#{vDueM.periodicidad}" />
                        </p:column>
                        <p:column style="width:10px" headerText="Level">
                            <h:outputText value="#{vDueM.orden}" />
                        </p:column>
                        <p:column style="width:60px" headerText="Part Name">
                            <h:outputText value="#{vDueM.namepart}" />
                        </p:column>
                        <p:column style="width:10px" headerText="Qty.">
                            <h:outputText value="#{vDueM.qty_use}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        *********************** Reporte Ficha de Equipo  ***********************
        *********************************************************************-->

        <p:dialog  id="dlgEquFile" widgetVar="wEquFile" modal="true" 
                   width="450" height="190" closable="false" resizable="false" 
                   header="Equipment File" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmEquFile"> 

                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Screen" style=" width: 80px;"
                                         actionListener="#{manListaEquipos.ejecutarreporte()}"
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="Close" style=" width: 80px;" 
                                         onclick="PF('wEquFile').hide()" 
                                         actionListener="#{manListaEquipos.cerrarventana()}"
                                         icon="ui-icon-close"
                                         ajax="true"
                                         />
                    </f:facet>
                </p:toolbar>
                <p:panel>
                    <div style=" background-color: #dfecf1; ">
                        <h:panelGrid columns="1" cellpadding="5">
                            <p:outputLabel value="Country" style="font-weight: bold;"/>
                            <p:selectOneMenu style=" width: 320px;" 
                                             value="#{manListaEquipos.bpais}"
                                             autoWidth="false"
                                             filter="true"
                                             filterMatchMode="contains"
                                             >
                                <p:ajax event="change" listener="#{manListaEquipos.llenarLequipos()}" update=":frmEquFile"/>
                                <f:selectItem itemLabel="Select One" itemValue="0"/>
                                <f:selectItems value="#{manListaEquipos.paises}" var="sompaibusrepequ"
                                               itemLabel="#{sompaibusrepequ.nom_pai}" itemValue="#{sompaibusrepequ.cod_pai}"/> 
                            </p:selectOneMenu>
                            <p:outputLabel value="Equipment" style="font-weight: bold;"/>
                            <p:selectOneMenu style=" width: 320px;" 
                                             value="#{manListaEquipos.cod_lis_equ}"
                                             autoWidth="false"
                                             filter="true"
                                             filterMatchMode="contains"
                                             >
                                <f:selectItem itemLabel="Select One" itemValue="0"/>
                                <f:selectItems value="#{manListaEquipos.lequipos}" var="somplequrepequ"
                                               itemLabel="#{somplequrepequ.nomequ} SN: #{somplequrepequ.num_ser}" itemValue="#{somplequrepequ.cod_lis_equ}"/> 
                            </p:selectOneMenu>
                        </h:panelGrid>
                    </div>
                </p:panel>
            </h:form>
        </p:dialog>


        <!--*************************** PRODUCTOS ***************************-->

        <!-- *******************************************************************
        *************** Pantalla mantenimiento de Paises ***********************
        *********************************************************************-->

        <p:dialog  id="dlgPaisesInv" widgetVar="wPaisesInv" modal="true" 
                   width="500" height="300" closable="false" resizable="false" 
                   header="Países" rendered="true" 
                   dynamic="true" visible="false" 
                   >

            <h:form id="frmPaisesInv"> 
                <p:growl id="msgPaisesInv" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{invPaises.nuevo()}"
                                         update=":frmPaisesInv"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         action="#{invPaises.guardar()}"
                                         update=":frmPaisesInv"
                                         icon="ui-icon-disk"
                                         />
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{invPaises.eliminar()}"
                                         update=":frmPaisesInv"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wPaisesInv').hide()"
                                         action="#{invPaises.cerrarventana()}" 
                                         update=":frmPaisesInv"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>
                <div style=" background-color: #ebf8fe;">
                    <h:panelGrid columns="2" cellpadding="5">
                        <h:outputText value="Nombre" style="font-weight:bold;" />
                        <p:inputText maxlength="20" size="60" value="#{invPaises.nom_pai}" 
                                     onfocus="this.select()"/>
                    </h:panelGrid>
                    <p:dataTable id="dtPaisesInv" var="vPaiInv" 
                                 value="#{invPaises.paises}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{invPaises.catpaises}" 
                                 rowKey="#{vPaiInv.cod_pai}"
                                 editable="false" 
                                 style="width:475px"
                                 scrollable="true"
                                 scrollHeight="190"
                                 >
                        <p:ajax event="rowSelect" listener="#{invPaises.onRowSelect}" 
                                update=":frmPaisesInv" />

                        <p:column style="width:50px" headerText="Nombre País">
                            <h:outputText value="#{vPaiInv.nom_pai}" />
                        </p:column>
                    </p:dataTable>
                </div>

            </h:form>
        </p:dialog>  

        <!--******************************************************************** 
        ************* Pantalla mantenimiento de Marcas Mantenimiento ***********
        *********************************************************************-->

        <p:dialog  id="dlgMarcaInv" widgetVar="wMarcaInv" modal="true" 
                   width="460" height="290" closable="false" resizable="false" 
                   header="Marcas" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmMarcaInv"> 
                <p:growl id="msgMarcaInv" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{invMarcas.nuevo()}"
                                         update=":frmMarcaInv"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{invMarcas.guardar()}"
                                         update=":frmMarcaInv"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{invMarcas.eliminar()}"
                                         update=":frmMarcaInv"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wMarcaInv').hide()"
                                         actionListener="#{invMarcas.cerrarventana()}"
                                         update=":frmMarcaInv"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color:  #ebf8fe;">
                        <p:focus for="txtnombremarcainv" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Nombre" style="font-weight:bold;"/>
                            <p:inputText id="txtnombremarcainv" 
                                         size="50"
                                         maxlength="50"
                                         value="#{invMarcas.nom_mar}"
                                         onfocus="this.select()"
                                         />
                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtMarcaInv" var="vMarcaInv" 
                                 value="#{invMarcas.marcas}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{invMarcas.catmarcas}" 
                                 rowKey="#{vMarcaInv.id_mar}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="120"
                                 style="width:400px"
                                 >
                        <p:ajax event="rowSelect" listener="#{invMarcas.onRowSelect}" 
                                update=":frmMarcaInv"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:30px" headerText="Id">
                            <h:outputText value="#{vMarcaInv.id_mar}" />
                        </p:column>
                        <p:column style="width:300px" headerText="Nombre">
                            <h:outputText value="#{vMarcaInv.nom_mar}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ************** Pantalla mantenimiento de Movimientos *******************
        *********************************************************************-->

        <p:dialog  id="dlgMovInv" widgetVar="wMovInv" modal="true" 
                   width="470" height="380" closable="false" resizable="false" 
                   header="Tipos de Documento" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmMovInv"> 
                <p:growl id="msgMovInv" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{invMovimientos.nuevo()}"
                                         update=":frmMovInv"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{invMovimientos.guardar()}"
                                         update=":frmMovInv"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{invMovimientos.eliminar()}"
                                         update=":frmMovInv"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wMovInv').hide()"
                                         actionListener="#{invMovimientos.cerrarventana()}"
                                         update=":frmMovInv"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color: #ebf8fe;">
                        <p:focus for="txtPaisMovInv" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="País" style="font-weight:bold;"/>
                            <p:selectOneMenu value="#{invMovimientos.cod_pai}" 
                                             style="width:280px;text-align:right;"
                                             immediate="false"
                                             disabled="#{manSeguridad.disableOpt('comboPaisesBodegas')}"
                                             id="txtPaisMovInv" 
                                             autoWidth="false"
                                             > 
                                <p:ajax event="change" listener="#{invMovimientos.llenarMovimientos()}" update=":frmMovInv" />
                                <f:selectItem itemLabel="Seleccione Uno" itemValue="0" />  
                                <f:selectItems value="#{invMovimientos.paises}" var="mmovpaiinv"
                                               itemLabel="#{mmovpaiinv.nom_pai}" itemValue="#{mmovpaiinv.cod_pai}"/>
                            </p:selectOneMenu>
                            <h:outputText value="Nombre" style="font-weight:bold;"/>
                            <p:inputText size="50"
                                         maxlength="30"
                                         value="#{invMovimientos.nom_mov}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Abreviatura" style="font-weight:bold;"/>
                            <p:inputText size="50"
                                         maxlength="5"
                                         value="#{invMovimientos.det_abr}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Tipo" style="font-weight:bold;"/>
                            <p:inputSwitch offLabel="Entrada" onLabel="Salida" value="#{invMovimientos.flg_tip}"/>
                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:dataTable id="dtMovInv" var="vMovInv" 
                             value="#{invMovimientos.movimientos}" 
                             emptyMessage="No se encontraron resultados" 
                             selectionMode="single" selection="#{invMovimientos.catmovimientos}" 
                             rowKey="#{vMovInv.id_mov}"
                             editable="false" 
                             scrollable="true"
                             scrollHeight="140"
                             style="width:450px"
                             >
                    <p:ajax event="rowSelect" listener="#{invMovimientos.onRowSelect}" 
                            update=":frmMovInv"/>
                    <p:ajax event="rowUnselect"/>

                    <p:column style="width:30px" headerText="Id">
                        <h:outputText value="#{vMovInv.id_mov}" />
                    </p:column>
                    <p:column style="width:160px" headerText="Nombre">
                        <h:outputText value="#{vMovInv.nom_mov}" />
                    </p:column>
                    <p:column style="width:70px" headerText="Abreviatura">
                        <h:outputText value="#{vMovInv.det_abr}" />
                    </p:column>
                    <p:column style="width:80px" headerText="Tipo">
                        <h:outputText value="#{vMovInv.flg_tip}" />
                    </p:column>
                </p:dataTable>

            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ***************** Pantalla mantenimiento de Bodegas ********************
        *********************************************************************-->

        <p:dialog  id="dlgBodegasInv" widgetVar="wBodInv" modal="true" 
                   width="440" height="330" closable="false" resizable="false" 
                   header="Bodegas" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmBodInv"> 
                <p:growl id="msgBodInv" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{invBodegas.nuevo()}"
                                         update=":frmBodInv"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{invBodegas.guardar()}"
                                         update=":frmBodInv"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{invBodegas.eliminar()}"
                                         update=":frmBodInv"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wBodInv').hide()"
                                         actionListener="#{invBodegas.cerrarventana()}"
                                         update=":frmBodInv"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color: #ebf8fe;">
                        <p:focus for="txtnombrebodinv" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="País" style="font-weight:bold;"/>
                            <p:selectOneMenu value="#{invBodegas.cod_pai}" 
                                             style="width:280px;text-align:right;"
                                             immediate="false"
                                             disabled="#{manSeguridad.disableOpt('comboPaisesBodegas')}"
                                             autoWidth="false"
                                             >
                                <p:ajax event="change" listener="#{invBodegas.llenarBodegas()}" update=":frmBodInv"/>
                                <f:selectItem itemLabel="Seleccione Uno" itemValue="0" />  
                                <f:selectItems value="#{invBodegas.paises}" var="mpaibodinv"
                                               itemLabel="#{mpaibodinv.nom_pai}" itemValue="#{mpaibodinv.cod_pai}"/>
                            </p:selectOneMenu>
                            <h:outputText value="Nombre" style="font-weight:bold;"/>
                            <p:inputText id="txtnombrebodinv" 
                                         size="46"
                                         maxlength="50"
                                         value="#{invBodegas.nom_bod}"
                                         onfocus="this.select()"
                                         />
                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtBodInv" var="vBodInv" 
                                 value="#{invBodegas.bodegas}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{invBodegas.catbodegas}" 
                                 rowKey="#{vBodInv.id_bod}"
                                 editable="false"
                                 scrollable="true"
                                 scrollHeight="110"
                                 style="width:380px"
                                 >
                        <p:ajax event="rowSelect" listener="#{invBodegas.onRowSelect}" 
                                update=":frmBodInv"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:100px" headerText="País">
                            <h:outputText value="#{vBodInv.nompai}" />
                        </p:column>
                        <p:column style="width:200px" headerText="Nombre">
                            <h:outputText value="#{vBodInv.nom_bod}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        **************** Pantalla mantenimiento de Clientes ********************
        *********************************************************************-->

        <p:dialog  id="dlgCliInv" widgetVar="wCliInv" modal="true" 
                   width="550" height="500" closable="false" resizable="false" 
                   header="Clientes" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmCliInv"> 
                <p:growl id="msgCliInv" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{invClientes.nuevo()}"
                                         update=":frmCliInv"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{invClientes.guardar()}"
                                         update=":frmCliInv"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{invClientes.eliminar()}"
                                         update=":frmCliInv"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wCliInv').hide()"
                                         actionListener="#{invClientes.cerrarventana()}"
                                         update=":frmCliInv"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color: #ebf8fe;">
                        <p:focus for="txtnombrecliInv" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="País" style="font-weight:bold;"/>
                            <p:selectOneMenu value="#{invClientes.cod_pai}" style=" width: 310px;"
                                             disabled="#{manSeguridad.disableOpt('comboPaisesBodegas')}"
                                             autoWidth="false"
                                             >
                                <p:ajax event="change" listener="#{invClientes.onselectpais()}" update=":frmCliInv" />
                                <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                <f:selectItems value="#{invClientes.paises}" var="paicliInv"
                                               itemLabel="#{paicliInv.nom_pai}" itemValue="#{paicliInv.cod_pai}"/> 

                            </p:selectOneMenu>
                            <h:outputText value="Nombre" style="font-weight:bold;"/>
                            <p:inputText id="txtnombrecliInv" 
                                         size="50"
                                         maxlength="50"
                                         value="#{invClientes.nom_cli}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Persona Contacto" style="font-weight:bold;"/>
                            <p:inputText size="50"
                                         maxlength="150"
                                         value="#{invClientes.per_con}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Teléfono Contacto" style="font-weight:bold;"/>
                            <p:inputText size="50"
                                         maxlength="20"
                                         value="#{invClientes.tel_con}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Correo Electrónico" style="font-weight:bold;"/>
                            <p:inputText size="50"
                                         maxlength="100"
                                         value="#{invClientes.det_mai}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Dirección" style="font-weight:bold;"/>
                            <p:inputTextarea maxlength="250"
                                             value="#{invClientes.det_dir}"
                                             onfocus="this.select()"
                                             cols="47"
                                             rows="2"
                                             />
                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtcliInv" var="vCliInv" 
                                 value="#{invClientes.clientes}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{invClientes.catclientes}" 
                                 rowKey="#{vCliInv.cod_cli}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="170"
                                 style="width:500px"
                                 >
                        <p:ajax event="rowSelect" listener="#{invClientes.onRowSelect}" 
                                update=":frmCliInv"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:160px" headerText="Cliente">
                            <h:outputText value="#{vCliInv.nom_cli}" />
                        </p:column>
                        <p:column style="width:80px" headerText="Contacto">
                            <h:outputText value="#{vCliInv.per_con}" />
                        </p:column>
                        <p:column style="width:80px" headerText="Teléfono">
                            <h:outputText value="#{vCliInv.tel_con}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!-- *******************************************************************
        ********** Pantalla mantenimiento de Áreas de Clientes *****************
        *********************************************************************-->

        <p:dialog  id="dlgAreas" widgetVar="wAreas" modal="true" 
                   width="500" height="300" closable="false" resizable="false" 
                   header="Áreas" rendered="true" 
                   dynamic="true" visible="false" 
                   >

            <h:form id="frmAreas"> 
                <p:growl id="msgAreas" showDetail="true" life="8000"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{invAreas.nuevo()}"
                                         update=":frmAreas"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         action="#{invAreas.guardar()}"
                                         update=":frmAreas"
                                         icon="ui-icon-disk"
                                         >
                            <p:confirm header="Guardar" 
                                       message="¿Realmente desea guardar este registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{invAreas.eliminar()}"
                                         update=":frmAreas"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar" 
                                       message="¿Realmente desea eliminar este registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wAreas').hide()"
                                         action="#{invAreas.cerrarventana()}" 
                                         update=":frmAreas"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>
                <div style=" background-color: #ebf8fe;">
                    <h:panelGrid columns="2" cellpadding="5">
                        <h:outputText value="Área" style="font-weight:bold;" />
                        <p:inputText maxlength="200" size="60" value="#{invAreas.nom_are}" 
                                     onfocus="this.select()"/>
                    </h:panelGrid>
                </div>
                <p:dataTable id="dtAreas" var="vAreas" 
                             value="#{invAreas.areas}" 
                             emptyMessage="No se encontraron resultados" 
                             selectionMode="single" selection="#{invAreas.catareasinv}" 
                             rowKey="#{vAreas.cod_are}"
                             editable="false" 
                             style="width:475px"
                             scrollable="true"
                             scrollHeight="190"
                             >
                    <p:ajax event="rowSelect" listener="#{invAreas.onRowSelect}" 
                            update=":frmAreas" />

                    <p:column style="width:50px" headerText="Área">
                        <h:outputText value="#{vAreas.nom_are}" />
                    </p:column>
                </p:dataTable>


            </h:form>
        </p:dialog>  

        <!--******************************************************************** 
        *************** Pantalla mantenimiento de Proveedores ******************
        *********************************************************************-->

        <p:dialog  id="dlgproInv" widgetVar="wProInv" modal="true" 
                   width="550" height="500" closable="false" resizable="false" 
                   header="Proveedores" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmProInv"> 
                <p:growl id="msgProInv" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{invProveedores.nuevo()}"
                                         update=":frmProInv"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{invProveedores.guardar()}"
                                         update=":frmProInv"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{invProveedores.eliminar()}"
                                         update=":frmProInv"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wProInv').hide()"
                                         actionListener="#{invProveedores.cerrarventana()}"
                                         update=":frmProInv"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color: #ebf8fe;">
                        <p:focus for="txtnombreproInv" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="País" style="font-weight:bold;"/>
                            <p:selectOneMenu value="#{invProveedores.cod_pai}" style=" width: 310px;"
                                             disabled="#{manSeguridad.disableOpt('comboPaisesBodegas')}"
                                             autoWidth="false"
                                             >
                                <p:ajax event="change" listener="#{invProveedores.onselectpais()}" update=":frmProInv" />
                                <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                <f:selectItems value="#{invProveedores.paises}" var="paiprofabInv"
                                               itemLabel="#{paiprofabInv.nom_pai}" itemValue="#{paiprofabInv.cod_pai}"/> 
                            </p:selectOneMenu>
                            <h:outputText value="Nombre" style="font-weight:bold;"/>
                            <p:inputText id="txtnombreproInv" 
                                         size="50"
                                         maxlength="50"
                                         value="#{invProveedores.nom_pro}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Persona Contacto" style="font-weight:bold;"/>
                            <p:inputText size="50"
                                         maxlength="150"
                                         value="#{invProveedores.per_con}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Teléfono Contacto" style="font-weight:bold;"/>
                            <p:inputText size="50"
                                         maxlength="20"
                                         value="#{invProveedores.tel_con}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Correo Electrónico" style="font-weight:bold;"/>
                            <p:inputText size="50"
                                         maxlength="100"
                                         value="#{invProveedores.det_mai}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Dirección" style="font-weight:bold;"/>
                            <p:inputTextarea maxlength="250"
                                             value="#{invProveedores.det_dir}"
                                             onfocus="this.select()"
                                             cols="47"
                                             rows="2"
                                             />
                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtproInv" var="vProInv" 
                                 value="#{invProveedores.proveedores}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{invProveedores.catproveedores}" 
                                 rowKey="#{vProInv.cod_pro}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="170"
                                 style="width:500px"
                                 >
                        <p:ajax event="rowSelect" listener="#{invProveedores.onRowSelect}" 
                                update=":frmProInv"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:160px" headerText="Proveedor">
                            <h:outputText value="#{vProInv.nom_pro}" />
                        </p:column>
                        <p:column style="width:80px" headerText="Contacto">
                            <h:outputText value="#{vProInv.per_con}" />
                        </p:column>
                        <p:column style="width:80px" headerText="Teléfono">
                            <h:outputText value="#{vProInv.tel_con}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        **************** Pantalla mantenimiento de Plataforma ******************
        *********************************************************************-->

        <p:dialog  id="dlgFamilia" widgetVar="wFamilia" modal="true" 
                   width="440" height="290" closable="false" resizable="false" 
                   header="Plataforma" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmFamilia"> 
                <p:growl id="msgFamilia" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{invFamilias.nuevo()}"
                                         update=":frmFamilia"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{invFamilias.guardar()}"
                                         update=":frmFamilia"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{invFamilias.eliminar()}"
                                         update=":frmFamilia"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wFamilia').hide()"
                                         actionListener="#{invFamilias.cerrarventana()}"
                                         update=":frmFamilia"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color: #dfecf1;">
                        <p:focus for="txtnombrefam" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Nombre" style="font-weight:bold;"/>
                            <p:inputText id="txtnombrefam" 
                                         size="50"
                                         maxlength="50"
                                         value="#{invFamilias.nom_fam}"
                                         onfocus="this.select()"
                                         />
                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtFamilia" var="vFamilia" 
                                 value="#{invFamilias.familia}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{invFamilias.catfamilia}" 
                                 rowKey="#{vFamilia.id_fam}"
                                 editable="false" 
                                 style="width:390px;"
                                 scrollable="true"
                                 scrollHeight="150"
                                 >
                        <p:ajax event="rowSelect" listener="#{invFamilias.onRowSelect}" 
                                update=":frmFamilia"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:30px" headerText="Id">
                            <h:outputText value="#{vFamilia.id_fam}" />
                        </p:column>
                        <p:column style="width:300px" headerText="Nombre">
                            <h:outputText value="#{vFamilia.nom_fam}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        *************** Pantalla mantenimiento de Embalaje *********************
        *********************************************************************-->

        <p:dialog  id="dlgEmbalaje" widgetVar="wEmbalaje" modal="true" 
                   width="440" height="300" closable="false" resizable="false" 
                   header="Unidades de Medida" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmEmbalaje"> 
                <p:growl id="msgEmbalaje" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{invEmbalajes.nuevo()}"
                                         update=":frmEmbalaje"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{invEmbalajes.guardar()}"
                                         update=":frmEmbalaje"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{invEmbalajes.eliminar()}"
                                         update=":frmEmbalaje"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wEmbalaje').hide()"
                                         actionListener="#{invEmbalajes.cerrarventana()}"
                                         update=":frmEmbalaje"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color: #dfecf1;">
                        <p:focus for="txtnombreemba" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Nombre" style="font-weight:bold;"/>
                            <p:inputText id="txtnombreemba" 
                                         size="50"
                                         maxlength="50"
                                         value="#{invEmbalajes.nom_emb}"
                                         onfocus="this.select()"
                                         />
                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtEmbalaje" var="vEmbalaje" 
                                 value="#{invEmbalajes.embalaje}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{invEmbalajes.catembalaje}" 
                                 rowKey="#{vEmbalaje.id_emb}"
                                 editable="false" 
                                 style="width:390px;"
                                 scrollable="true"
                                 scrollHeight="150"
                                 >
                        <p:ajax event="rowSelect" listener="#{invEmbalajes.onRowSelect}" 
                                update=":frmEmbalaje"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:30px" headerText="Id">
                            <h:outputText value="#{vEmbalaje.id_emb}" />
                        </p:column>
                        <p:column style="width:300px" headerText="Nombre">
                            <h:outputText value="#{vEmbalaje.nom_emb}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ************* Pantalla mantenimiento Tipos de Productos ****************
        *********************************************************************-->

        <p:dialog  id="dlgArt" widgetVar="wArt" modal="false"  minimizable="true" 
                   width="1000" height="550" closable="false" resizable="false" 
                   header="Tipos de Productos" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmArt"> 
                <p:growl id="msgArt" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{invArticulos.nuevo()}"
                                         update=":frmArt"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{invArticulos.guardar()}"
                                         update=":frmArt"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{invArticulos.eliminar()}"
                                         update=":frmArt"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Consultar" style=" width: 100px;"
                                         actionListener="#{invArticulos.llenarArticulos()}"
                                         update=":frmArt"
                                         icon="ui-icon-search"
                                         />
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wArt').hide()"
                                         actionListener="#{invArticulos.cerrarventana()}"
                                         oncomplete="PF('ArtTable').clearFilters()"
                                         update=":frmArt"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel styleClass="noBorders">
                    <div style=" background-color: #dfecf1;">
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:panelGroup>
                                <p:focus for="txtcodart" />
                                <h:panelGrid columns="4" cellpadding="5">
                                    <h:outputText value="Código Referencia" style="font-weight:bold;"/>
                                    <h:outputText value="Marca" style="font-weight:bold;"/>
                                    <h:outputText value="Plataforma" style="font-weight:bold;"/>
                                    <h:outputText value="Temperatura (°C)" style="font-weight:bold;"/>
                                    <p:inputText id="txtcodart" 
                                                 size="25"
                                                 maxlength="20"
                                                 value="#{invArticulos.cod_art}"
                                                 onfocus="this.select()"
                                                 />
                                    <p:selectOneMenu value="#{invArticulos.det_mar}" 
                                                     style="width:130px;text-align:right;"
                                                     immediate="false"
                                                     autoWidth="false"
                                                     >  
                                        <f:selectItem itemLabel="Seleccione Una" itemValue="0" />  
                                        <f:selectItems value="#{invArticulos.marcas}" var="mmarv"
                                                       itemLabel="#{mmarv.nom_mar}" itemValue="#{mmarv.id_mar}"/>
                                    </p:selectOneMenu>
                                    <p:selectOneMenu value="#{invArticulos.det_fam}" 
                                                     style="width:150px;text-align:right;"
                                                     immediate="false"
                                                     autoWidth="false"
                                                     >  
                                        <f:selectItem itemLabel="Seleccione Una" itemValue="0" />  
                                        <f:selectItems value="#{invArticulos.familia}" var="mfamv"
                                                       itemLabel="#{mfamv.nom_fam}" itemValue="#{mfamv.id_fam}"/>
                                    </p:selectOneMenu>
                                    <p:selectOneMenu value="#{invArticulos.flg_ref}" 
                                                     style="width:150px;text-align:right;"
                                                     immediate="false"
                                                     id="tempref"
                                                     autoWidth="false"
                                                     >  
                                        <f:selectItem itemLabel="Temp. Ambiente" itemValue="0" />  
                                        <f:selectItem itemLabel="-70° a -20° C" itemValue="1" />  
                                        <f:selectItem itemLabel="2° a 8° C" itemValue="2" />  
                                        <f:selectItem itemLabel="18° a 25° C" itemValue="3" />  

                                    </p:selectOneMenu>

                                </h:panelGrid>
                                <h:panelGrid columns="2" cellpadding="5">
                                    <h:outputText value="Unidad de Medida" style="font-weight:bold;"/>
                                    <h:outputText value="Nombre Producto" style="font-weight:bold;"/>

                                    <p:selectOneMenu value="#{invArticulos.det_emb}" 
                                                     style="width:150px;text-align:right;"
                                                     immediate="false"
                                                     autoWidth="false"
                                                     >  
                                        <f:selectItem itemLabel="Seleccione Una" itemValue="0" />  
                                        <f:selectItems value="#{invArticulos.embalaje}" var="membv"
                                                       itemLabel="#{membv.nom_emb}" itemValue="#{membv.id_emb}"/>
                                    </p:selectOneMenu>
                                    <p:inputText size="80"
                                                 maxlength="150"
                                                 value="#{invArticulos.det_nom}"
                                                 onfocus="this.select()"
                                                 />
                                </h:panelGrid>
                                <h:panelGrid columns="3" cellpadding="5">
                                    <h:outputText value="Registro Sanitario" style="font-weight:bold;"/>
                                    <h:outputText value="País Origen" style="font-weight:bold;"/>
                                    <h:outputText value="Código Alternativo" style="font-weight:bold;"/>
                                    <p:inputText size="25"
                                                 maxlength="20"
                                                 value="#{invArticulos.reg_san}"
                                                 onfocus="this.select()"
                                                 />
                                    <p:inputText size="35"
                                                 maxlength="30"
                                                 value="#{invArticulos.pai_ori}"
                                                 onfocus="this.select()"
                                                 />
                                    <p:inputText size="42"
                                                 maxlength="40"
                                                 value="#{invArticulos.cod_alt}"
                                                 onfocus="this.select()"
                                                 />
                                </h:panelGrid>
                                <h:panelGrid columns="1" >
                                    <h:outputText value="Descripción" style="font-weight:bold;"/>
                                    <p:inputTextarea cols="107"
                                                     rows="2"
                                                     maxlength="500"
                                                     value="#{invArticulos.det_des}"
                                                     onfocus="this.select()"
                                                     />

                                </h:panelGrid>
                            </h:panelGroup>
                            <h:panelGrid columns="1" >
                                <p:graphicImage id="imgpro" 
                                                value="#{invArticulos.mimagen}"
                                                cache="false" width="175" height="#{invArticulos.mheight}" />
                                <p:fileUpload id="fupequ"  
                                              dragDropSupport="true"
                                              mode="advanced" 
                                              uploadLabel="Cargar"
                                              cancelLabel="Cancelar"
                                              label="Archivo Imagen"
                                              fileLimit="1" 
                                              skinSimple="true"
                                              fileUploadListener="#{invArticulos.upload}"
                                              allowTypes="/(\.|\/)(jpg|JPG|jepg|JEPG|gif|GIF|png|PNG)$/" 
                                              update="imgpro,msgArt"
                                              auto="true"
                                              />
                            </h:panelGrid>
                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel >

                    <p:dataTable id="dtart" var="vArt" widgetVar="ArtTable"
                                 value="#{invArticulos.articulos}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" 
                                 selection="#{invArticulos.catarticulos}" 
                                 rowKey="#{vArt.id_art}"
                                 editable="false" 
                                 style="width:950px"
                                 scrollable="true"
                                 scrollHeight="150"
                                 >
                        <f:facet name="header">
                            <div align="left">
                                <p:outputPanel>
                                    <h:panelGroup>
                                        <h:commandLink>
                                            <p:graphicImage value="/resources/images/xls_download.png" width="28" title="Excel"/>
                                            <p:dataExporter type="xls" target="dtart" fileName="Articulos" />
                                        </h:commandLink>
                                        <h:outputText value="&nbsp;&nbsp;&nbsp;&nbsp;" style="font-weight:bold;"/>
                                        <h:commandLink>
                                            <p:graphicImage value="/resources/images/pdf_download.png" width="28" title="PDF"/>
                                            <p:dataExporter type="pdf" target="dtart" fileName="Articulos"/>
                                        </h:commandLink>
                                        <h:outputText value="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" style="font-weight:bold;"/>
                                        <h:outputText value="Filtro:&nbsp;" style="font-weight:bold;"/>
                                        <p:inputText id="globalFilter" 
                                                     onkeyup="PF('ArtTable').filter()" 
                                                     style="width:400px" 
                                                     placeholder="Expresión Filtro"
                                                     />
                                    </h:panelGroup>
                                </p:outputPanel>
                            </div>
                        </f:facet>

                        <p:ajax event="rowSelect" listener="#{invArticulos.onRowSelect}" 
                                update=":frmArt"/>

                        <p:column style="width:30px" headerText="Cod.Ref." filterBy="#{vArt.cod_art}" 
                                  filterMatchMode="contains"  filterStyle="display:none; visibility:hidden;">
                            <h:outputText value="#{vArt.cod_art}" />
                        </p:column>
                        <p:column style="width:30px" headerText="Cod.Alt." filterBy="#{vArt.cod_alt}" 
                                  filterMatchMode="contains"  filterStyle="display:none; visibility:hidden;">
                            <h:outputText value="#{vArt.cod_alt}" />
                        </p:column>
                        <p:column style="width:90px" headerText="Nombre" filterBy="#{vArt.det_nom}" 
                                  filterMatchMode="contains"  filterStyle="display:none; visibility:hidden;">
                            <h:outputText value="#{vArt.det_nom}" />
                        </p:column>
                        <p:column style="width:60px" headerText="Unidad de Medida">
                            <h:outputText value="#{vArt.nomemb}" />
                        </p:column>
                        <p:column style="width:180px" headerText="Descripción">
                            <h:outputText value="#{vArt.det_des}" />
                        </p:column>

                    </p:dataTable>

                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ************** Pantalla mantenimiento de Ubicaciones *******************
        *********************************************************************-->

        <p:dialog  id="dlgUbi" widgetVar="wUbi" modal="true" 
                   width="500" height="350" closable="false" resizable="false" 
                   header="Ubicaciones" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmUbi"> 
                <p:growl id="msgUbi" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{invUbicaciones.nuevo()}"
                                         update=":frmUbi"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{invUbicaciones.guardar()}"
                                         update=":frmUbi"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{invUbicaciones.eliminar()}"
                                         update=":frmUbi"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wUbi').hide()"
                                         actionListener="#{invUbicaciones.cerrarventana()}"
                                         update=":frmUbi"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color: #ebf8fe;">
                        <p:focus for="txtnombreubi" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="País" style="font-weight:bold;"/>
                            <p:selectOneMenu value="#{invUbicaciones.cod_pai}" 
                                             style="width:280px;text-align:right;"
                                             immediate="false"
                                             disabled="#{manSeguridad.disableOpt('comboPaisesUbicaciones')}"
                                             autoWidth="false"
                                             >  
                                <p:ajax event="change" listener="#{invUbicaciones.llenarBodegas()}" update=":frmUbi" />
                                <f:selectItem itemLabel="Seleccione Uno" itemValue="0" />  
                                <f:selectItems value="#{invUbicaciones.paises}" var="mpaiubi"
                                               itemLabel="#{mpaiubi.nom_pai}" itemValue="#{mpaiubi.cod_pai}"/>
                            </p:selectOneMenu>
                            <h:outputText value="Bodega" style="font-weight:bold;"/>
                            <p:selectOneMenu value="#{invUbicaciones.cod_bod}" 
                                             style="width:280px;text-align:right;"
                                             immediate="false"
                                             id="sombodubi"
                                             autoWidth="false"
                                             >  
                                <p:ajax event="change" listener="#{invUbicaciones.llenarUbicaciones()}" update=":frmUbi" />
                                <f:selectItem itemLabel="Seleccione Una" itemValue="0" />  
                                <f:selectItems value="#{invUbicaciones.bodegas}" var="mbodcv"
                                               itemLabel="#{mbodcv.nom_bod}" itemValue="#{mbodcv.id_bod}"/>
                            </p:selectOneMenu>
                            <h:outputText value="Nombre" style="font-weight:bold;"/>
                            <p:inputText id="txtnombreubi" 
                                         size="46"
                                         maxlength="30"
                                         value="#{invUbicaciones.nom_ubi}"
                                         onfocus="this.select()"
                                         />
                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel id="pandetubiubi">
                    <p:dataTable id="dtUbi" var="vUbi" 
                                 value="#{invUbicaciones.ubicaciones}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{invUbicaciones.catubicaciones}" 
                                 rowKey="#{vUbi.id_ubi}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="110"
                                 style="width:440px"
                                 >
                        <p:ajax event="rowSelect" listener="#{invUbicaciones.onRowSelect}" 
                                update=":frmUbi"/>
                        <p:ajax event="rowUnselect"/>
                        <p:column style="width:60px" headerText="País">
                            <h:outputText value="#{vUbi.nompai}" />
                        </p:column>
                        <p:column style="width:60px" headerText="Bodega">
                            <h:outputText value="#{vUbi.nombod}" />
                        </p:column>
                        <p:column style="width:150px" headerText="Ubicación">
                            <h:outputText value="#{vUbi.nom_ubi}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ********************* Pantalla Almacén Productos ***********************
        *********************************************************************-->

        <p:dialog  id="dlgInventarioPro" widgetVar="wInventarioPro" modal="true" 
                   width="1090" height="540" closable="false" resizable="false" 
                   header="Inventario de Productos" rendered="true" 
                   dynamic="true" visible="false"  styleClass="altoLinea" style=" background: #a3c1ff;"
                   >
            <h:form id="frmInventarioPro">
                <p:growl id="msgInventarioPro" showDetail="true" life="8500"/>
                <p:toolbar style="background: #FFFFFF;">
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px; background: darkorange; color: #F3F3F3; "
                                         actionListener="#{invAlmacenProductos.nuevo()}"
                                         update=":frmInventarioPro"
                                         icon="fa fa-file-o"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px; background: lime; color:  black;"
                                         actionListener="#{invAlmacenProductos.guardar()}"
                                         update=":frmInventarioPro"
                                         icon="fa fa-floppy-o"
                                         disabled="#{manSeguridad.disableOpt('botonGuardarInvProd')}" 
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Modificar" style=" width: 100px; background: fuchsia; color: #F3F3F3;"
                                         onclick="PF('wBuscarIng').show()"
                                         actionListener="#{invAlmacenProductos.llenarEncabezado()}"
                                         update=":frmBuscarIng"
                                         icon="fa fa-search"
                                         />
                        <p:commandButton value="Imprimir" style=" width: 100px; background:  #4e6a71; color: #F3F3F3;"
                                         actionListener="#{invAlmacenProductos.imprimir()}"
                                         onclick="this.form.target = '_blank';"
                                         icon="fa fa-print"
                                         ajax="false"
                                         />
                        <span class="ui-separator">
                            <span class="ui-icon ui-icon-grip-dotted-vertical" />
                        </span>
                        <p:commandButton value="Traslado" style=" width: 100px; background: #FFFF00; color:  black;"
                                         actionListener="#{invAlmacenProductos.iniciartraslado()}"
                                         icon="fa fa-exchange"
                                         update =":frmInventarioPro"
                                         />
                        <span class="ui-separator">
                            <span class="ui-icon ui-icon-grip-dotted-vertical" />
                        </span>
                        <p:commandButton value="Fecha Ven" style=" width: 100px; background: aqua; color:  black;"
                                         actionListener="#{invAlmacenProductos.iniciareditfechaven()}"
                                         icon="fa fa-clock-o"
                                         />
                        <span class="ui-separator">
                            <span class="ui-icon ui-icon-grip-dotted-vertical" />
                        </span>
                        <p:commandButton value="Anular" style=" width: 100px; background: #FF0000; color: #F3F3F3; "
                                         actionListener="#{invAlmacenProductos.iniciaranular()}"
                                         update=":frmInventarioPro"
                                         icon="fa fa-ban"
                                         >
                            <p:confirm header="Anular Registro" 
                                       message="¿Realmente desea Anular este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <span class="ui-separator">
                            <span class="ui-icon ui-icon-grip-dotted-vertical" />
                        </span>
                        <p:commandButton value="Vencidos" style=" width: 100px; background: #FF0000; color: #F3F3F3; "
                                         actionListener="#{invAlmacenProductos.iniciarvencidos()}"
                                         onclick="PF('wCargarVencidos').show()"
                                         update=":frmCargarVencidos"
                                         icon="fa fa-bug"
                                         />


                    </f:facet>
                    <f:facet name="right">
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wInventarioPro').hide()"
                                         actionListener="#{invAlmacenProductos.cerrarventana()}"
                                         update=":frmInventarioPro"
                                         icon="ui-icon-close"
                                         />
                    </f:facet>
                </p:toolbar>

                <p:panel id="panencabezadopro" style="background: #FFFFFF;">
                    <div style=" background: #e2ecfe;">
                        <h:panelGrid columns="6" cellpadding="5">
                            <h:outputText value="" style="font-weight:bold;"/>
                            <h:outputText value="Fecha" style="font-weight:bold;"/>
                            <h:outputText value="País" style="font-weight:bold;"/>
                            <h:outputText value="#{invAlmacenProductos.titulo}" style="font-weight:bold;"/>
                            <h:outputText value="Área que Recibe" style="font-weight:bold;"/>
                            <h:outputText value="Póliza" style="font-weight:bold;"/>
                            <p:inputSwitch offLabel="Entrada" onLabel="Salida" value="#{invAlmacenProductos.flg_ing_sal}" >
                                <p:ajax listener="#{invAlmacenProductos.inout()}" update=":frmInventarioPro" />
                            </p:inputSwitch>
                            <p:calendar  value="#{invAlmacenProductos.mfecha}"
                                         pattern="dd/MM/yyyy" 
                                         locale="es" 
                                         readonlyInput="true" 
                                         showOn="button" 
                                         size="16"
                                         style="width: 10px"
                                         navigator="true"
                                         >
                                <p:ajax event="dateSelect" listener="#{invAlmacenProductos.dateSelectedAction}" />
                            </p:calendar> 

                            <p:selectOneMenu value="#{invAlmacenProductos.cod_pai}" 
                                             style=" width: 160px;"
                                             disabled="#{manSeguridad.disableOpt('comboPaisInvProd')}" 
                                             autoWidth="false"
                                             >
                                <p:ajax event="change" listener="#{invAlmacenProductos.seleccionarpais()}" 
                                        update="somprolstpro,detallearticulos,espinvpro,espareainvpro,tipmovinvpro,cormovproinv" />
                                <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                <f:selectItems value="#{invAlmacenProductos.paises}" var="lstpaipro"
                                               itemLabel="#{lstpaipro.nom_pai}" itemValue="#{lstpaipro.cod_pai}"/> 
                            </p:selectOneMenu>
                            <p:selectOneMenu id="somprolstpro" 
                                             value="#{invAlmacenProductos.cod_cli_pro}" 
                                             style=" width: 160px;"
                                             autoWidth="false"
                                             filter="true"
                                             filterMatchMode="contains"
                                             >
                                <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                <f:selectItems value="#{invAlmacenProductos.proveedores}" var="lstpropro"
                                               itemLabel="#{lstpropro.nom_pro}" itemValue="#{lstpropro.cod_pro}"/> 
                            </p:selectOneMenu>
                            <p:selectOneMenu value="#{invAlmacenProductos.cod_are}" 
                                             style=" width: 190px;"
                                             autoWidth="false"
                                             id="espareainvpro"
                                             disabled="#{!invAlmacenProductos.flg_ing_sal}"
                                             >
                                <f:selectItem itemLabel="Ninguna" itemValue="0"/>
                                <f:selectItems value="#{invAlmacenProductos.areas}" var="lstareastrapro"
                                               itemLabel="#{lstareastrapro.nom_are}" itemValue="#{lstareastrapro.cod_are}"/> 
                            </p:selectOneMenu>
                            <p:inputText maxlength="50" size="22" value="#{invAlmacenProductos.det_pol}" disabled="#{invAlmacenProductos.flg_ing_sal}"/>


                            <h:outputText value="PO QB/Orden Com." style="font-weight:bold;"/>
                            <h:outputText value="N° Comprobante" style="font-weight:bold;"/>
                            <h:outputText value="Tipo de Operación" style="font-weight:bold;"/>
                            <h:outputText value="Correlativo de Operación" style="font-weight:bold;"/>
                            <h:outputText value="Solicitado por" style="font-weight:bold;"/>
                            <h:outputText value="Otro Solicitante" style="font-weight:bold;"/>
                            <p:inputText maxlength="25" size="13" value="#{invAlmacenProductos.ord_com}" />
                            <p:inputText maxlength="25" size="18" value="#{invAlmacenProductos.doc_tra}" />
                            <p:selectOneMenu value="#{invAlmacenProductos.tip_mov}" 
                                             style=" width: 160px;"
                                             autoWidth="false"
                                             id="tipmovinvpro"
                                             >
                                <p:ajax event="change" listener="#{invAlmacenProductos.onSelectMovimiento()}" 
                                        update="cormovproinv" />
                                <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                <f:selectItems value="#{invAlmacenProductos.movimientos}" var="lstmovpro"
                                               itemLabel="#{lstmovpro.nom_mov}" itemValue="#{lstmovpro.id_mov}"/> 
                            </p:selectOneMenu>
                            <p:inputText id="cormovproinv" maxlength="20" size="20" value="#{invAlmacenProductos.cor_mov}" readonly="true"/>
                            <p:selectOneMenu value="#{invAlmacenProductos.cod_esp}" 
                                             style=" width: 190px;"
                                             autoWidth="false"
                                             id="espinvpro"
                                             disabled="#{!invAlmacenProductos.flg_ing_sal}"
                                             >
                                <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                <f:selectItems value="#{invAlmacenProductos.especialistas}" var="lstespecitrapro"
                                               itemLabel="#{lstespecitrapro.descripcion}" itemValue="#{lstespecitrapro.codigo}"/> 
                            </p:selectOneMenu>
                            <p:inputText maxlength="150" size="22" value="#{invAlmacenProductos.otr_sol}" disabled="#{!invAlmacenProductos.flg_ing_sal}"/>


                        </h:panelGrid>    

                        <h:panelGrid columns="1" cellpadding="5">
                            <h:outputText value="Observaciones" style="font-weight:bold;"/>
                            <p:inputText maxlength="200" size="132" value="#{invAlmacenProductos.det_obs}"/>
                        </h:panelGrid>
                    </div>
                </p:panel>
                <p:panel id="detallearticulos" style="background: #FFFFFF;">
                    <div style=" background: #e2ecfe;">
                        <h:panelGrid columns="7" cellpadding="5">
                            <h:outputText value="Producto" style="font-weight:bold;"/>
                            <h:outputText value="Unidad de Medida" style="font-weight:bold;"/>
                            <h:outputText value="" style="font-weight:bold;"/>
                            <h:outputText value="" style="font-weight:bold;"/>
                            <h:outputText value="" style="font-weight:bold;"/>
                            <h:outputText value="" style="font-weight:bold;"/>
                            <h:outputText value="Bodega" style="font-weight:bold;"/>
                            <p:selectOneMenu value="#{invAlmacenProductos.cod_art}" 
                                             style=" width: 440px;"
                                             filter="true" 
                                             filterMatchMode="contains"
                                             id="somartpro"
                                             autoWidth="false"
                                             >
                                <p:ajax event="change" listener="#{invAlmacenProductos.seleccionarproducto()}" 
                                        update="sombodpro,somubipro,somlotpro,bchkfecveninvpro,calfecven,txtnomunipro,somunimedpro" />
                                <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                <f:selectItems value="#{invAlmacenProductos.articulos}" var="lstpiepro"
                                               itemLabel="#{lstpiepro.cod_art} -- #{lstpiepro.cod_alt} -- #{lstpiepro.det_nom}" itemValue="#{lstpiepro.id_art}"/> 
                            </p:selectOneMenu>
                            <p:inputText readonly="true" size="25" value="#{invAlmacenProductos.nombreunidad}" id="txtnomunipro"/>
                            <p:commandButton title="Imagen" 
                                             icon="ui-icon-image" 
                                             style=" width: 30px;" 
                                             actionListener="#{invAlmacenProductos.iniciarimagen()}"
                                             onclick="PF('wImgPro').show()"
                                             update=":frmImgPro"
                                             />
                            <p:commandButton title="Existencias" 
                                             icon="ui-icon-search" 
                                             style=" width: 30px;" 
                                             actionListener="#{invAlmacenProductos.iniciarventanaexistencias(0)}"
                                             onclick="PF('wExistenciasLot').show()"
                                             update=":frmExistenciasLot"
                                             />
                            <p:commandButton title="Productos" 
                                             icon="ui-icon-script" 
                                             style=" width: 30px;" 
                                             actionListener="#{invAlmacenProductos.iniciarimagen()}"
                                             onclick="PF('wArt').show()"
                                             update=":frmArt"
                                             action="#{invArticulos.iniciarventana()}"
                                             />
                            <p:commandButton title="Refrescar Control" 
                                             icon="ui-icon-refresh" 
                                             style=" width: 30px;" 
                                             actionListener="#{invAlmacenProductos.llenarArticulos()}"
                                             update="somartpro"
                                             />
                            <p:selectOneMenu id="sombodpro" 
                                             value="#{invAlmacenProductos.cod_bod}" 
                                             style=" width: 170px;"
                                             autoWidth="false"
                                             >
                                <p:ajax event="change" listener="#{invAlmacenProductos.seleccionarbodega()}" update="somubipro,somlotpro,bchkfecveninvpro,calfecven" />
                                <f:selectItem itemLabel="Seleccione Una" itemValue="0"/>
                                <f:selectItems value="#{invAlmacenProductos.bodegas}" var="lstbodpro"
                                               itemLabel="#{lstbodpro.nom_bod}" itemValue="#{lstbodpro.id_bod}"/> 
                            </p:selectOneMenu>
                        </h:panelGrid>
                        <h:panelGrid columns="9" cellpadding="4">
                            <h:outputText value="Ubicación" style="font-weight:bold;"/>
                            <h:outputText value="Lote" style="font-weight:bold;"/>
                            <h:outputText value="" style="font-weight:bold;"/>
                            <h:outputText value="Fec.Vencimiento" style="font-weight:bold;"/>
                            <h:outputText value="Cantidad" style="font-weight:bold;"/>
                            <h:outputText value="Unidad Medida" style="font-weight:bold;"/>
                            <h:outputText value="Costo Total" style="font-weight:bold;"/>
                            <h:outputText value="" style="font-weight:bold;"/>
                            <h:outputText value="" style="font-weight:bold;"/>

                            <p:selectOneMenu id="somubipro" 
                                             value="#{invAlmacenProductos.cod_ubi}" 
                                             style=" width: 170px;"
                                             autoWidth="false"
                                             >
                                <p:ajax event="change" listener="#{invAlmacenProductos.seleccionarUbicaciones()}" update="somlotpro,bchkfecveninvpro,calfecven" />
                                <f:selectItem itemLabel="Seleccione Una" itemValue="0"/>
                                <f:selectItems value="#{invAlmacenProductos.ubicaciones}" var="lstubipro"
                                               itemLabel="#{lstubipro.nom_ubi}" itemValue="#{lstubipro.id_ubi}"/> 
                            </p:selectOneMenu>
                            <p:selectOneMenu id="somlotpro" 
                                             value="#{invAlmacenProductos.det_lot}" 
                                             editable="#{!invAlmacenProductos.flg_ing_sal}"
                                             style=" width: 150px;"
                                             autoWidth="false"
                                             filter="true"
                                             filterMatchMode="contains"

                                             >
                                <p:ajax event="change" listener="#{invAlmacenProductos.onselectlote()}" update="bchkfecveninvpro,calfecven" />
                                <f:selectItems value="#{invAlmacenProductos.lotes}" var="lstlotpro"
                                               itemLabel="#{lstlotpro.num_lot}" itemValue="#{lstlotpro.num_lot}"/> 
                            </p:selectOneMenu>
                            <p:selectBooleanCheckbox id="bchkfecveninvpro" value="#{invAlmacenProductos.chkfecven}" disabled="#{invAlmacenProductos.flg_ing_sal}">
                                <p:ajax event="change" listener="#{invAlmacenProductos.onchkfecvenchange()}" update="bchkfecveninvpro,calfecven"/>
                            </p:selectBooleanCheckbox>
                            <p:calendar id="calfecven" 
                                        value="#{invAlmacenProductos.mfechaven}"
                                        pattern="dd/MM/yyyy" 
                                        locale="es" 
                                        readonlyInput="true" 
                                        showOn="button" 
                                        size="13"
                                        style="width: 10px"
                                        disabled="#{!invAlmacenProductos.chkfecven}"
                                        navigator="true"
                                        >
                                <p:ajax event="dateSelect" listener="#{invAlmacenProductos.dateVenSelectedAction}" />
                            </p:calendar> 
                            <p:inputNumber size="12" value="#{invAlmacenProductos.det_can}" minValue="0" decimalPlaces="2" />
                            <p:selectOneMenu id="somunimedpro" 
                                             value="#{invAlmacenProductos.uni_med_con}" 
                                             style=" width: 170px;"
                                             autoWidth="false"
                                             >
                                <f:selectItem itemLabel="Seleccione Una" itemValue="0"/>
                                <f:selectItems value="#{invAlmacenProductos.unidades}" var="lstunimedpro"
                                               itemLabel="#{lstunimedpro.descripcion}" itemValue="#{lstunimedpro.codigo}"/> 
                            </p:selectOneMenu>
                            <p:inputNumber size="14" value="#{invAlmacenProductos.det_cos}" 
                                           minValue="0" decimalPlaces="2" 
                                           disabled="#{invAlmacenProductos.flg_ing_sal}" />
                            <p:commandButton title="Agregar" 
                                             icon="ui-icon-plus" 
                                             style=" width: 30px;" 
                                             actionListener="#{invAlmacenProductos.agregardetalle()}" 
                                             update="detallearticulos,dtInvPro,:frmInventarioPro:msgInventarioPro"
                                             />
                            <p:commandButton title="Remover" 
                                             icon="ui-icon-minus" 
                                             style=" width: 30px;" 
                                             actionListener="#{invAlmacenProductos.eliminardetalle()}" 
                                             update="detallearticulos,dtInvPro"
                                             />
                        </h:panelGrid>
                    </div>
                </p:panel>
                <p:dataTable id="dtInvPro" var="vDetInvPro" 
                             value="#{invAlmacenProductos.detalles}" 
                             emptyMessage="No se encontraron resultados" 
                             selection="#{invAlmacenProductos.cattransaccionesdetalle}" 
                             selectionMode="single"
                             rowKey="#{vDetInvPro.cod_det}"
                             editable="false"
                             scrollable="true"
                             scrollHeight="120"
                             style="width:1067px"
                             >

                    <p:ajax event="rowSelect" listener="#{invAlmacenProductos.onRowSelect}" 
                            update=":frmInventarioPro:detallearticulos"/>

                    <p:column style="width:1px;" headerText="Item">
                        <h:outputText value="#{vDetInvPro.cod_det}" />
                    </p:column>
                    <p:column style="width:25px;" headerText="Bodega">
                        <h:outputText value="#{vDetInvPro.nombod}" />
                    </p:column>
                    <p:column style="width:40px;" headerText="Ubicación">
                        <h:outputText value="#{vDetInvPro.nomubi}" />
                    </p:column>
                    <p:column style="width:20px;" headerText="Código">
                        <h:outputText value="#{vDetInvPro.codrefart}" />
                    </p:column>
                    <p:column style="width:80px;" headerText="Producto">
                        <h:outputText value="#{vDetInvPro.nomart}" />
                    </p:column>
                    <p:column style="width:40px;" headerText="Lote">
                        <h:outputText value="#{vDetInvPro.det_lot}" />
                    </p:column>
                    <p:column style="width:40px;" headerText="Vencimiento">
                        <h:outputText value="#{vDetInvPro.fec_ven}" />
                    </p:column>
                    <p:column style="width:25px;" headerText="Cantidad">
                        <h:outputText value="#{vDetInvPro.det_can_con}" />
                    </p:column>
                    <p:column style="width:50px;" headerText="Uni.Med">
                        <h:outputText value="#{vDetInvPro.nomunimed}" />
                    </p:column>
                    <p:column style="width:25px;" headerText="Costo" visible="#{!manSeguridad.disableOpt('colcostosproductos')}">
                        <h:outputText value="#{vDetInvPro.det_cos}" />
                    </p:column>

                </p:dataTable>

            </h:form>
        </p:dialog>

        <p:dialog  id="dlgImgPro" widgetVar="wImgPro" modal="true" 
                   width="360" height="340" closable="true" resizable="false" 
                   header="Imagen de Producto" rendered="true" 
                   dynamic="true" visible="false"
                   >
            <p:ajax event="close" listener="#{invAlmacenProductos.onCloseImg}" update=":frmImgPro"/>

            <h:form id="frmImgPro">
                <div align="center">
                    <h:panelGrid columns="1">
                        <p:graphicImage value="#{invAlmacenProductos.mimagen}"
                                        cache="false" width="270" height="#{invAlmacenProductos.mheight}" />

                        <h:outputText value="#{invAlmacenProductos.nomprod}" style="font-weight:bold;"/>
                    </h:panelGrid>
                </div>
            </h:form>
        </p:dialog>

        <p:dialog  id="dlgBuscarIng" widgetVar="wBuscarIng" modal="true" 
                   width="900" height="460" closable="false" resizable="false" 
                   header="Buscar" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmBuscarIng"> 

                <p:toolbar>
                    <f:facet name="right">
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wBuscarIng').hide()"
                                         update=":frmInventarioPro"
                                         icon="ui-icon-close"
                                         actionListener="#{invAlmacenProductos.cerrarbuscar()}"
                                         />
                    </f:facet>
                </p:toolbar>
                <p:panel>
                    <p:dataTable id="dtIngBuscar" var="vIngBuscar" 
                                 value="#{invAlmacenProductos.encabezado}" 
                                 emptyMessage="No se encontraron resultados para el País seleccionado" 
                                 selectionMode="single" selection="#{invAlmacenProductos.cattransacciones}" 
                                 rowKey="#{vIngBuscar.cod_tra}"
                                 editable="false" 
                                 style="width:840px"
                                 widgetVar="wDTIngBuscar"
                                 scrollable="true"
                                 scrollHeight="300"
                                 >
                        <p:ajax event="rowSelect" listener="#{invAlmacenProductos.onRowSelectBuscar}" 
                                update=":frmInventarioPro"/>

                        <f:facet name="header">
                            <p:outputPanel>
                                <h:panelGrid columns="2" cellpadding="1" styleClass="noBorders">
                                    <h:outputText value="Filtrar:" />
                                    <p:inputText id="globalFilter" 
                                                 onkeyup="PF('wDTIngBuscar').filter()" 
                                                 style="width:250px" 
                                                 placeholder="Expresión Filtro"
                                                 />
                                </h:panelGrid>
                            </p:outputPanel>
                        </f:facet>


                        <p:column style="width:10px" headerText="Fecha" filterBy="#{vIngBuscar.fec_tra}" 
                                  filterMatchMode="contains"  filterStyle="display:none; visibility:hidden;" >
                            <h:outputText value="#{vIngBuscar.fec_tra}" />
                        </p:column>
                        <p:column style="width:30px" headerText="Tipo Movimiento" filterBy="#{vIngBuscar.nommov}" 
                                  filterMatchMode="contains"  filterStyle="display:none; visibility:hidden;" >
                            <h:outputText value="#{vIngBuscar.nommov}" />
                        </p:column>
                        <p:column style="width:40px" headerText="Documento" filterBy="#{vIngBuscar.coddoc}" 
                                  filterMatchMode="contains"  filterStyle="display:none; visibility:hidden;">
                            <h:outputText value="#{vIngBuscar.coddoc}" />
                        </p:column>
                        <p:column style="width:30px" headerText="QuickBooks" filterBy="#{vIngBuscar.ord_com}" 
                                  filterMatchMode="contains"  filterStyle="display:none; visibility:hidden;">
                            <h:outputText value="#{vIngBuscar.ord_com}" />
                        </p:column>
                        <p:column style="width:30px" headerText="Factura" filterBy="#{vIngBuscar.doc_tra}" 
                                  filterMatchMode="contains"  filterStyle="display:none; visibility:hidden;">
                            <h:outputText value="#{vIngBuscar.doc_tra}" />
                        </p:column>


                    </p:dataTable>
                </p:panel> 
            </h:form>
        </p:dialog>

        <p:dialog  id="dlgEditFecVen" widgetVar="wEditFecVen" modal="true" 
                   width="550" height="160" closable="false" resizable="false" 
                   header="Editar Fecha de Vencimiento" rendered="true" 
                   dynamic="true" visible="false"
                   >
            <h:form id="frmEditFecVen">
                <p:growl id="msgEditFecVen" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{invAlmacenProductos.guardareditfechaven()}"
                                         update=":frmEditFecVen"
                                         icon="ui-icon-disk"
                                         disabled="#{manSeguridad.disableOpt('botonGuardarInvProd')}" 
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>

                    </f:facet>
                    <f:facet name="right">
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wEditFecVen').hide()"
                                         actionListener="#{invAlmacenProductos.cerrareditfechaven()}"
                                         update=":frmEditFecVen"
                                         icon="ui-icon-close"
                                         />


                    </f:facet>
                </p:toolbar>
                <p:panel>
                    <div style=" background: #ebfcfc;">
                        <h:panelGrid columns="2" cellpadding="5" >
                            <h:outputText value="Artículo" style="font-weight:bold;"/>
                            <p:inputText value="#{invAlmacenProductos.editfecvennomart}" size="60" readonly="true"/>
                            <h:outputText value="Lote" style="font-weight:bold;"/>
                            <p:inputText value="#{invAlmacenProductos.det_lot}" size="60" readonly="true"/>
                            <h:outputText value="Fec.Vencimiento" style="font-weight:bold;"/>
                            <p:calendar  value="#{invAlmacenProductos.datefecvenedit}"
                                         pattern="dd/MM/yyyy" 
                                         locale="es" 
                                         readonlyInput="true" 
                                         showOn="button" 
                                         size="16"
                                         style="width: 10px"
                                         navigator="true"
                                         >
                            </p:calendar> 
                        </h:panelGrid>
                    </div>
                </p:panel>
            </h:form>
        </p:dialog>

        <p:dialog  id="dlgAnularInvArt" widgetVar="wAnularInvArt" modal="true" 
                   width="400" height="260" closable="false" resizable="false" 
                   header="Anulación de Documentos" rendered="true" 
                   dynamic="true" visible="false" 
                   >
            <h:form id="frmAnularInvArt"> 
                <p:growl id="msgObsAnuInvArt" showDetail="true" life="8500"/>
                <p:panel>
                    <h:panelGrid columns="1" cellpadding="5">
                        <h:outputText value="Operación de Retorno" style="font-weight:bold;"/>
                        <p:selectOneMenu value="#{invAlmacenProductos.anu_tip_mov}" 
                                         style="width:300px;text-align:right;"
                                         autoWidth="false"
                                         filter="true"
                                         filterMatchMode="contains"
                                         >  
                            <f:selectItem itemLabel="Seleccione uno" itemValue="0" /> 
                            <f:selectItems value="#{invAlmacenProductos.movimientos}" var="somanuvar"
                                           itemLabel="#{somanuvar.nom_mov}" itemValue="#{somanuvar.id_mov}"/>
                        </p:selectOneMenu>
                        <h:outputText value="Observaciones de Anulación" />
                        <p:inputTextarea rows="6" maxlength="410" cols="45" value="#{invAlmacenProductos.obs_anu}"/>
                    </h:panelGrid>
                </p:panel>
                <br></br>
                <div align="center">
                    <h:panelGrid columns="2" cellpadding="5">
                        <p:commandButton value="Anular" style="width: 100px;"
                                         icon="fa fa-ban"
                                         actionListener="#{invAlmacenProductos.anular()}"
                                         update=":frmAnularInvArt"
                                         />
                        <p:commandButton value="Cerrar" style="width: 100px;"
                                         icon="fa fa-times"
                                         onclick="PF('wAnularInvArt').hide()"
                                         actionListener="#{invAlmacenProductos.cerraranular()}"
                                         update=":frmInventarioPro"
                                         />

                    </h:panelGrid>
                </div>
            </h:form>
        </p:dialog>

        <p:dialog  id="dlgTrasladoInvArt" widgetVar="wTrasladoInvArt" modal="true" 
                   width="400" height="200" closable="false" resizable="false" 
                   header="Traslado de Productos" rendered="true" 
                   dynamic="true" visible="false" 
                   >
            <h:form id="frmTrasladoInvArt"> 
                <p:growl id="msgTrasladoInvArt" showDetail="true" life="8500"/>
                <p:panel>
                    <h:panelGrid columns="1" cellpadding="5">
                        <h:outputText value="Operación de Traslado" style="font-weight:bold;"/>
                        <p:selectOneMenu value="#{invAlmacenProductos.tra_tip_mov}" 
                                         style="width:300px;text-align:right;"
                                         autoWidth="false"
                                         filter="true"
                                         filterMatchMode="contains"
                                         >  
                            <f:selectItem itemLabel="Seleccione uno" itemValue="0" /> 
                            <f:selectItems value="#{invAlmacenProductos.movimientos}" var="somtrasvar"
                                           itemLabel="#{somtrasvar.nom_mov}" itemValue="#{somtrasvar.id_mov}"/>
                        </p:selectOneMenu>
                        <h:outputText value="Bodega Destino" style="font-weight:bold;"/>
                        <p:selectOneMenu value="#{invAlmacenProductos.tra_cod_bod}" 
                                         style="width:300px;text-align:right;"
                                         autoWidth="false"
                                         filter="true"
                                         filterMatchMode="contains"
                                         >  
                            <f:selectItem itemLabel="Seleccione una" itemValue="0" /> 
                            <f:selectItems value="#{invAlmacenProductos.bodegas}" var="somtrasbodvar"
                                           itemLabel="#{somtrasbodvar.nom_bod}" itemValue="#{somtrasbodvar.id_bod}"/>
                        </p:selectOneMenu>
                    </h:panelGrid>
                </p:panel>
                <br></br>
                <div align="center">
                    <h:panelGrid columns="2" cellpadding="5">
                        <p:commandButton value="Trasladar" style="width: 100px;"
                                         icon="fa fa-exchange"
                                         actionListener="#{invAlmacenProductos.trasladar()}"
                                         update=":frmTrasladoInvArt"
                                         />
                        <p:commandButton value="Cerrar" style="width: 100px;"
                                         icon="fa fa-times"
                                         onclick="PF('wTrasladoInvArt').hide()"
                                         actionListener="#{invAlmacenProductos.cerrartraslado()}"
                                         update=":frmInventarioPro"
                                         />

                    </h:panelGrid>
                </div>
            </h:form>
        </p:dialog>

        <p:dialog  id="dlgCargarVencidos" widgetVar="wCargarVencidos" modal="true" 
                   width="400" height="150" closable="false" resizable="false" 
                   header="Cargar Producto Vencido" rendered="true" 
                   dynamic="true" visible="false" 
                   >
            <h:form id="frmCargarVencidos"> 
                <p:growl id="msgCargarVencidos" showDetail="true" life="8500"/>
                <p:panel>
                    <h:panelGrid columns="1" cellpadding="5">
                        <h:outputText value="Bodega Origen" style="font-weight:bold;"/>
                        <p:selectOneMenu value="#{invAlmacenProductos.ven_cod_bod}" 
                                         style="width:300px;text-align:right;"
                                         autoWidth="false"
                                         filter="true"
                                         filterMatchMode="contains"
                                         >  
                            <f:selectItem itemLabel="Seleccione una" itemValue="0" /> 
                            <f:selectItems value="#{invAlmacenProductos.bodegas}" var="somcarvenbodvar"
                                           itemLabel="#{somcarvenbodvar.nom_bod}" itemValue="#{somcarvenbodvar.id_bod}"/>
                        </p:selectOneMenu>
                    </h:panelGrid>
                </p:panel>
                <br></br>
                <div align="center">
                    <h:panelGrid columns="2" cellpadding="5">
                        <p:commandButton value="Cargar" style="width: 100px;"
                                         icon="fa fa-bug"
                                         actionListener="#{invAlmacenProductos.llenarVencidos()}"
                                         update=":frmCargarVencidos"
                                         />
                        <p:commandButton value="Cerrar" style="width: 100px;"
                                         icon="fa fa-times"
                                         onclick="PF('wCargarVencidos').hide()"
                                         actionListener="#{invAlmacenProductos.cerrarvencidos()}"
                                         update=":frmInventarioPro"
                                         />

                    </h:panelGrid>
                </div>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ********************* Pantalla Existencias Lotes ***********************
        *********************************************************************-->

        <p:dialog  id="dlgExistenciasLot" widgetVar="wExistenciasLot" modal="true" minimizable="false"
                   width="1100" height="460" closable="false" resizable="false" 
                   header="Consulta de Existencias" rendered="true" 
                   dynamic="true" visible="false" 
                   >

            <h:form id="frmExistenciasLot"> 
                <p:toolbar>

                    <f:facet name="right">
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wExistenciasLot').hide()"
                                         icon="ui-icon-close"
                                         actionListener="#{invAlmacenProductos.cerrarventanaexistencias()}"
                                         update=":frmExistenciasLot"
                                         />
                    </f:facet>
                </p:toolbar>
                <p:panel>
                    <h:panelGrid columns="2" cellpadding="5">
                        <h:outputText value="País" style="font-weight:bold;"/>
                        <h:outputText value="Bodega" style="font-weight:bold;"/>

                        <p:selectOneMenu value="#{invAlmacenProductos.paibus}" 
                                         style=" width: 180px;"
                                         disabled="#{manSeguridad.disableOpt('comboPaisExiProd')}" 
                                         autoWidth="false"
                                         >
                            <p:ajax event="change" listener="#{invAlmacenProductos.llenarBodegasbus()}" 
                                    update="sombodprobus" />
                            <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                            <f:selectItems value="#{invAlmacenProductos.paisesbus}" var="lstpaiprobus"
                                           itemLabel="#{lstpaiprobus.nom_pai}" itemValue="#{lstpaiprobus.cod_pai}"/> 
                        </p:selectOneMenu>
                        <p:selectOneMenu id="sombodprobus" 
                                         value="#{invAlmacenProductos.bodbus}" 
                                         style=" width: 180px;"
                                         autoWidth="false"
                                         >
                            <f:selectItem itemLabel="Seleccione Una" itemValue="0"/>
                            <f:selectItems value="#{invAlmacenProductos.bodegasbus}" var="lstbodprobus"
                                           itemLabel="#{lstbodprobus.nom_bod}" itemValue="#{lstbodprobus.id_bod}"/> 
                        </p:selectOneMenu>

                    </h:panelGrid>
                    <h:panelGrid columns="4" cellpadding="5">
                        <h:outputText value="Producto" style="font-weight:bold;"/>
                        <h:outputText value="Lote" style="font-weight:bold;"/>
                        <h:outputText value="" style="font-weight:bold;"/>
                        <h:outputText value="" style="font-weight:bold;"/>
                        <p:selectOneMenu value="#{invAlmacenProductos.probus}" 
                                         style=" width: 610px;"
                                         filter="true" 
                                         filterMatchMode="contains"
                                         autoWidth="false"
                                         >
                            <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                            <f:selectItems value="#{invAlmacenProductos.articulos}" var="lstpiepro"
                                           itemLabel="#{lstpiepro.cod_art} -- #{lstpiepro.det_nom} -- #{lstpiepro.nomemb}" itemValue="#{lstpiepro.id_art}"/> 
                        </p:selectOneMenu>

                        <p:selectBooleanCheckbox  value="#{invAlmacenProductos.chklot}">
                            <p:ajax event="change" listener="#{invAlmacenProductos.onchklotchange()}" update="txtlotbus"/>
                        </p:selectBooleanCheckbox>
                        <p:inputText id="txtlotbus" maxlength="12" size="15" value="#{invAlmacenProductos.lotbus}" disabled="#{!invAlmacenProductos.chklot}"/>

                        <p:commandButton title="Consultar" 
                                         icon="ui-icon-search" 
                                         style=" width: 30px;" 
                                         actionListener="#{invAlmacenProductos.consultarexistencias()}"
                                         update=":frmExistenciasLot"
                                         />
                    </h:panelGrid>

                    <p:dataTable id="dtExistenciasLot" var="vExisLot" widgetVar="wDTExistenciasLot"
                                 value="#{invAlmacenProductos.lotesvencimiento}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{invAlmacenProductos.catlotesvencimiento}" 
                                 rowKey="#{vExisLot.cod_bod},#{vExisLot.cod_ubi},#{vExisLot.cod_art},#{vExisLot.cod_emb},#{vExisLot.num_lot},#{vExisLot.fec_ven}"
                                 editable="false" 
                                 style="width:1060px;"
                                 scrollable="true"
                                 scrollHeight="190"
                                 >

                        <f:facet name="header">
                            <p:outputPanel>
                                <h:panelGrid columns="4" cellpadding="1" styleClass="noBorders">

                                    <h:panelGrid columns="2" cellpadding="2">
                                        <h:commandLink>
                                            <p:graphicImage value="/resources/images/xls_download.png" width="28" title="Excel"/>
                                            <p:dataExporter type="xls" target="dtExistenciasLot" fileName="ExistenciasLotes" />
                                        </h:commandLink>
                                        <h:commandLink>
                                            <p:graphicImage value="/resources/images/pdf_download.png" width="28" title="PDF"/>
                                            <p:dataExporter type="pdf" target="dtExistenciasLot" fileName="ExistenciasLotes"/>
                                        </h:commandLink>
                                    </h:panelGrid>

                                    <h:outputText value="Filtrar:" />
                                    <p:inputText id="globalFilter" 
                                                 onkeyup="PF('wDTExistenciasLot').filter()" 
                                                 style="width:250px" 
                                                 placeholder="Expresión Filtro"
                                                 />
                                </h:panelGrid>
                            </p:outputPanel>
                        </f:facet>
                        <p:column style="width:20px" headerText="País" filterBy="#{vExisLot.nompai}" 
                                  filterMatchMode="contains"  filterStyle="display:none; visibility:hidden;" >
                            <h:outputText value="#{vExisLot.nompai}" />
                        </p:column>
                        <p:column style="width:30px" headerText="Bodega" filterBy="#{vExisLot.mombod}" 
                                  filterMatchMode="contains"  filterStyle="display:none; visibility:hidden;" >
                            <h:outputText value="#{vExisLot.mombod}" />
                        </p:column>

                        <p:column style="width:130px" headerText="Artículo" filterBy="#{vExisLot.nomart}" 
                                  filterMatchMode="contains"  filterStyle="display:none; visibility:hidden;" >
                            <h:outputText value="#{vExisLot.nomart}" />
                        </p:column>
                        <p:column style="width:50px" headerText="Uni.Med" filterBy="#{vExisLot.nomemb}" 
                                  filterMatchMode="contains"  filterStyle="display:none; visibility:hidden;" >
                            <h:outputText value="#{vExisLot.nomemb}" />
                        </p:column>
                        <p:column style="width:40px" headerText="Lote" filterBy="#{vExisLot.num_lot}" 
                                  filterMatchMode="contains"  filterStyle="display:none; visibility:hidden;" >
                            <h:outputText value="#{vExisLot.num_lot}" />
                        </p:column>
                        <p:column style="width:40px" headerText="Vencimiento" filterBy="#{vExisLot.fec_ven}" 
                                  filterMatchMode="contains"  filterStyle="display:none; visibility:hidden;" >
                            <h:outputText value="#{vExisLot.fec_ven}" />
                        </p:column>
                        <p:column style="width:25px;" headerText="Existencia" >
                            <h:outputText value="#{vExisLot.exi_act}" />
                        </p:column>

                    </p:dataTable>
                </p:panel> 
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ********************* Reporte Entradas y Salidas ***********************
        *********************************************************************-->

        <p:dialog  id="dlgKardexGen" widgetVar="wKardexGen" modal="true" 
                   width="540" height="290" closable="false" resizable="false" 
                   header="Entradas y Salidas" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmKardexGen"> 

                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Pantalla" style=" width: 80px;"
                                         actionListener="#{invRepKardexGen.ejecutarreporte(1, 1)}"
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PDF" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(1,2)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="XLS" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(1,3)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="DOC" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(1,4)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PPT" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(1,5)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="Cerrar" style=" width: 80px;" 
                                         onclick="PF('wKardexGen').hide()" 
                                         icon="ui-icon-close"
                                         ajax="true"
                                         />
                    </f:facet>
                </p:toolbar>

                <div align="left">
                    <h:panelGrid columns="2" cellpadding="5" style="margin-bottom:5px">
                        <p:selectOneRadio id="tipkardex" value="#{invRepKardexGen.tipkardex}">
                            <f:selectItem itemLabel="General" itemValue="general" />
                            <f:selectItem itemLabel="Lote" itemValue="lote" />
                            <f:selectItem itemLabel="Documento" itemValue="documento" />
                            <f:selectItem itemLabel="Cliente" itemValue="cliente" />
                            <f:selectItem itemLabel="Proveedor" itemValue="proveedor" />
                            <p:ajax listener="#{invRepKardexGen.llenarFiltro()}" update=":frmKardexGen"/>
                        </p:selectOneRadio>


                    </h:panelGrid>
                </div> 

                <p:panel>
                    <p:focus for="txtfeciniKardex" />
                    <div style=" background-color: #dfecf1; ">
                        <h:panelGrid columns="2" cellpadding="5">
                            <p:outputLabel value="Fecha Inicio" style="font-weight: bold;"/>
                            <p:outputLabel value="Fecha Fin" style="font-weight: bold;"/>               
                            <p:calendar  id="txtfeciniKardex"
                                         pattern="dd/MM/yyyy" locale="es" 
                                         readonlyInput="true" 
                                         showOn="button" size="16"
                                         value="#{invRepKardexGen.dfechaini}"
                                         navigator="true"
                                         >
                                <p:ajax event="dateSelect" listener="#{invRepKardexGen.dateiniSelectedAction}" />
                            </p:calendar> 
                            <p:calendar  pattern="dd/MM/yyyy" locale="es" 
                                         readonlyInput="true" 
                                         showOn="button" size="16"
                                         value="#{invRepKardexGen.dfechafin}"
                                         navigator="true"
                                         >
                                <p:ajax event="dateSelect" listener="#{invRepKardexGen.datefinSelectedAction}" />
                            </p:calendar> 
                        </h:panelGrid>
                        <h:panelGrid columns="1" cellpadding="5">
                            <p:outputLabel value="Filtro" style="font-weight: bold;"/>
                            <p:selectOneMenu value="#{invRepKardexGen.mcodfiltro}" 
                                             style=" width: 450px;"
                                             filter="true" 
                                             filterMatchMode="contains"
                                             autoWidth="false"
                                             editable="#{invRepKardexGen.enabledfiltro}"
                                             >
                                <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                <f:selectItems value="#{invRepKardexGen.filtro}" var="lstartkar"
                                               itemLabel="#{lstartkar.descripcion}" itemValue="#{lstartkar.codigo}"/> 
                            </p:selectOneMenu>
                            <p:outputLabel value="País" style="font-weight: bold;"/>
                            <p:selectOneMenu style=" width: 180px;" 
                                             value="#{invRepKardexGen.cod_pai}"
                                             disabled="#{manSeguridad.disableOpt('comboPaisKardexGen')}" 
                                             autoWidth="false"
                                             >
                                <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                <f:selectItems value="#{invRepKardexGen.paises}" var="pairepkargen"
                                               itemLabel="#{pairepkargen.nom_pai}" itemValue="#{pairepkargen.cod_pai}"/> 
                            </p:selectOneMenu>
                        </h:panelGrid>
                    </div>
                </p:panel>


            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ************************** Reporte Kardex ******************************
        *********************************************************************-->

        <p:dialog  id="dlgKardex" widgetVar="wKardex" modal="true" 
                   width="540" height="290" closable="false" resizable="false" 
                   header="Kardex de Productos" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmKardex"> 

                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Pantalla" style=" width: 80px;"
                                         actionListener="#{invRepKardexGen.ejecutarreporte(0, 1)}"
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PDF" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(0,2)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="XLS" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(0,3)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="DOC" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(0,4)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PPT" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(0,5)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="Cerrar" style=" width: 80px;" 
                                         onclick="PF('wKardex').hide()" 
                                         icon="ui-icon-close"
                                         ajax="true"
                                         />
                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color: #dfecf1; ">
                        <h:panelGrid columns="2" cellpadding="5">
                            <p:outputLabel value="Fecha Incio" style="font-weight: bold;"/>  
                            <p:outputLabel value="Fecha Fin" style="font-weight: bold;"/> 
                            <p:calendar  id="txtfeciniKardex"
                                         pattern="dd/MM/yyyy" locale="es" 
                                         readonlyInput="true" 
                                         showOn="button" size="16"
                                         value="#{invRepKardexGen.dfechaini}"
                                         navigator="true"
                                         >
                                <p:ajax event="dateSelect" listener="#{invRepKardexGen.dateiniSelectedAction}" />
                            </p:calendar> 

                            <p:calendar  pattern="dd/MM/yyyy" locale="es" 
                                         readonlyInput="true" 
                                         showOn="button" size="16"
                                         value="#{invRepKardexGen.dfechafin}"
                                         navigator="true"
                                         >
                                <p:ajax event="dateSelect" listener="#{invRepKardexGen.datefinSelectedAction}" />
                            </p:calendar> 
                        </h:panelGrid>
                        <h:panelGrid columns="1" cellpadding="5">
                            <p:outputLabel value="Producto" style="font-weight: bold;"/>
                            <p:selectOneMenu value="#{invRepKardexGen.mcodfiltro}" 
                                             style=" width: 450px;"
                                             filter="true" 
                                             filterMatchMode="contains"
                                             autoWidth="false"
                                             >
                                <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                <f:selectItems value="#{invRepKardexGen.filtro}" var="somartkar"
                                               itemLabel="#{somartkar.descripcion}" itemValue="#{somartkar.codigo}"/> 
                            </p:selectOneMenu>

                            <p:outputLabel value="País" style="font-weight: bold;"/>
                            <p:selectOneMenu style=" width: 180px;" 
                                             value="#{invRepKardexGen.cod_pai}"
                                             disabled="#{manSeguridad.disableOpt('comboPaisKardexGen')}" 
                                             autoWidth="false"
                                             >
                                <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                <f:selectItems value="#{invRepKardexGen.paises}" var="sompaikar"
                                               itemLabel="#{sompaikar.nom_pai}" itemValue="#{sompaikar.cod_pai}"/> 
                            </p:selectOneMenu>
                        </h:panelGrid>
                    </div>
                </p:panel>


            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ***************** Reporte Saldos por Período ***************************
        *********************************************************************-->

        <p:dialog  id="dlgRepSaldosProd" widgetVar="wRepSaldosProd" modal="true" 
                   width="540" height="130" closable="false" resizable="false" 
                   header="Informe Saldos por Período" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmRepSaldosProd"> 

                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Pantalla" style=" width: 80px;"
                                         actionListener="#{invReporteSaldos.ejecutarreporte(1)}"
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PDF" style=" width: 80px;" 
                                         actionListener="#{invReporteSaldos.ejecutarreporte(2)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="XLS" style=" width: 80px;" 
                                         actionListener="#{invReporteSaldos.ejecutarreporte(3)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="DOC" style=" width: 80px;" 
                                         actionListener="#{invReporteSaldos.ejecutarreporte(4)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PPT" style=" width: 80px;" 
                                         actionListener="#{invReporteSaldos.ejecutarreporte(5)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="Cerrar" style=" width: 80px;" 
                                         onclick="PF('wRepSaldosProd').hide()" 
                                         icon="ui-icon-close"
                                         ajax="true"
                                         />
                    </f:facet>
                </p:toolbar>
                <p:panel>
                    <div align="center" style=" background-color: #dfecf1; ">
                        <h:panelGrid columns="2" cellpadding="5">
                            <p:outputLabel value="Fecha Inicio" style="font-weight: bold;"/>
                            <p:outputLabel value="Fecha Fin" style="font-weight: bold;"/>               
                            <p:calendar  pattern="dd/MM/yyyy" locale="es" 
                                         readonlyInput="true" 
                                         showOn="button" size="16"
                                         value="#{invReporteSaldos.dfechaini}"
                                         navigator="true"
                                         >
                                <p:ajax event="dateSelect" listener="#{invReporteSaldos.dateiniSelectedAction}" />
                            </p:calendar> 
                            <p:calendar  pattern="dd/MM/yyyy" locale="es" 
                                         readonlyInput="true" 
                                         showOn="button" size="16"
                                         value="#{invReporteSaldos.dfechafin}"
                                         navigator="true"
                                         >
                                <p:ajax event="dateSelect" listener="#{invReporteSaldos.datefinSelectedAction}" />
                            </p:calendar> 
                        </h:panelGrid>

                    </div>
                </p:panel>


            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ****************** Reporte Costos por Tipo Documento *******************
        *********************************************************************-->

        <p:dialog  id="dlgRepTipoDoc" widgetVar="wRepTipoDoc" modal="true" 
                   width="540" height="290" closable="false" resizable="false" 
                   header="Informe por Tipo de Documento" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmRepTipoDoc"> 

                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Pantalla" style=" width: 80px;"
                                         actionListener="#{invRepKardexGen.ejecutarreporte(3,1)}"
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PDF" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(3,2)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="XLS" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(3,3)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="DOC" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(3,4)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PPT" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(3,5)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="Cerrar" style=" width: 80px;" 
                                         onclick="PF('wRepTipoDoc').hide()" 
                                         icon="ui-icon-close"
                                         ajax="true"
                                         />
                    </f:facet>
                </p:toolbar>
                <p:panel>
                    <p:focus for="txtfeciniTipDoc" />
                    <div style=" background-color: #dfecf1; ">
                        <h:panelGrid columns="2" cellpadding="5">
                            <p:outputLabel value="Fecha Inicio" style="font-weight: bold;"/>
                            <p:outputLabel value="Fecha Fin" style="font-weight: bold;"/>               
                            <p:calendar  id="txtfeciniTipDoc"
                                         pattern="dd/MM/yyyy" locale="es" 
                                         readonlyInput="true" 
                                         showOn="button" size="16"
                                         value="#{invRepKardexGen.dfechaini}"
                                         navigator="true"
                                         >
                                <p:ajax event="dateSelect" listener="#{invRepKardexGen.dateiniSelectedAction}" />
                            </p:calendar> 
                            <p:calendar  pattern="dd/MM/yyyy" locale="es" 
                                         readonlyInput="true" 
                                         showOn="button" size="16"
                                         value="#{invRepKardexGen.dfechafin}"
                                         navigator="true"
                                         >
                                <p:ajax event="dateSelect" listener="#{invRepKardexGen.datefinSelectedAction}" />
                            </p:calendar> 
                        </h:panelGrid>
                        <h:panelGrid columns="1" cellpadding="5">
                            <p:outputLabel value="Tipo Documento" style="font-weight: bold;"/>
                            <p:selectOneMenu value="#{invRepKardexGen.mcodfiltro}" 
                                             style=" width: 450px;"
                                             filter="true" 
                                             filterMatchMode="contains"
                                             autoWidth="false"
                                             >
                                <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                <f:selectItems value="#{invRepKardexGen.tipodoc}" var="somtipdockar"
                                               itemLabel="#{somtipdockar.descripcion}" itemValue="#{somtipdockar.codigo}"/> 
                            </p:selectOneMenu>
                            <p:outputLabel value="País" style="font-weight: bold;"/>
                            <p:selectOneMenu style=" width: 180px;" 
                                             value="#{invRepKardexGen.cod_pai}"
                                             disabled="#{manSeguridad.disableOpt('comboPaisKardexGen')}" 
                                             autoWidth="false"
                                             >
                                <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                <f:selectItems value="#{invRepKardexGen.paises}" var="sompaitipdockar"
                                               itemLabel="#{sompaitipdockar.nom_pai}" itemValue="#{sompaitipdockar.cod_pai}"/> 
                            </p:selectOneMenu>
                        </h:panelGrid>
                    </div>
                </p:panel>


            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ****************** Reporte Entradas y Salidas **************************
        *********************************************************************-->

        <p:dialog  id="dlgEntSalPro" widgetVar="wEntSalPro" modal="true" 
                   width="540" height="290" closable="false" resizable="false" 
                   header="Entradas y Salidas de Productos" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmEntSalPro"> 

                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Pantalla" style=" width: 80px;"
                                         actionListener="#{invRepKardexGen.ejecutarreporte(6, 1)}"
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PDF" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(6,2)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="XLS" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(6,3)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="DOC" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(6,4)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PPT" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(6,5)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="Cerrar" style=" width: 80px;" 
                                         onclick="PF('wEntSalPro').hide()" 
                                         icon="ui-icon-close"
                                         ajax="true"
                                         />
                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color: #dfecf1; ">
                        <h:panelGrid columns="2" cellpadding="5">
                            <p:outputLabel value="Fecha Incio" style="font-weight: bold;"/>  
                            <p:outputLabel value="Fecha Fin" style="font-weight: bold;"/> 
                            <p:calendar  id="txtfeciniKardex"
                                         pattern="dd/MM/yyyy" locale="es" 
                                         readonlyInput="true" 
                                         showOn="button" size="16"
                                         value="#{invRepKardexGen.dfechaini}"
                                         navigator="true"
                                         >
                                <p:ajax event="dateSelect" listener="#{invRepKardexGen.dateiniSelectedAction}" />
                            </p:calendar> 

                            <p:calendar  pattern="dd/MM/yyyy" locale="es" 
                                         readonlyInput="true" 
                                         showOn="button" size="16"
                                         value="#{invRepKardexGen.dfechafin}"
                                         navigator="true"
                                         >
                                <p:ajax event="dateSelect" listener="#{invRepKardexGen.datefinSelectedAction}" />
                            </p:calendar> 
                        </h:panelGrid>
                        <h:panelGrid columns="1" cellpadding="5">
                            <p:outputLabel value="Producto" style="font-weight: bold;"/>
                            <p:selectOneMenu value="#{invRepKardexGen.mcodfiltro}" 
                                             style=" width: 450px;"
                                             filter="true" 
                                             filterMatchMode="contains"
                                             autoWidth="false"
                                             >
                                <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                <f:selectItems value="#{invRepKardexGen.filtro}" var="somartentsalp"
                                               itemLabel="#{somartentsalp.descripcion}" itemValue="#{somartentsalp.codigo}"/> 
                            </p:selectOneMenu>

                            <p:outputLabel value="País" style="font-weight: bold;"/>
                            <p:selectOneMenu style=" width: 180px;" 
                                             value="#{invRepKardexGen.cod_pai}"
                                             disabled="#{manSeguridad.disableOpt('comboPaisKardexGen')}" 
                                             autoWidth="false"
                                             >
                                <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                <f:selectItems value="#{invRepKardexGen.paises}" var="sompaientsalp"
                                               itemLabel="#{sompaientsalp.nom_pai}" itemValue="#{sompaientsalp.cod_pai}"/> 
                            </p:selectOneMenu>
                        </h:panelGrid>
                    </div>
                </p:panel>


            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        *************** Reporte Movimientos por Tipo Documento *****************
        *********************************************************************-->

        <p:dialog  id="dlgRepTipoDocSinCosto" widgetVar="wRepTipoDocSinCosto" modal="true" 
                   width="540" height="290" closable="false" resizable="false" 
                   header="Movimientos por Tipo de Documento" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmRepTipoDocSinCosto"> 

                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Pantalla" style=" width: 80px;"
                                         actionListener="#{invRepKardexGen.ejecutarreporte(7,1)}"
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PDF" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(7,2)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="XLS" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(7,3)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="DOC" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(7,4)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PPT" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(7,5)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="Cerrar" style=" width: 80px;" 
                                         onclick="PF('wRepTipoDocSinCosto').hide()" 
                                         icon="ui-icon-close"
                                         ajax="true"
                                         />
                    </f:facet>
                </p:toolbar>
                <p:panel>
                    <p:focus for="txtfeciniTipDoc" />
                    <div style=" background-color: #dfecf1; ">
                        <h:panelGrid columns="2" cellpadding="5">
                            <p:outputLabel value="Fecha Inicio" style="font-weight: bold;"/>
                            <p:outputLabel value="Fecha Fin" style="font-weight: bold;"/>               
                            <p:calendar  id="txtfeciniTipDoc"
                                         pattern="dd/MM/yyyy" locale="es" 
                                         readonlyInput="true" 
                                         showOn="button" size="16"
                                         value="#{invRepKardexGen.dfechaini}"
                                         navigator="true"
                                         >
                                <p:ajax event="dateSelect" listener="#{invRepKardexGen.dateiniSelectedAction}" />
                            </p:calendar> 
                            <p:calendar  pattern="dd/MM/yyyy" locale="es" 
                                         readonlyInput="true" 
                                         showOn="button" size="16"
                                         value="#{invRepKardexGen.dfechafin}"
                                         navigator="true"
                                         >
                                <p:ajax event="dateSelect" listener="#{invRepKardexGen.datefinSelectedAction}" />
                            </p:calendar> 
                        </h:panelGrid>
                        <h:panelGrid columns="1" cellpadding="5">
                            <p:outputLabel value="Tipo Documento" style="font-weight: bold;"/>
                            <p:selectOneMenu value="#{invRepKardexGen.mcodfiltro}" 
                                             style=" width: 450px;"
                                             filter="true" 
                                             filterMatchMode="contains"
                                             autoWidth="false"
                                             >
                                <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                <f:selectItems value="#{invRepKardexGen.tipodoc}" var="somtipdocsincos"
                                               itemLabel="#{somtipdocsincos.descripcion}" itemValue="#{somtipdocsincos.codigo}"/> 
                            </p:selectOneMenu>
                            <p:outputLabel value="País" style="font-weight: bold;"/>
                            <p:selectOneMenu style=" width: 180px;" 
                                             value="#{invRepKardexGen.cod_pai}"
                                             disabled="#{manSeguridad.disableOpt('comboPaisKardexGen')}" 
                                             autoWidth="false"
                                             >
                                <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                <f:selectItems value="#{invRepKardexGen.paises}" var="sompaitipdocsincos"
                                               itemLabel="#{sompaitipdocsincos.nom_pai}" itemValue="#{sompaitipdocsincos.cod_pai}"/> 
                            </p:selectOneMenu>
                        </h:panelGrid>
                    </div>
                </p:panel>


            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ******************** Reporte Movimientos por Cliente *******************
        *********************************************************************-->

        <p:dialog  id="dlgRepMovPorCli" widgetVar="wRepMovPorCli" modal="true" 
                   width="540" height="290" closable="false" resizable="false" 
                   header="Movimientos por Cliente" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmRepMovPorCli"> 

                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Pantalla" style=" width: 80px;"
                                         actionListener="#{invRepKardexGen.ejecutarreporte(8,1)}"
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PDF" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(8,2)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="XLS" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(8,3)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="DOC" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(8,4)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PPT" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(8,5)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="Cerrar" style=" width: 80px;" 
                                         onclick="PF('wRepMovPorCli').hide()" 
                                         icon="ui-icon-close"
                                         ajax="true"
                                         />
                    </f:facet>
                </p:toolbar>
                <p:panel>
                    <p:focus for="txtfeciniTipDoc" />
                    <div style=" background-color: #dfecf1; ">
                        <h:panelGrid columns="2" cellpadding="5">
                            <p:outputLabel value="Fecha Inicio" style="font-weight: bold;"/>
                            <p:outputLabel value="Fecha Fin" style="font-weight: bold;"/>               
                            <p:calendar  id="txtfeciniTipDoc"
                                         pattern="dd/MM/yyyy" locale="es" 
                                         readonlyInput="true" 
                                         showOn="button" size="16"
                                         value="#{invRepKardexGen.dfechaini}"
                                         navigator="true"
                                         >
                                <p:ajax event="dateSelect" listener="#{invRepKardexGen.dateiniSelectedAction}" />
                            </p:calendar> 
                            <p:calendar  pattern="dd/MM/yyyy" locale="es" 
                                         readonlyInput="true" 
                                         showOn="button" size="16"
                                         value="#{invRepKardexGen.dfechafin}"
                                         navigator="true"
                                         >
                                <p:ajax event="dateSelect" listener="#{invRepKardexGen.datefinSelectedAction}" />
                            </p:calendar> 
                        </h:panelGrid>
                        <h:panelGrid columns="1" cellpadding="5">
                            <p:outputLabel value="Cliente" style="font-weight: bold;"/>
                            <p:selectOneMenu value="#{invRepKardexGen.mcodfiltro}" 
                                             style=" width: 450px;"
                                             filter="true" 
                                             filterMatchMode="contains"
                                             autoWidth="false"
                                             >
                                <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                <f:selectItems value="#{invRepKardexGen.clientes}" var="somclimovporcli"
                                               itemLabel="#{somclimovporcli.descripcion}" itemValue="#{somclimovporcli.codigo}"/> 
                            </p:selectOneMenu>
                            <p:outputLabel value="País" style="font-weight: bold;"/>
                            <p:selectOneMenu style=" width: 180px;" 
                                             value="#{invRepKardexGen.cod_pai}"
                                             disabled="#{manSeguridad.disableOpt('comboPaisKardexGen')}" 
                                             autoWidth="false"
                                             >
                                <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                <f:selectItems value="#{invRepKardexGen.paises}" var="sompaimovporcli"
                                               itemLabel="#{sompaimovporcli.nom_pai}" itemValue="#{sompaimovporcli.cod_pai}"/> 
                            </p:selectOneMenu>
                        </h:panelGrid>
                    </div>
                </p:panel>


            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ********************* Reporte Próximo a vencer *************************
        *********************************************************************-->

        <p:dialog  id="dlgProxVen" widgetVar="wProxVen" modal="true" 
                   width="540" height="310" closable="false" resizable="false" 
                   header="Productos próximos a vencer" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmProxVen"> 

                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Pantalla" style=" width: 80px;"
                                         actionListener="#{invRepKardexGen.ejecutarreporte(4,1)}"
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PDF" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(4,2)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="XLS" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(4,3)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="DOC" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(4,4)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PPT" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(4,5)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="Cerrar" style=" width: 80px;" 
                                         onclick="PF('wProxVen').hide()" 
                                         icon="ui-icon-close"
                                         ajax="true"
                                         />
                    </f:facet>
                </p:toolbar>
                <p:panel>
                    <p:focus for="txtfeciniProxVen" />
                    <div style=" background-color: #dfecf1; ">
                        <h:panelGrid columns="1" cellpadding="5">
                            <p:outputLabel value="Fecha Actual" style="font-weight: bold;"/>
                            <p:calendar  id="txtfeciniProxVen"
                                         pattern="dd/MM/yyyy" locale="es" 
                                         readonlyInput="true" 
                                         showOn="button" size="16"
                                         value="#{invRepKardexGen.dfechaini}"
                                         navigator="true"
                                         >
                                <p:ajax event="dateSelect" listener="#{invRepKardexGen.dateiniSelectedAction}" />
                            </p:calendar>
                            <p:outputLabel value="Intervalo de Días" style="font-weight: bold;"/>
                            <p:inputNumber value="#{invRepKardexGen.diasven}" decimalPlaces="0" minValue="0" size ="16"/>
                            <p:outputLabel value="Bodega" style="font-weight: bold;"/>
                            <p:selectOneMenu value="#{invRepKardexGen.cod_bod}" 
                                             style=" width: 400px;"
                                             filter="true" 
                                             filterMatchMode="contains"
                                             autoWidth="false"
                                             >
                                <f:selectItem itemLabel="Seleccione Una" itemValue="0"/>
                                <f:selectItems value="#{invRepKardexGen.bodegas}" var="sombodproven"
                                               itemLabel="#{sombodproven.descripcion}" itemValue="#{sombodproven.codigo}"/> 
                            </p:selectOneMenu>
                            <p:outputLabel value="País" style="font-weight: bold;"/>
                            <p:selectOneMenu style=" width: 180px;" 
                                             value="#{invRepKardexGen.cod_pai}"
                                             disabled="#{manSeguridad.disableOpt('comboPaisKardexGen')}" 
                                             autoWidth="false"
                                             >
                                <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                <f:selectItems value="#{invRepKardexGen.paises}" var="sompaiproxven"
                                               itemLabel="#{sompaiproxven.nom_pai}" itemValue="#{sompaiproxven.cod_pai}"/> 
                            </p:selectOneMenu>
                        </h:panelGrid>
                    </div>
                </p:panel>


            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ****************** Reporte Existencias por Fecha ***********************
        *********************************************************************-->

        <p:dialog  id="dlgExisPorFecha" widgetVar="wExisPorFecha" modal="true" 
                   width="540" height="320" closable="false" resizable="false" 
                   header="Existencias por Fecha" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmExisPorFecha"> 

                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Pantalla" style=" width: 80px;"
                                         actionListener="#{invRepKardexGen.ejecutarreporte(5, 1)}"
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PDF" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(5,2)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="XLS" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(5,3)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="DOC" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(5,4)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PPT" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(5,5)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="Cerrar" style=" width: 80px;" 
                                         onclick="PF('wExisPorFecha').hide()" 
                                         icon="ui-icon-close"
                                         ajax="true"
                                         />
                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color: #dfecf1; ">
                        <h:panelGrid columns="1" cellpadding="5">
                            <p:outputLabel value="Fecha" style="font-weight: bold;"/>
                            <p:calendar  id="txtfeciniKardex"
                                         pattern="dd/MM/yyyy" locale="es" 
                                         readonlyInput="true" 
                                         showOn="button" size="16"
                                         value="#{invRepKardexGen.dfechaini}"
                                         navigator="true"
                                         >
                                <p:ajax event="dateSelect" listener="#{invRepKardexGen.dateiniSelectedAction}" />
                            </p:calendar> 
                            <p:outputLabel value="Marca" style="font-weight: bold;"/>
                            <p:selectOneMenu value="#{invRepKardexGen.cod_mar}" 
                                             style=" width: 450px;"
                                             filter="true" 
                                             filterMatchMode="contains"
                                             autoWidth="false"
                                             >
                                <f:selectItem itemLabel="Seleccione Una" itemValue="0"/>
                                <f:selectItems value="#{invRepKardexGen.marcas}" var="sommarrepexifec"
                                               itemLabel="#{sommarrepexifec.descripcion}" itemValue="#{sommarrepexifec.codigo}"/> 
                            </p:selectOneMenu>
                            <p:outputLabel value="Plataforma" style="font-weight: bold;"/>
                            <p:selectOneMenu style=" width: 450px;" 
                                             value="#{invRepKardexGen.cod_fam}"
                                             autoWidth="false"
                                             >
                                <f:selectItem itemLabel="Seleccione Una" itemValue="0"/>
                                <f:selectItems value="#{invRepKardexGen.familias}" var="somfamrepexifec"
                                               itemLabel="#{somfamrepexifec.descripcion}" itemValue="#{somfamrepexifec.codigo}"/> 
                            </p:selectOneMenu>
                            <p:outputLabel value="Producto" style="font-weight: bold;"/>
                            <p:selectOneMenu style=" width: 450px;" 
                                             value="#{invRepKardexGen.cod_art}"
                                             autoWidth="false"
                                             filter="true"
                                             filterMatchMode="contains"
                                             >
                                <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                <f:selectItems value="#{invRepKardexGen.articulos}" var="somartrepexifec"
                                               itemLabel="#{somartrepexifec.descripcion}" itemValue="#{somartrepexifec.codigo}"/> 
                            </p:selectOneMenu>
                        </h:panelGrid>
                    </div>
                </p:panel>


            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ****************** Reporte Consolidado de Productos ********************
        *********************************************************************-->

        <p:dialog  id="dlgConsolidadoProd" widgetVar="wConsolidadoProd" modal="true" 
                   width="690" height="320" closable="false" resizable="false" 
                   header="Consolidado por Producto" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmConsolidadoProd"> 

                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Pantalla" style=" width: 80px;"
                                         actionListener="#{invRepKardexGen.ejecutarreporte(9, 1)}"
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PDF" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(9,2)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="XLS" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(9,3)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="DOC" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(9,4)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PPT" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(9,5)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="CSV" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.CSVConsolidado()}" 
                                         ajax="true"
                                         />
                        <p:commandButton value="XLS ESP" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.XLSConsolidado()}" 
                                         ajax="true"
                                         />
                        <p:commandButton value="Cerrar" style=" width: 80px;" 
                                         onclick="PF('wConsolidadoProd').hide()" 
                                         icon="ui-icon-close"
                                         ajax="true"
                                         />
                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color: #dfecf1; ">
                        <h:panelGrid columns="1" cellpadding="5">
                            <p:outputLabel value="Fecha" style="font-weight: bold;"/>
                            <p:calendar  id="txtfeciniKardex"
                                         pattern="dd/MM/yyyy" locale="es" 
                                         readonlyInput="true" 
                                         showOn="button" size="16"
                                         value="#{invRepKardexGen.dfechaini}"
                                         navigator="true"
                                         >
                                <p:ajax event="dateSelect" listener="#{invRepKardexGen.dateiniSelectedAction}" />
                            </p:calendar> 
                            <p:outputLabel value="Marca" style="font-weight: bold;"/>
                            <p:selectOneMenu value="#{invRepKardexGen.cod_mar}" 
                                             style=" width: 450px;"
                                             filter="true" 
                                             filterMatchMode="contains"
                                             autoWidth="false"
                                             >
                                <f:selectItem itemLabel="Seleccione Una" itemValue="0"/>
                                <f:selectItems value="#{invRepKardexGen.marcas}" var="sommarrepconsopro"
                                               itemLabel="#{sommarrepconsopro.descripcion}" itemValue="#{sommarrepconsopro.codigo}"/> 
                            </p:selectOneMenu>
                            <p:outputLabel value="Plataforma" style="font-weight: bold;"/>
                            <p:selectOneMenu style=" width: 450px;" 
                                             value="#{invRepKardexGen.cod_fam}"
                                             autoWidth="false"
                                             >
                                <f:selectItem itemLabel="Seleccione Una" itemValue="0"/>
                                <f:selectItems value="#{invRepKardexGen.familias}" var="somfamrepconsopro"
                                               itemLabel="#{somfamrepconsopro.descripcion}" itemValue="#{somfamrepconsopro.codigo}"/> 
                            </p:selectOneMenu>
                            <p:outputLabel value="Producto" style="font-weight: bold;"/>
                            <p:selectOneMenu style=" width: 450px;" 
                                             value="#{invRepKardexGen.cod_art}"
                                             autoWidth="false"
                                             filter="true"
                                             filterMatchMode="contains"
                                             >
                                <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                <f:selectItems value="#{invRepKardexGen.articulos}" var="somartrepconsopro"
                                               itemLabel="#{somartrepconsopro.descripcion}" itemValue="#{somartrepconsopro.codigo}"/> 
                            </p:selectOneMenu>
                        </h:panelGrid>
                    </div>
                </p:panel>


            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ******************** Reporte Pendientes de Entregar ********************
        *********************************************************************-->

        <p:dialog  id="dlgRepPenEntregar" widgetVar="wRepPenEntregar" modal="true" 
                   width="540" height="260" closable="false" resizable="false" 
                   header="Pendientes de Entregar" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmRepPenEntregar"> 

                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Pantalla" style=" width: 80px;"
                                         actionListener="#{invRepKardexGen.ejecutarreporte(10, 1)}"
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PDF" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(10,2)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="XLS" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(10,3)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="DOC" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(10,4)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="PPT" style=" width: 80px;" 
                                         actionListener="#{invRepKardexGen.ejecutarreporte(10,5)}" 
                                         onclick="this.form.target = '_blank'"
                                         ajax="false"
                                         />
                        <p:commandButton value="Cerrar" style=" width: 80px;" 
                                         onclick="PF('wRepPenEntregar').hide()" 
                                         icon="ui-icon-close"
                                         ajax="true"
                                         />
                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color: #dfecf1; ">
                        <h:panelGrid columns="1" cellpadding="5">
                            <p:outputLabel value="Tipo de Pedido" style="font-weight: bold;"/>
                            <p:selectOneMenu style=" width: 450px;" 
                                             value="#{invRepKardexGen.mcodfiltro}"
                                             autoWidth="false"
                                             >
                                <f:selectItem itemLabel="Vale" itemValue="true"/>
                                <f:selectItem itemLabel="Orden" itemValue="false"/>
                                <f:selectItem itemLabel="Cotización" itemValue="cotiza"/>
                                <f:selectItem itemLabel="Repos/Cambio" itemValue="repos"/>
                            </p:selectOneMenu>
                            <p:outputLabel value="Cliente" style="font-weight: bold;"/>
                            <p:selectOneMenu style=" width: 450px;" 
                                             value="#{invRepKardexGen.cod_fam}"
                                             autoWidth="false"
                                             filter="true"
                                             filterMatchMode="contains"
                                             >
                                <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                <f:selectItems value="#{invRepKardexGen.clientes}" var="somclipenentped"
                                               itemLabel="#{somclipenentped.descripcion}" itemValue="#{somclipenentped.codigo}"/> 
                            </p:selectOneMenu>
                            <p:outputLabel value="Producto" style="font-weight: bold;"/>
                            <p:selectOneMenu style=" width: 450px;" 
                                             value="#{invRepKardexGen.cod_art}"
                                             autoWidth="false"
                                             filter="true"
                                             filterMatchMode="contains"
                                             >
                                <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                <f:selectItems value="#{invRepKardexGen.articulos}" var="somartpenentped"
                                               itemLabel="#{somartpenentped.descripcion}" itemValue="#{somartpenentped.codigo}"/> 
                            </p:selectOneMenu>
                        </h:panelGrid>
                    </div>
                </p:panel>


            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ************************** Pantalla Pedidos ****************************
        *********************************************************************-->

        <p:dialog  id="dlgReq" widgetVar="wReq" modal="true" 
                   width="1000" height="530" closable="false" resizable="false" 
                   header="Pedidos" rendered="true" 
                   dynamic="false" visible="false" style="background: #FFFFFF;"
                   >

            <h:form id="frmReq"> 
                <p:growl id="msgReq" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px; background: #ccffcc;"
                                         actionListener="#{invPedidos.nuevosuministrar()}"
                                         update=":frmReq"
                                         icon="ui-icon-document"
                                         disabled="#{!invPedidos.menabled}" 
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px; background: #ccffcc;"
                                         actionListener="#{invPedidos.guardarsuministrar()}"
                                         update=":frmReq"
                                         icon="ui-icon-disk"
                                         disabled="#{!invPedidos.menabled}" 
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <span class="ui-separator">
                            <span class="ui-icon ui-icon-grip-dotted-vertical" />
                        </span>
                        <p:commandButton value="Nuevo" style=" width: 100px; background: #fbfdb5;"
                                         actionListener="#{invPedidos.nuevopedido()}"
                                         update=":frmReq"
                                         icon="ui-icon-document"
                                         disabled="#{invPedidos.menabled}" 
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px; background: #fbfdb5;"
                                         actionListener="#{invPedidos.guardarpedido()}"
                                         update=":frmReq"
                                         icon="ui-icon-disk"
                                         disabled="#{invPedidos.menabled}" 
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Modificar" style=" width: 100px; background: #fbfdb5;"
                                         onclick="PF('wSearchReq').show()"
                                         actionListener="#{invPedidos.llenarPedidos()}"
                                         update=":frmSearchReq"
                                         icon="ui-icon-search"
                                         disabled="#{invPedidos.menabled}" 
                                         />
                        <p:commandButton value="Listado" style=" width: 100px; background: #fbfdb5;"
                                         onclick="PF('wPedidosStatus').show()"
                                         actionListener="#{invPedidos.iniciarcambioestado()}"
                                         update=":frmPedidosStatus"
                                         icon="fa fa-check-square-o"
                                         disabled="#{invPedidos.menabled}" 
                                         />
                    </f:facet>
                    <f:facet name="right">
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wReq').hide()"
                                         actionListener="#{invPedidos.cerrarventana()}"
                                         update=":frmReq"
                                         icon="ui-icon-close"
                                         />
                    </f:facet>

                </p:toolbar>
                <p:tabView activeIndex="#{invPedidos.mindex}" style="background: #FFFFFF;" id="tvsumped">
                    <p:ajax event="tabChange" listener="#{invPedidos.onTabChange}" update=":frmReq" />
                    <p:tab id="tabgenreq" title="Suministrar" disabled="#{manSeguridad.disableOpt('tabSuministrar')}">
                        <p:dataTable id="dtSumReq" var="vSumReq" 
                                     value="#{invPedidos.encabezadotransac}" 
                                     emptyMessage="No se encontraron resultados" 
                                     selectionMode="single" 
                                     selection="#{invPedidos.catpedidos}" 
                                     rowKey="#{vSumReq.cod_ped}"
                                     editable="false" 
                                     style="width:940px"
                                     scrollable="true"
                                     scrollHeight="60"
                                     >
                            <f:facet name="header">
                                <p:outputPanel style=" text-align: right;">
                                    <h:panelGroup>
                                        <h:outputText value="Cliente:&nbsp;&nbsp;" />
                                        <p:inputText style="width:300px;" 
                                                     placeholder="Nombre de Cliente"
                                                     value="#{invPedidos.sum_cli_buscar}" 
                                                     />
                                        <h:outputText value="&nbsp;&nbsp;" />
                                        <p:commandButton value="Buscar" style="width:100px;"
                                                         icon="fa fa-search"
                                                         update=":frmReq:tvsumped:dtSumReq, :frmReq:tvsumped:dtSumReqDet"
                                                         actionListener="#{invPedidos.llenarPedidosTransac()}"
                                                         />
                                    </h:panelGroup>

                                </p:outputPanel>
                            </f:facet>
                            <p:ajax event="rowSelect" listener="#{invPedidos.onSelectRowSuministroMaestro}" 
                                    update=":frmReq:tvsumped:dtSumReqDet, :frmReq:tvsumped:calfectranped, :frmReq:tvsumped:somtipmovped,:frmReq:tvsumped:cormovpropedinv,:frmReq:tvsumped:txtobsped"/>
                            <p:ajax event="rowUnselect"/>

                            <p:column style="width:5px;" headerText="Pedido">
                                <h:outputText value="#{vSumReq.cod_ped}" />
                            </p:column>
                            <p:column style="width:15px" headerText="Fecha">
                                <h:outputText value="#{vSumReq.fec_ped}" />
                            </p:column>
                            <p:column style="width:50px" headerText="Solicita">
                                <h:outputText value="#{vSumReq.nomusu}" />
                            </p:column>
                            <p:column style="width:50px" headerText="Cliente">
                                <h:outputText value="#{vSumReq.nomcli}" />
                            </p:column>
                            <p:column style="width:40px" headerText="Tipo">
                                <h:outputText value="#{vSumReq.valorflg}" />
                            </p:column>
                            <p:column style="width:40px" headerText="Documento">
                                <h:outputText value="#{vSumReq.doc_tra}" />
                            </p:column>
                            <p:column style="width:60px" headerText="Estado">
                                <h:outputText value="#{vSumReq.det_sta}" />
                            </p:column>

                        </p:dataTable>

                        <p:dataTable id="dtSumReqDet" var="vSumReqDet" 
                                     value="#{invPedidos.detallestransac}" 
                                     emptyMessage="No se encontraron resultados" 
                                     selectionMode="single" 
                                     selection="#{invPedidos.catpedidosdetalles}" 
                                     rowKey="#{vSumReqDet.ped_det}"
                                     editable="false" 
                                     style="width:940px"
                                     scrollable="true"
                                     scrollHeight="80"
                                     >
                            <p:ajax event="rowSelect" listener="#{invPedidos.onSelectRowSuministroDetalle}" 
                                    update=":frmReq"/>
                            <p:ajax event="rowUnselect"/>

                            <p:column style="width:5px;" headerText="Item">
                                <h:outputText value="#{vSumReqDet.ped_det}" />
                            </p:column>
                            <p:column style="width:100px" headerText="Producto">
                                <h:outputText value="#{vSumReqDet.nomart}" />
                            </p:column>
                            <p:column style="width:40px" headerText="Lote">
                                <h:outputText value="#{vSumReqDet.lot_sug}" />
                            </p:column>
                            <p:column style="width:40px" headerText="Can.Sol.">
                                <h:outputText value="#{vSumReqDet.can_sol}" />
                            </p:column>
                            <p:column style="width:40px" headerText="Can.Ent.">
                                <h:outputText value="#{vSumReqDet.can_ent}" />
                            </p:column>
                            <p:column style="width:40px" headerText="Can.Pen.">
                                <h:outputText value="#{vSumReqDet.can_pen}" />
                            </p:column>
                            <p:column style="width:70px" headerText="Estado">
                                <h:outputText value="#{vSumReqDet.det_sta}" />
                            </p:column>

                        </p:dataTable>
                        <div style=" background-color: #ebf8fe;">
                            <h:panelGrid columns="5" cellpadding="3">
                                <h:outputText value="Fecha" style="font-weight:bold;"/>
                                <h:outputText value="PO QB/O.Com." style="font-weight:bold;"/>
                                <h:outputText value="Tipo Operación" style="font-weight:bold;"/>
                                <h:outputText value="Correlativo" style="font-weight:bold;"/>
                                <h:outputText value="Observaciones" style="font-weight:bold;"/>
                                <p:calendar  value="#{invPedidos.mfechatransac}"
                                             pattern="dd/MM/yyyy" 
                                             locale="es" 
                                             readonlyInput="true" 
                                             showOn="button" 
                                             size="12"
                                             style="width: 10px"
                                             navigator="true"
                                             id="calfectranped"
                                             >
                                    <p:ajax event="dateSelect" listener="#{invPedidos.dateSelectedTransac}" />
                                </p:calendar> 
                                <p:inputText maxlength="50" size="20" value="#{invPedidos.ord_com}"/>
                                <p:selectOneMenu value="#{invPedidos.tip_mov}" 
                                                 style=" width: 160px;"
                                                 autoWidth="false"
                                                 id="somtipmovped"
                                                 >
                                    <p:ajax event="change" listener="#{invPedidos.onSelectMovimiento()}" 
                                            update="cormovpropedinv" />
                                    <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                    <f:selectItems value="#{invPedidos.movimientos}" var="lstmovpedpro"
                                                   itemLabel="#{lstmovpedpro.descripcion}" itemValue="#{lstmovpedpro.codigo}"/> 
                                </p:selectOneMenu>
                                <p:inputText id="cormovpropedinv" maxlength="20" size="20" value="#{invPedidos.cor_mov}" readonly="true"/> 
                                <p:inputText id="txtobsped" maxlength="200" size="48" value="#{invPedidos.det_obs}"/>
                            </h:panelGrid>
                            <h:panelGrid columns="8" cellpadding="3">
                                <h:outputText value="Bodega" style="font-weight:bold;"/>
                                <h:outputText value="Ubicación" style="font-weight:bold;"/>
                                <h:outputText value="Lote" style="font-weight:bold;"/>
                                <h:outputText value="Vencimiento" style="font-weight:bold;"/>
                                <h:outputText value="Cantidad" style="font-weight:bold;"/>
                                <h:outputText value="Unidad Medida" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <p:selectOneMenu id="sombodpedpro" 
                                                 value="#{invPedidos.det_cod_bod}" 
                                                 style=" width: 150px;"
                                                 autoWidth="false"
                                                 >
                                    <p:ajax event="change" listener="#{invPedidos.seleccionarbodega()}" update="somubipedpro,somlotpedpro" />
                                    <f:selectItem itemLabel="Seleccione Una" itemValue="0"/>
                                    <f:selectItems value="#{invPedidos.bodegas}" var="lstbodpedpro"
                                                   itemLabel="#{lstbodpedpro.descripcion}" itemValue="#{lstbodpedpro.codigo}"/> 
                                </p:selectOneMenu>
                                <p:selectOneMenu id="somubipedpro" 
                                                 value="#{invPedidos.det_cod_ubi}" 
                                                 style=" width: 130px;"
                                                 autoWidth="false"
                                                 >
                                    <f:selectItem itemLabel="Seleccione Una" itemValue="0"/>
                                    <f:selectItems value="#{invPedidos.ubicaciones}" var="lstubipedpro"
                                                   itemLabel="#{lstubipedpro.descripcion}" itemValue="#{lstubipedpro.codigo}"/> 
                                </p:selectOneMenu>
                                <p:selectOneMenu id="somlotpedpro" 
                                                 value="#{invPedidos.det_det_lot}" 
                                                 style=" width: 110px;"
                                                 autoWidth="false"
                                                 filter="true"
                                                 filterMatchMode="contains"
                                                 >
                                    <p:ajax event="change" listener="#{invPedidos.onselectlote()}" update="calfecvenped" />
                                    <f:selectItem itemLabel="" itemValue=""/>
                                    <f:selectItems value="#{invPedidos.lotes}" var="lstlotpedpro"
                                                   itemLabel="#{lstlotpedpro.descripcion}" itemValue="#{lstlotpedpro.codigo}"/> 
                                </p:selectOneMenu>
                                <p:calendar id="calfecvenped" 
                                            value="#{invPedidos.mfechaven}"
                                            pattern="dd/MM/yyyy" 
                                            locale="es" 
                                            readonlyInput="true" 
                                            showOn="button" 
                                            size="11"
                                            style="width: 10px"
                                            disabled="true"
                                            navigator="true"
                                            >
                                    <p:ajax event="dateSelect" listener="#{invPedidos.dateSelectedVencimiento}" />
                                </p:calendar> 
                                <p:inputNumber id="incanentped" size="12" value="#{invPedidos.det_can_ent}" minValue="0" decimalPlaces="2" />
                                <p:selectOneMenu id="somunimedpedpro" 
                                                 value="#{invPedidos.det_uni_med_con}" 
                                                 style=" width: 150px;"
                                                 autoWidth="false"
                                                 >
                                    <f:selectItem itemLabel="Seleccione Una" itemValue="0"/>
                                    <f:selectItems value="#{invPedidos.unidades}" var="lstunimedpedpro"
                                                   itemLabel="#{lstunimedpedpro.descripcion}" itemValue="#{lstunimedpedpro.codigo}"/> 
                                </p:selectOneMenu>
                                <p:commandButton title="Agregar" 
                                                 icon="ui-icon-plus" 
                                                 style=" width: 30px;" 
                                                 actionListener="#{invPedidos.agregardetallesuministrar()}" 
                                                 update="sombodpedpro,somubipedpro,somlotpedpro,calfecvenped,incanentped,somunimedpedpro,dtAgrReqDet, :frmReq:msgReq"
                                                 />
                                <p:commandButton title="Remover" 
                                                 icon="ui-icon-minus" 
                                                 style=" width: 30px;" 
                                                 actionListener="#{invPedidos.eliminardetallesuministrar()}" 
                                                 update=":frmReq"
                                                 />

                            </h:panelGrid>


                        </div>
                        <p:dataTable id="dtAgrReqDet" var="vAgrReqDet" 
                                     value="#{invPedidos.detallesagregar}" 
                                     emptyMessage="No se encontraron resultados" 
                                     selectionMode="single" 
                                     selection="#{invPedidos.catpedidosdetallesagregar}" 
                                     rowKey="#{vAgrReqDet.ped_det}"
                                     editable="false" 
                                     style="width:940px"
                                     scrollable="true"
                                     scrollHeight="80"
                                     >
                            <p:ajax event="rowSelect" listener="#{invPedidos.onSelectRowSuministroAgregar}" 
                                    update="dtAgrReqDet"/>
                            <p:ajax event="rowUnselect"/>

                            <p:column style="width:3px;" headerText="Item">
                                <h:outputText value="#{vAgrReqDet.ped_det}" />
                            </p:column>
                            <p:column style="width:15px" headerText="Cod.Ref">
                                <h:outputText value="#{vAgrReqDet.refart}" />
                            </p:column>
                            <p:column style="width:80px" headerText="Producto">
                                <h:outputText value="#{vAgrReqDet.nomart}" />
                            </p:column>
                            <p:column style="width:40px" headerText="Bodega">
                                <h:outputText value="#{vAgrReqDet.nombod}" />
                            </p:column>
                            <p:column style="width:20px" headerText="Lote">
                                <h:outputText value="#{vAgrReqDet.det_lot}" />
                            </p:column>
                            <p:column style="width:30px" headerText="Vencimiento">
                                <h:outputText value="#{vAgrReqDet.fec_ven}" />
                            </p:column>
                            <p:column style="width:20px" headerText="Can.Ent.">
                                <h:outputText value="#{vAgrReqDet.can_sol_con}" />
                            </p:column>
                            <p:column style="width:50px" headerText="Uni.Med">
                                <h:outputText value="#{vAgrReqDet.nomunimed}" />
                            </p:column>


                        </p:dataTable>
                    </p:tab>

                    <p:tab  id="tabdetreq" title="Pedidos" >
                        <div style=" background-color: #ebf8fe;">

                            <h:panelGrid columns="5" cellpadding="5">
                                <h:outputText value="Fecha" style="font-weight:bold;"/>
                                <h:outputText value="País" style="font-weight:bold;"/>
                                <h:outputText value="Cliente" style="font-weight:bold;"/>
                                <h:outputText value="Área que Recibe" style="font-weight:bold;"/>
                                <h:outputText value="Archivo:&nbsp; &lt;font color='red'&gt;#{invPedidos.nombrearchivo}&lt;/font&gt;" style="font-weight:bold;" id="lblnomarcinvart"
                                              escape="false" 
                                              />
                                <p:calendar  value="#{invPedidos.mfechatra}"
                                             pattern="dd/MM/yyyy" 
                                             locale="es" 
                                             readonlyInput="true" 
                                             showOn="button" 
                                             size="12"
                                             style="width: 10px"
                                             navigator="true"
                                             >
                                    <p:ajax event="dateSelect" listener="#{invPedidos.dateSelectedPedido}" />
                                </p:calendar> 

                                <p:selectOneMenu value="#{invPedidos.cod_pai}" 
                                                 style=" width: 160px;"
                                                 disabled="#{manSeguridad.disableOpt('comboPaisInvProd')}" 
                                                 autoWidth="false"
                                                 >

                                    <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                    <f:selectItems value="#{invPedidos.paises}" var="lstpaipedpro"
                                                   itemLabel="#{lstpaipedpro.descripcion}" itemValue="#{lstpaipedpro.codigo}"/> 
                                </p:selectOneMenu>
                                <p:selectOneMenu id="somclipedpro" 
                                                 value="#{invPedidos.cod_cli_pro}" 
                                                 style=" width: 160px;"
                                                 autoWidth="false"
                                                 >
                                    <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                    <f:selectItems value="#{invPedidos.proveedores}" var="lstclipedpro"
                                                   itemLabel="#{lstclipedpro.descripcion}" itemValue="#{lstclipedpro.codigo}"/> 
                                </p:selectOneMenu>
                                <p:selectOneMenu value="#{invPedidos.cod_are}" 
                                                 style=" width: 190px;"
                                                 autoWidth="false"
                                                 >
                                    <f:selectItem itemLabel="Ninguna" itemValue="0"/>
                                    <f:selectItems value="#{invPedidos.areas}" var="lstareastrapedpro"
                                                   itemLabel="#{lstareastrapedpro.descripcion}" itemValue="#{lstareastrapedpro.codigo}"/> 
                                </p:selectOneMenu>
                                <p:fileUpload mode="advanced"
                                              auto="true" 
                                              label="Cargar Archivo" 
                                              id="fupinvart" 
                                              fileUploadListener="#{invPedidos.upload}" 
                                              allowTypes="/(\.|\/)(jpg|JPG|jepg|JEPG|gif|GIF|png|PNG|pdf|PDF)$/" 
                                              update="lblnomarcinvart" style="height: 5px;"
                                              />
                            </h:panelGrid>
                            <h:panelGrid columns="4" cellpadding="5">
                                <h:outputText value="Tipo" style="font-weight:bold;"/>
                                <h:outputText value="N° Documento" style="font-weight:bold;"/>
                                <h:outputText value="Solicitado por" style="font-weight:bold;"/>
                                <h:outputText value="Observaciones" style="font-weight:bold;"/>

                                <p:selectOneMenu value="#{invPedidos.flg_val}" 
                                                 style=" width: 80px;"
                                                 autoWidth="false"
                                                 >
                                    <p:ajax event="change" update="txtfactped"/>
                                    <f:selectItem itemLabel="Orden" itemValue="false"/>
                                    <f:selectItem itemLabel="Cotización" itemValue="cotiza"/>
                                    <f:selectItem itemLabel="Vale" itemValue="true"/>
                                    <f:selectItem itemLabel="Repos/Cambio" itemValue="repos"/>

                                </p:selectOneMenu>
                                <p:inputText id="txtfactped" maxlength="25" size="20" value="#{invPedidos.doc_tra}" disabled="#{!invPedidos.flg_val}" />
                                <p:selectOneMenu value="#{invPedidos.cod_esp}" 
                                                 style=" width: 160px;"
                                                 autoWidth="false"
                                                 >
                                    <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                    <f:selectItems value="#{invPedidos.especialistas}" var="lstespecitrapedpro"
                                                   itemLabel="#{lstespecitrapedpro.descripcion}" itemValue="#{lstespecitrapedpro.codigo}"/> 
                                </p:selectOneMenu>
                                <p:inputText maxlength="200" size="62" value="#{invPedidos.det_obs}"/>


                            </h:panelGrid>    


                        </div>

                        <div style=" background: #e2ecfe;" >
                            <h:panelGrid columns="4" cellpadding="5">
                                <h:outputText value="Producto" style="font-weight:bold;"/>
                                <h:outputText value="Unidad de Medida" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <h:outputText value="Lote Sugerido" style="font-weight:bold;"/>

                                <p:selectOneMenu value="#{invPedidos.det_cod_art}" 
                                                 style=" width: 500px;"
                                                 filter="true" 
                                                 filterMatchMode="contains"
                                                 autoWidth="false"
                                                 id="artdetped"
                                                 >
                                    <p:ajax event="change" listener="#{invPedidos.seleccionarproducto()}" update="artdetped,nomunidetped,candetped,unimedpeddet" />
                                    <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                    <f:selectItems value="#{invPedidos.articulos}" var="lstpiepedpro"
                                                   itemLabel="#{lstpiepedpro.descripcion}" itemValue="#{lstpiepedpro.codigo}"/> 
                                </p:selectOneMenu>
                                <p:inputText id="nomunidetped" readonly="true" size="25" value="#{invPedidos.nomunimed}" />
                                <p:commandButton title="Imagen" 
                                                 icon="ui-icon-image" 
                                                 style=" width: 30px;" 
                                                 actionListener="#{invPedidos.iniciarimagen()}"
                                                 onclick="PF('wImgPro2').show()"
                                                 update=":frmImgPro2"
                                                 />
                                <p:inputText size="20" maxlength="100" value="#{invPedidos.det_lot_sug}" />

                            </h:panelGrid>
                            <h:panelGrid columns="4" cellpadding="5">

                                <h:outputText value="Cantidad" style="font-weight:bold;"/>
                                <h:outputText value="Unidad Medida" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>

                                <p:inputNumber id="candetped" size="16" value="#{invPedidos.det_can_sol}" minValue="0" decimalPlaces="2" />
                                <p:selectOneMenu value="#{invPedidos.det_uni_med_con}" 
                                                 style=" width: 210px;"
                                                 autoWidth="false"
                                                 id="unimedpeddet"
                                                 >
                                    <f:selectItem itemLabel="Seleccione Una" itemValue="0"/>
                                    <f:selectItems value="#{invPedidos.unidades}" var="lstunimedpedpro"
                                                   itemLabel="#{lstunimedpedpro.descripcion}" itemValue="#{lstunimedpedpro.codigo}"/> 
                                </p:selectOneMenu>

                                <p:commandButton title="Agregar" 
                                                 icon="ui-icon-plus" 
                                                 style=" width: 30px;" 
                                                 actionListener="#{invPedidos.agregardetalle()}" 
                                                 update="artdetped,nomunidetped,candetped,unimedpeddet,dtReq"
                                                 />
                                <p:commandButton title="Remover" 
                                                 icon="ui-icon-minus" 
                                                 style=" width: 30px;" 
                                                 actionListener="#{invPedidos.eliminardetalle()}" 
                                                 update="artdetped,nomunidetped,candetped,unimedpeddet,dtReq"
                                                 />
                            </h:panelGrid>
                        </div>

                        <p:dataTable id="dtReq" var="vReq" 
                                     value="#{invPedidos.detalles}" 
                                     emptyMessage="No se encontraron resultados" 
                                     selectionMode="single" 
                                     selection="#{invPedidos.catpedidosdetalles}" 
                                     rowKey="#{vReq.ped_det}"
                                     editable="false" 
                                     style="width:940px"
                                     scrollable="true"
                                     scrollHeight="120"
                                     >
                            <p:ajax event="rowSelect" listener="#{invPedidos.onSelectRowDetPedidos}" 
                                    update=":frmReq"/>
                            <p:ajax event="rowUnselect" listener="#{invPedidos.onUnselectRowDetPedidos}" 
                                    update=":frmReq"/>

                            <p:column style="width:5px;" headerText="Item">
                                <h:outputText value="#{vReq.ped_det}" />
                            </p:column>
                            <p:column style="width:50px" headerText="Cod.Ref">
                                <h:outputText value="#{vReq.refart}" />
                            </p:column>
                            <p:column style="width:50px" headerText="Cod.Alt">
                                <h:outputText value="#{vReq.altart}" />
                            </p:column>
                            <p:column style="width:190px" headerText="Producto">
                                <h:outputText value="#{vReq.nomart}" />
                            </p:column>
                            <p:column style="width:40px" headerText="Cantidad">
                                <h:outputText value="#{vReq.can_sol_con}" />
                            </p:column>
                            <p:column style="width:100px" headerText="Uni.Med">
                                <h:outputText value="#{vReq.nomunimed}" />
                            </p:column>
                            <p:column style="width:60px" headerText="Lote">
                                <h:outputText value="#{vReq.lot_sug}" />
                            </p:column>

                        </p:dataTable>
                    </p:tab>
                </p:tabView>



            </h:form>
        </p:dialog>

        <p:dialog  id="dlgSearchReq" widgetVar="wSearchReq" modal="true" 
                   width="770" height="300" closable="false" resizable="false" 
                   header="Buscar Pedido" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmSearchReq"> 
                <p:growl id="msgSearchReq" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="right">
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wSearchReq').hide()"
                                         actionListener="#{invPedidos.cerrarbuscar()}"
                                         update=":frmSearchReq"
                                         icon="ui-icon-close"
                                         />
                    </f:facet>
                </p:toolbar>
                <p:panel>
                    <p:dataTable id="dtSearchReq" var="vSearchReq" 
                                 value="#{invPedidos.encabezado}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" 
                                 selection="#{invPedidos.catpedidos}" 
                                 rowKey="#{vSearchReq.cod_ped}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="200" 
                                 style="width:720px"
                                 >
                        <p:ajax event="rowSelect" listener="#{invPedidos.onSelectRowPedidos}" 
                                />


                        <p:column style="width:5px;" headerText="Id">
                            <h:outputText value="#{vSearchReq.cod_ped}" />
                        </p:column>
                        <p:column style="width:80px;" headerText="Fecha">
                            <h:outputText value="#{vSearchReq.fec_ped}" />
                        </p:column>
                        <p:column style="width:140px" headerText="Solicita">
                            <h:outputText value="#{vSearchReq.nomusu}" />
                        </p:column>
                        <p:column style="width:140px" headerText="Cliente">
                            <h:outputText value="#{vSearchReq.nomcli}" />
                        </p:column>
                        <p:column style="width:80px" headerText="Quickbooks">
                            <h:outputText value="#{vSearchReq.ord_com}" />
                        </p:column>
                        <p:column style="width:80px" headerText="Documento">
                            <h:outputText value="#{vSearchReq.doc_tra}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <p:dialog  id="dlgImgPro2" widgetVar="wImgPro2" modal="true" 
                   width="360" height="260" closable="true" resizable="false" 
                   header="Imagen de Producto" rendered="true" 
                   dynamic="true" visible="false"
                   >


            <h:form id="frmImgPro2">
                <div align="center">
                    <h:panelGrid columns="1">
                        <p:graphicImage value="#{invPedidos.mimagen}"
                                        cache="false" width="200" height="#{invPedidos.mheight}" />

                        <h:outputText value="#{invPedidos.nomprod}" style="font-weight:bold;"/>
                    </h:panelGrid>
                </div>
            </h:form>
        </p:dialog>

        <p:dialog  id="dlgPedidosStatus" widgetVar="wPedidosStatus" modal="true" 
                   width="990" height="450" closable="true" resizable="false" 
                   header="Pedidos" rendered="true" 
                   dynamic="true" visible="false"
                   >
            <h:form id="frmPedidosStatus">
                <p:growl id="msgPeidosStatus" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Guardar" style=" width: 100px; background: #ccffcc;"
                                         actionListener="#{invPedidos.cambiarestado()}"
                                         update=":frmPedidosStatus"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wPedidosStatus').hide()"
                                         actionListener="#{invPedidos.cerrarcambioestado()}"
                                         update=":frmReq"
                                         icon="ui-icon-close"
                                         />
                    </f:facet>

                </p:toolbar>
                <p:panel>
                    <div style=" background: #dfecf1;">
                        <h:panelGrid columns="3" cellpadding="5">
                            <h:outputText value="Tipo" style="font-weight:bold;"/>
                            <h:outputText value="N° Documento" style="font-weight:bold;"/>
                            <h:outputText value="" style="font-weight:bold;"/>
                            <p:selectOneMenu value="#{invPedidos.sta_flg_val}" 
                                             style=" width: 80px;"
                                             autoWidth="false"
                                             >
                                <p:ajax event="change" listener="#{invPedidos.onSelectFacturado()}" update="txtfactFacSta"/>
                                <f:selectItem itemLabel="Orden" itemValue="false"/>
                                <f:selectItem itemLabel="Cotización" itemValue="cotiza"/>
                                <f:selectItem itemLabel="Vale" itemValue="true"/>
                                <f:selectItem itemLabel="Repos/Cambio" itemValue="repos"/>
                            </p:selectOneMenu>
                            <p:inputText id="txtfactFacSta" maxlength="25" size="40" value="#{invPedidos.sta_num_fac}" />
                            <p:commandButton value="Ver Archivo" style=" width: 100px;"
                                             actionListener="#{invPedidos.descargaranexos()}"
                                             icon="fa fa-download"
                                             update=":frmPedidosStatus:msgPeidosStatus"
                                             />
                        </h:panelGrid>
                    </div>
                    <p:dataTable id="dtPedidosStatus" var="vPedidosStatus" 
                                 value="#{invPedidos.encabezadopedidos}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" 
                                 selection="#{invPedidos.catpedidospedidos}" 
                                 rowKey="#{vPedidosStatus.cod_ped}"
                                 editable="false" 
                                 style="width:940px"
                                 scrollable="true"
                                 scrollHeight="120"
                                 >

                        <f:facet name="header">
                            <p:outputPanel style=" text-align: right;">
                                <h:panelGroup>
                                    <h:outputText value="Cliente:&nbsp;&nbsp;" />
                                    <p:inputText style="width:300px;" 
                                                 placeholder="Nombre de Cliente"
                                                 value="#{invPedidos.sta_cli_buscar}" 
                                                 />
                                    <h:outputText value="&nbsp;&nbsp;" />
                                    <p:commandButton value="Buscar" style="width:100px;"
                                                     icon="fa fa-search"
                                                     update=":frmPedidosStatus:dtPedidosStatus, :frmPedidosStatus:dtPedidosStatusDet"

                                                     actionListener="#{invPedidos.llenarPedidosStatus()}"
                                                     />
                                </h:panelGroup>

                            </p:outputPanel>
                        </f:facet>

                        <p:ajax event="rowSelect" listener="#{invPedidos.onSelectRowPedidosStatus}" 
                                update=":frmPedidosStatus:dtPedidosStatusDet"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:5px;" headerText="Pedido">
                            <h:outputText value="#{vPedidosStatus.cod_ped}" />
                        </p:column>
                        <p:column style="width:15px" headerText="Fecha">
                            <h:outputText value="#{vPedidosStatus.fec_ped}" />
                        </p:column>
                        <p:column style="width:50px" headerText="Solicita">
                            <h:outputText value="#{vPedidosStatus.nomusu}" />
                        </p:column>
                        <p:column style="width:50px" headerText="Cliente" sortBy="#{vPedidosStatus.nomcli}">
                            <h:outputText value="#{vPedidosStatus.nomcli}" />
                        </p:column>
                        <p:column style="width:40px" headerText="Tipo">
                            <h:outputText value="#{vPedidosStatus.valorflg}" />
                        </p:column>
                        <p:column style="width:40px" headerText="Documento" sortBy="#{vPedidosStatus.doc_tra}">
                            <h:outputText value="#{vPedidosStatus.doc_tra}" />
                        </p:column>
                        <p:column style="width:60px" headerText="Estado">
                            <h:outputText value="#{vPedidosStatus.det_sta}" />
                        </p:column>

                    </p:dataTable>

                    <p:dataTable id="dtPedidosStatusDet" var="vPedidosStatusDet" 
                                 value="#{invPedidos.detallespedidos}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" 
                                 rowKey="#{vPedidosStatusDet.ped_det}"
                                 editable="false" 
                                 style="width:940px"
                                 scrollable="true"
                                 scrollHeight="130"
                                 >

                        <p:column style="width:5px;" headerText="Item">
                            <h:outputText value="#{vPedidosStatusDet.ped_det}" />
                        </p:column>
                        <p:column style="width:100px" headerText="Producto">
                            <h:outputText value="#{vPedidosStatusDet.nomart}" />
                        </p:column>
                        <p:column style="width:40px" headerText="Lote">
                            <h:outputText value="#{vPedidosStatusDet.lot_sug}" />
                        </p:column>
                        <p:column style="width:40px" headerText="Can.Sol.">
                            <h:outputText value="#{vPedidosStatusDet.can_sol}" />
                        </p:column>
                        <p:column style="width:40px" headerText="Can.Ent.">
                            <h:outputText value="#{vPedidosStatusDet.can_ent}" />
                        </p:column>
                        <p:column style="width:40px" headerText="Can.Pen.">
                            <h:outputText value="#{vPedidosStatusDet.can_pen}" />
                        </p:column>
                        <p:column style="width:70px" headerText="Estado">
                            <h:outputText value="#{vPedidosStatusDet.det_sta}" />
                        </p:column>

                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ****************** Pantalla Compras Producto ***************************
        *********************************************************************-->

        <p:dialog  id="dlgComp" widgetVar="wComp" modal="true" 
                   width="1000" height="520" closable="false" resizable="false" 
                   header="Compras" rendered="true" 
                   dynamic="false" visible="false" style="background: #FFFFFF;"
                   >

            <h:form id="frmComp"> 
                <p:growl id="msgComp" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px; background: #ccffcc;"
                                         actionListener="#{invCompras.nuevo()}"
                                         update=":frmComp"
                                         icon="fa fa-file-o"
                                         disabled="#{invCompras.menabled}"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px; background: #ccffcc;"
                                         actionListener="#{invCompras.guardar()}"
                                         update=":frmComp"
                                         icon="fa fa-floppy-o"
                                         disabled="#{invCompras.menabled}"  
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <span class="ui-separator">
                            <span class="ui-icon ui-icon-grip-dotted-vertical" />
                        </span>
                        <p:commandButton value="Guardar" style=" width: 100px; background: #fbfdb5;"
                                         actionListener="#{invCompras.guardarEntrega()}"
                                         update=":frmComp"
                                         icon="fa fa-floppy-o"
                                         disabled="#{!invCompras.menabled}" 
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>     
                        <p:commandButton value="Eliminar" style=" width: 100px; background: #fbfdb5;"
                                         actionListener="#{invCompras.eliminarsolicitud()}"
                                         update=":frmComp"
                                         icon="fa fa-trash-o"
                                         disabled="#{!invCompras.menabled}" 
                                         > 
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea Eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <span class="ui-separator">
                            <span class="ui-icon ui-icon-grip-dotted-vertical" />
                        </span>
                        <p:commandButton value="Lotes" style=" width: 100px;  background: #fbfdb5;"
                                         actionListener="#{invCompras.iniciarDetalleLotes()}"
                                         update=":frmComp"
                                         icon="fa fa-list-alt"
                                         disabled="#{invCompras.det_lot_boolean}"
                                         />

                    </f:facet>
                    <f:facet name="right">
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wComp').hide()"
                                         actionListener="#{invCompras.cerrarventana()}"
                                         update=":frmComp"
                                         icon="fa fa-times"
                                         />
                    </f:facet>

                </p:toolbar>
                <p:tabView activeIndex="#{invCompras.tabindex}">
                    <p:ajax event="tabChange" listener="#{invCompras.onTabChange}" update=":frmComp" />
                    <p:tab id="tabsolgen" title="Solicitud">
                        <p:panel>
                            <h:panelGrid cellpadding="5" columns="4">
                                <h:outputText value="Fecha" style="font-weight:bold;"/>
                                <h:outputText value="QuickBooks" style="font-weight:bold;"/>
                                <h:outputText value="Proveedor" style="font-weight:bold;"/>
                                <h:outputText value="Observaciones" style="font-weight:bold;"/>
                                <p:calendar  value="#{invCompras.dfechasol}"
                                             pattern="dd/MM/yyyy" 
                                             locale="es" 
                                             readonlyInput="true" 
                                             showOn="button" 
                                             size="12"
                                             style="width: 10px"
                                             navigator="true"
                                             id="calcomprodu"
                                             >
                                    <p:ajax event="dateSelect" listener="#{invCompras.dateSelectedSol}" />
                                </p:calendar> 
                                <p:inputText value="#{invCompras.cod_alt}" size="20" maxlength="15" />
                                <p:selectOneMenu value="#{invCompras.cod_pro}" 
                                                 style=" width: 250px;"
                                                 autoWidth="false"
                                                 >
                                    <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                    <f:selectItems value="#{invCompras.proveedores}" var="lstcomprapro"
                                                   itemLabel="#{lstcomprapro.descripcion}" itemValue="#{lstcomprapro.codigo}"/> 
                                </p:selectOneMenu>
                                <p:inputText value="#{invCompras.det_obs}" size="50" maxlength="150" />
                            </h:panelGrid>
                            <h:panelGrid cellpadding="3" columns="6">
                                <h:outputText value="Producto" style="font-weight:bold;"/>
                                <h:outputText value="Unidad Medida" style="font-weight:bold;"/>
                                <h:outputText value="Cantidad" style="font-weight:bold;"/>
                                <h:outputText value="Unidad Medida" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <h:outputText value="" style="font-weight:bold;"/>
                                <p:selectOneMenu value="#{invCompras.det_cod_ite}" 
                                                 style=" width: 350px;"
                                                 autoWidth="false"
                                                 filter="true"
                                                 filterMatchMode="contains"
                                                 >
                                    <p:ajax event="change" listener="#{invCompras.onSelectProducto()}" update="txtunioricompra,cmbcodunimedcompra"/>
                                    <f:selectItem itemLabel="Seleccione Uno" itemValue="0"/>
                                    <f:selectItems value="#{invCompras.productos}" var="lstcompraprodu"
                                                   itemLabel="#{lstcompraprodu.descripcion}" itemValue="#{lstcompraprodu.codigo}"/> 
                                </p:selectOneMenu>
                                <p:inputText id="txtunioricompra" value="#{invCompras.nomuniori}" size="20" maxlength="15" readonly="true" />
                                <p:inputNumber value="#{invCompras.det_can_sol_con}" size ="15" decimalPlaces="2" minValue="0" />
                                <p:selectOneMenu value="#{invCompras.det_cod_uni_med}" 
                                                 style=" width: 150px;"
                                                 autoWidth="false"
                                                 id="cmbcodunimedcompra"
                                                 >
                                    <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                    <f:selectItems value="#{invCompras.unidades}" var="lstcompraunimed"
                                                   itemLabel="#{lstcompraunimed.descripcion}" itemValue="#{lstcompraunimed.codigo}"/> 
                                </p:selectOneMenu>
                                <p:commandButton title="Agregar" 
                                                 icon="ui-icon-plus" 
                                                 style=" width: 30px;" 
                                                 actionListener="#{invCompras.agregardetalle()}" 
                                                 update=":frmComp"
                                                 />
                                <p:commandButton title="Remover" 
                                                 icon="ui-icon-minus" 
                                                 style=" width: 30px;" 
                                                 actionListener="#{invCompras.eliminardetalle()}" 
                                                 update=":frmComp"
                                                 />
                            </h:panelGrid>

                        </p:panel> 
                        <p:dataTable id="dtComPro" var="vComPro" 
                                     value="#{invCompras.detalles}" 
                                     emptyMessage="No se encontraron resultados" 
                                     selectionMode="single" selection="#{invCompras.catdetalles}" 
                                     rowKey="#{vComPro.cod_det}"
                                     editable="false" 
                                     style="width:940px"
                                     scrollable="true"
                                     scrollHeight="220"
                                     >
                            <p:ajax event="rowSelect" listener="#{invCompras.onRowSelectDet}" 
                                    update=":frmComp" />

                            <p:column style="width:10px" headerText="N°">
                                <h:outputText value="#{vComPro.cod_det}" />
                            </p:column>
                            <p:column style="width:80px" headerText="Código">
                                <h:outputText value="#{vComPro.codigo}" />
                            </p:column>
                            <p:column style="width:300px" headerText="Descripción">
                                <h:outputText value="#{vComPro.des_ite}" />
                            </p:column>
                            <p:column style="width:70px" headerText="Cantidad">
                                <h:outputText value="#{vComPro.det_can_con}" />
                            </p:column>
                            <p:column style="width:150px" headerText="Uni.Med">
                                <h:outputText value="#{vComPro.unidad}" />
                            </p:column>
                        </p:dataTable>

                    </p:tab>
                    <p:tab id="tabsolent" title="Recibir">
                        <p:panel>
                            <p:dataTable id="dtSolProd" var="vSolProd" 
                                         value="#{invCompras.maestroent}" 
                                         emptyMessage="No se encontraron resultados" 
                                         selectionMode="single" 
                                         selection="#{invCompras.catmaestroent}" 
                                         rowKey="#{vSolProd.cod_mae}"
                                         editable="false" 
                                         style="width:910px"
                                         scrollable="true"
                                         scrollHeight="60"
                                         >
                                <p:ajax event="rowSelect" listener="#{invCompras.onRowSelectEncEnt}" 
                                        update=":frmComp"/>
                                <p:ajax event="rowUnselect"/>

                                <p:column style="width:3px;" headerText="N°">
                                    <h:outputText value="#{vSolProd.cod_mae}" />
                                </p:column>
                                <p:column style="width:20px" headerText="Fecha">
                                    <h:outputText value="#{vSolProd.fec_sol}" />
                                </p:column>
                                <p:column style="width:30px" headerText="QuickBooks">
                                    <h:outputText value="#{vSolProd.cod_alt}" />
                                </p:column>
                                <p:column style="width:50px" headerText="Proveedor">
                                    <h:outputText value="#{vSolProd.nomproveedor}" />
                                </p:column>
                                <p:column style="width:190px" headerText="Observaciones">
                                    <h:outputText value="#{vSolProd.det_obs}" />
                                </p:column>
                                <p:column style="width:65px" headerText="Estado">
                                    <h:outputText value="#{vSolProd.estado}" />
                                </p:column>

                            </p:dataTable>

                            <p:dataTable id="dtSolDetProd" var="vSolDetProd" 
                                         value="#{invCompras.detallesent}" 
                                         emptyMessage="No se encontraron resultados" 
                                         selectionMode="single" 
                                         selection="#{invCompras.catdetallesent}" 
                                         rowKey="#{vSolDetProd.cod_det}"
                                         editable="false" 
                                         style="width:910px"
                                         scrollable="true"
                                         scrollHeight="80"
                                         >
                                <p:ajax event="rowSelect" listener="#{invCompras.onRowSelectDetEnt}" 
                                        update=":frmComp"/>
                                <p:ajax event="rowUnselect" listener="#{invCompras.onRowUnselectDetEnt}" 
                                        update=":frmComp"/>

                                <p:column style="width:5px;" headerText="Item">
                                    <h:outputText value="#{vSolDetProd.cod_det}" />
                                </p:column>
                                <p:column style="width:25px" headerText="Código">
                                    <h:outputText value="#{vSolDetProd.cod_art}" />
                                </p:column>
                                <p:column style="width:90px" headerText="Artículo">
                                    <h:outputText value="#{vSolDetProd.des_ite}" />
                                </p:column>
                                <p:column style="width:40px" headerText="Can.Sol.">
                                    <h:outputText value="#{vSolDetProd.det_can_sol}" />
                                </p:column>
                                <p:column style="width:40px" headerText="Can.Ent.">
                                    <h:outputText value="#{vSolDetProd.det_can_ent}" />
                                </p:column>
                                <p:column style="width:40px" headerText="Can.Pen.">
                                    <h:outputText value="#{vSolDetProd.det_can_pen}" />
                                </p:column>
                                <p:column style="width:60px" headerText="Uni.Med">
                                    <h:outputText value="#{vSolDetProd.unidad}" />
                                </p:column>
                                <p:column style="width:70px" headerText="Estado">
                                    <h:outputText value="#{vSolDetProd.estado}" />
                                </p:column>

                            </p:dataTable>
                            <div style=" background-color: #ebf8fe;">
                                <h:panelGrid columns="7" cellpadding="5">
                                    <h:outputText value="Fecha" style="font-weight:bold;"/>
                                    <h:outputText value="Tipo Operación" style="font-weight:bold;"/>
                                    <h:outputText value="Correlativo" style="font-weight:bold;"/>
                                    <h:outputText value="Poliza" style="font-weight:bold;"/>
                                    <h:outputText value="Observaciones" style="font-weight:bold;"/>
                                    <h:outputText value="" style="font-weight:bold;"/>
                                    <h:outputText value="" style="font-weight:bold;"/>
                                    <p:calendar  value="#{invCompras.dfechatransac}"
                                                 pattern="dd/MM/yyyy" 
                                                 locale="es" 
                                                 readonlyInput="true" 
                                                 showOn="button" 
                                                 size="12"
                                                 style="width: 10px"
                                                 navigator="true"
                                                 id="calfectranped"
                                                 >
                                        <p:ajax event="dateSelect" listener="#{invCompras.dateSelectedTransac}" />
                                    </p:calendar> 
                                    <p:selectOneMenu value="#{invCompras.tra_tipooperacion}" 
                                                     style=" width: 160px;"
                                                     autoWidth="false"
                                                     id="somoperacompra"
                                                     >
                                        <p:ajax event="change" listener="#{invCompras.onSelectMovimiento()}" 
                                                update="txtcorroper" />
                                        <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                        <f:selectItems value="#{invCompras.operaciones}" var="lstopercomp"
                                                       itemLabel="#{lstopercomp.descripcion}" itemValue="#{lstopercomp.codigo}"/> 
                                    </p:selectOneMenu>
                                    <p:inputText id="txtcorroper" maxlength="20" size="20" value="#{invCompras.tra_correlaoperacion}" readonly="true"/> 
                                    <p:inputText maxlength="30" size="20" value="#{invCompras.tra_poliza}"/>
                                    <p:inputText id="txtobscompprod" maxlength="200" size="25" value="#{invCompras.tra_observaciones}"/>
                                    <p:commandButton title="Agregar" 
                                                     icon="ui-icon-plus" 
                                                     style=" width: 30px;" 
                                                     actionListener="#{invCompras.agregardetalleEntrega()}" 
                                                     update=":frmComp"
                                                     />
                                    <p:commandButton title="Remover" 
                                                     icon="ui-icon-minus" 
                                                     style=" width: 30px;" 
                                                     actionListener="#{invCompras.eliminardetalleEntrega()}" 
                                                     update=":frmComp"
                                                     />
                                </h:panelGrid>
                                <h:panelGrid columns="7" cellpadding="3">
                                    <h:outputText value="Bodega" style="font-weight:bold;"/>
                                    <h:outputText value="Ubicación" style="font-weight:bold;"/>
                                    <h:outputText value="Lote" style="font-weight:bold;"/>
                                    <h:outputText value="Vencimiento" style="font-weight:bold;"/>
                                    <h:outputText value="Cantidad" style="font-weight:bold;"/>
                                    <h:outputText value="Unidad Medida" style="font-weight:bold;"/>
                                    <h:outputText value="Costo Total" style="font-weight:bold;"/>

                                    <p:selectOneMenu id="sombodcompr" 
                                                     value="#{invCompras.tra_bodega}" 
                                                     style=" width: 130px;"
                                                     autoWidth="false"
                                                     >
                                        <p:ajax event="change" listener="#{invCompras.seleccionarbodega()}" update="somubicompr,somlotcompr" />
                                        <f:selectItem itemLabel="Seleccione Una" itemValue="0"/>
                                        <f:selectItems value="#{invCompras.bodegas}" var="lstbodcomppro"
                                                       itemLabel="#{lstbodcomppro.descripcion}" itemValue="#{lstbodcomppro.codigo}"/> 
                                    </p:selectOneMenu>
                                    <p:selectOneMenu id="somubicompr" 
                                                     value="#{invCompras.tra_ubicacion}" 
                                                     style=" width: 110px;"
                                                     autoWidth="false"
                                                     >
                                        <f:selectItem itemLabel="Seleccione Una" itemValue="0"/>
                                        <f:selectItems value="#{invCompras.ubicaciones}" var="lstubicomppro"
                                                       itemLabel="#{lstubicomppro.descripcion}" itemValue="#{lstubicomppro.codigo}"/> 
                                    </p:selectOneMenu>
                                    <p:selectOneMenu id="somlotcompr" 
                                                     value="#{invCompras.tra_lote}" 
                                                     style=" width: 100px;"
                                                     autoWidth="false"
                                                     filter="true"
                                                     filterMatchMode="contains"
                                                     editable="true"
                                                     >
                                        <p:ajax event="change" listener="#{invCompras.onselectlote()}" update="calfecvencomppro" />
                                        <f:selectItem itemLabel="" itemValue=""/>
                                        <f:selectItems value="#{invCompras.lotes}" var="lstlotcomppro"
                                                       itemLabel="#{lstlotcomppro.descripcion}" itemValue="#{lstlotcomppro.codigo}"/> 
                                    </p:selectOneMenu>
                                    <p:calendar id="calfecvencomppro" 
                                                value="#{invCompras.dfechavenc}"
                                                pattern="dd/MM/yyyy" 
                                                locale="es" 
                                                readonlyInput="true" 
                                                showOn="button" 
                                                size="11"
                                                style="width: 10px"
                                                navigator="true"
                                                >
                                        <p:ajax event="dateSelect" listener="#{invCompras.dateSelectedVenc}" />
                                    </p:calendar> 
                                    <p:inputNumber id="incancomppro" size="14" value="#{invCompras.tra_cantidad}" minValue="0" decimalPlaces="2" />
                                    <p:selectOneMenu id="somunicomppro" 
                                                     value="#{invCompras.tra_unimed}" 
                                                     style=" width: 120px;"
                                                     autoWidth="false"
                                                     >
                                        <f:selectItem itemLabel="Seleccione Una" itemValue="0"/>
                                        <f:selectItems value="#{invCompras.unidades}" var="lstunimedcomppro"
                                                       itemLabel="#{lstunimedcomppro.descripcion}" itemValue="#{lstunimedcomppro.codigo}"/> 
                                    </p:selectOneMenu>
                                    <p:inputNumber id="incostocomppro" size="14" value="#{invCompras.tra_costototal}" minValue="0" decimalPlaces="2" />

                                </h:panelGrid>


                            </div>
                            <p:dataTable id="dtAgrSolDet" var="vAgrSolDet" 
                                         value="#{invCompras.entregadetalles}" 
                                         emptyMessage="No se encontraron resultados" 
                                         selectionMode="single" 
                                         selection="#{invCompras.cattransaccionesdetalle}" 
                                         rowKey="#{vAgrSolDet.cod_det}"
                                         editable="false" 
                                         style="width:910px"
                                         scrollable="true"
                                         scrollHeight="80"
                                         >
                                <p:ajax event="rowSelect" listener="#{invCompras.onRowSelectEntregado}" 
                                        update="dtAgrSolDet"/>
                                <p:ajax event="rowUnselect"/>

                                <p:column style="width:3px;" headerText="Item">
                                    <h:outputText value="#{vAgrSolDet.cod_det}" />
                                </p:column>
                                <p:column style="width:15px" headerText="Cod.Ref">
                                    <h:outputText value="#{vAgrSolDet.codrefart}" />
                                </p:column>
                                <p:column style="width:80px" headerText="Producto">
                                    <h:outputText value="#{vAgrSolDet.nomart}" />
                                </p:column>
                                <p:column style="width:40px" headerText="Bodega">
                                    <h:outputText value="#{vAgrSolDet.nombod}" />
                                </p:column>
                                <p:column style="width:20px" headerText="Lote">
                                    <h:outputText value="#{vAgrSolDet.det_lot}" />
                                </p:column>
                                <p:column style="width:30px" headerText="Vencimiento">
                                    <h:outputText value="#{vAgrSolDet.fec_ven}" />
                                </p:column>
                                <p:column style="width:20px" headerText="Can.Ent.">
                                    <h:outputText value="#{vAgrSolDet.det_can_con}" />
                                </p:column>
                                <p:column style="width:50px" headerText="Uni.Med">
                                    <h:outputText value="#{vAgrSolDet.nomunimed}" />
                                </p:column>
                                <p:column style="width:50px" headerText="Costo">
                                    <h:outputText value="#{vAgrSolDet.det_cos}" />
                                </p:column>


                            </p:dataTable>

                        </p:panel>
                    </p:tab>

                </p:tabView>

            </h:form>



        </p:dialog>

        <p:dialog  id="dlgDetLotesCom" widgetVar="wDetLotesCom" modal="true" 
                   width="640" height="280" closable="false" resizable="false" 
                   header="Detalle de Lotes en Solicitud" rendered="true" 
                   dynamic="false" visible="false"
                   >
            <h:form id="frmDetLotesCom">
                <p:growl id="msgDetLotesCom" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="right">
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wDetLotesCom').hide()"
                                         actionListener="#{invCompras.cerrarDetalleLotes()}"
                                         update=":frmComp"
                                         icon="ui-icon-close"
                                         />
                    </f:facet>

                </p:toolbar>
                <p:panel>
                    <div style=" background: #dfecf1;">
                        <h:panelGrid columns="5" cellpadding="4">
                            <h:outputText value="Cantidad de Producto Solicitada en Orden: " style="font-weight:bold;"/>
                            <h:outputText value="#{invCompras.ent_can_pen}" style="font-weight:bold; color: red;"/>
                            <h:outputText value="" style="font-weight:bold;"/>
                            <h:outputText value="" style="font-weight:bold;"/>
                            <h:outputText value="" style="font-weight:bold;"/>
                            <h:outputText value="Lote" style="font-weight:bold;"/>
                            <h:outputText value="Fecha Vencimiento" style="font-weight:bold;"/>
                            <h:outputText value="Cantidad" style="font-weight:bold;"/>
                            <h:outputText value="" style="font-weight:bold;"/>
                            <h:outputText value="" style="font-weight:bold;"/>
                            <p:inputText maxlength="50" size="35" value="#{invCompras.det_lot_det_lot}" />
                            <p:calendar  value="#{invCompras.ddetlotfecven}"
                                         pattern="dd/MM/yyyy" 
                                         locale="es" 
                                         readonlyInput="true" 
                                         showOn="button" 
                                         size="12"
                                         style="width: 10px"
                                         navigator="true"
                                         id="calcomprodu"
                                         >
                                <p:ajax event="dateSelect" listener="#{invCompras.dateSelectedVencLot}" />
                            </p:calendar>
                            <p:inputNumber value="#{invCompras.det_lot_can_lot}" size="15" minValue="0" decimalPlaces="2" />
                            <p:commandButton title="Agregar" 
                                             icon="ui-icon-plus" 
                                             style=" width: 30px;" 
                                             actionListener="#{invCompras.agregardetalleLote()}" 
                                             update=":frmDetLotesCom"
                                             />
                            <p:commandButton title="Remover" 
                                             icon="ui-icon-minus" 
                                             style=" width: 30px;" 
                                             actionListener="#{invCompras.eliminardetalleLote()}" 
                                             update=":frmDetLotesCom"
                                             />
                        </h:panelGrid>
                    </div>
                    <p:dataTable id="dtLotesDetCom" var="vLotesDetCom" 
                                 value="#{invCompras.detallelotes}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" 
                                 selection="#{invCompras.catdetlotcomp}" 
                                 rowKey="#{vLotesDetCom.det_lot}"
                                 editable="false" 
                                 style="width:590px"
                                 scrollable="true"
                                 scrollHeight="100"
                                 >
                        <p:ajax event="rowSelect" listener="#{invCompras.onRowSelectDetalleLote}" 
                                update=":frmDetLotesCom"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:35px" headerText="Lote">
                            <h:outputText value="#{vLotesDetCom.det_lot}" />
                        </p:column>
                        <p:column style="width:35px" headerText="F. Vencimiento">
                            <h:outputText value="#{vLotesDetCom.fec_ven}" />
                        </p:column>
                        <p:column style="width:30px" headerText="Cantidad">
                            <h:outputText value="#{vLotesDetCom.det_can_pen}" />
                        </p:column>

                    </p:dataTable>

                </p:panel>
            </h:form>
        </p:dialog>


        <!--********************************************************************
        ******************** PANTALLA CORRECCIÓN DE SALDOS *********************
        *********************************************************************-->

        <p:dialog  id="dlgCorrectorSaldos" widgetVar="wCorrectorSaldos" modal="true" 
                   width="500" height="250" closable="false" resizable="false" 
                   header="Actualización global de Saldos" rendered="true" 
                   dynamic="false" visible="false" style=" background: #a3c1ff;"
                   >
            <h:form id="frmCorrectorSaldos">
                <p:growl id="msgCorrectorSaldos" showDetail="true" life="8500"/>
                <p:toolbar style="background: #FFFFFF;">
                    <f:facet name="left">

                        <p:commandButton value="Cargar" style=" width: 100px; background:  #4e6a71; color: #F3F3F3;"
                                         actionListener="#{invCorrector.cargarsolicitudes()}"
                                         update=":frmCorrectorSaldos"
                                         icon="fa fa-search"
                                         /> 

                        <p:commandButton value="Procesar" style=" width: 100px; background:  #4e6a71; color: #F3F3F3;"
                                         actionListener="#{invCorrector.corregir()}"
                                         update=":frmCorrectorSaldos"
                                         icon="fa fa-gears"
                                         > 
                            <p:confirm header="Procesar" 
                                       message="¿Realmente desea realizar este proceso?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>



                    </f:facet>
                    <f:facet name="right">
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wCorrectorSaldos').hide()"
                                         actionListener="#{invCorrector.cerrarventana()}"
                                         update=":frmCorrectorSaldos"
                                         icon="ui-icon-close"
                                         />
                    </f:facet>
                </p:toolbar>

                <p:panel style="background: #FFFFFF;">
                    <div style=" background: #e2ecfe;">
                        <h:panelGrid columns="2" cellpadding="5" >
                            <h:outputText value="Fecha" style="font-weight:bold;"/>
                            <h:outputText value="País" style="font-weight:bold;"/>
                            <p:calendar  value="#{invCorrector.mfecha}"
                                         pattern="dd/MM/yyyy" 
                                         locale="es" 
                                         readonlyInput="true" 
                                         showOn="button" 
                                         size="12"
                                         style="width: 10px"
                                         navigator="true"
                                         disabled ="#{invCorrector.lock}"
                                         >
                                <p:ajax event="dateSelect" listener="#{invCorrector.dateSelectedAction}" />
                            </p:calendar>
                            <p:selectOneMenu value="#{invCorrector.cod_pai}" 
                                             style=" width: 180px;"
                                             disabled ="#{invCorrector.lock}"
                                             autoWidth="false"
                                             filter ="true"
                                             filterMatchMode="contains"
                                             >

                                <p:ajax event="change" listener="#{invCorrector.onSelectPais()}" />

                                <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                <f:selectItems value="#{invCorrector.paises}" var="sompaicorrsol"
                                               itemLabel="#{sompaicorrsol.descripcion}" itemValue="#{sompaicorrsol.codigo}"/> 
                            </p:selectOneMenu>
                            <h:outputText value="Total Registros" style="font-weight:bold;"/>
                            <h:outputText value="Registro Actual" style="font-weight:bold;"/>
                            <h:outputText value="#{invCorrector.totalregistros}" style="font-weight:bold; color: red;"/>
                            <h:outputText value="#{invCorrector.registroactual}" style="font-weight:bold; color: red;"/>
                        </h:panelGrid>
                        <h:panelGrid columns="1" cellpadding="5" >
                            <h:outputText value="Estado" style="font-weight:bold;"/>
                            <p:inputTextarea value="#{invCorrector.statusaccion}" readonly="true" rows="3" cols="63"/>
                        </h:panelGrid>
                    </div>
                </p:panel>
            </h:form>
        </p:dialog>    

        <!-- *******************************************************************
        **************** Pantalla Lista Específica Especialistas ***************
        *********************************************************************-->

        <p:dialog  id="dlgLisEspEsp" widgetVar="wLisEspEsp" modal="true" 
                   width="580" height="400" closable="false" resizable="false" 
                   header="Listado de Usuarios" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmLisEspEsp"> 
                <p:growl id="msgLisEspEsp" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{invListaEspecifica.nuevo()}"
                                         update=":frmLisEspEsp"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         action="#{invListaEspecifica.guardar()}"
                                         update=":frmLisEspEsp"
                                         icon="ui-icon-disk"
                                         />
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{invListaEspecifica.eliminar()}"
                                         update=":frmLisEspEsp"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar" 
                                       message="¿Realmente desea eliminar este registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wLisEspEsp').hide()"
                                         action="#{invListaEspecifica.cerrarventana()}" 
                                         update=":frmLisEspEsp"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>
                <p:panel>
                    <div style=" background-color: #ebf8fe;">
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Lista" style="font-weight:bold;"/>
                            <p:selectOneMenu value="#{invListaEspecifica.cod_lis}" 
                                             style="width:440px;text-align:right;"
                                             immediate="false"
                                             autoWidth="false"
                                             >  
                                <p:ajax event="change" listener="#{invListaEspecifica.llenarLista()}" update=":frmLisEspEsp" />
                                <f:selectItem itemLabel="Seleccione una" itemValue="0" />
                                <f:selectItem itemLabel="Usuarios Almacén" itemValue="1" />
                            </p:selectOneMenu>
                            <h:outputText value="Usuarios" style="font-weight:bold;" />
                            <p:selectOneMenu value="#{invListaEspecifica.cod_usu}" 
                                             style="width:440px;text-align:right;"
                                             immediate="false"
                                             autoWidth="false"
                                             >  
                                <f:selectItem itemLabel="Seleccione uno" itemValue="0" />  
                                <f:selectItems value="#{invListaEspecifica.usuarios}" var="somusuinvusuesp"
                                               itemLabel="#{somusuinvusuesp.det_nom}" itemValue="#{somusuinvusuesp.cod_usu}"/>
                            </p:selectOneMenu>

                        </h:panelGrid>
                    </div>
                </p:panel>
                <p:dataTable id="dtDetLisEspEsp" var="vDetLisEspEsp" 
                             value="#{invListaEspecifica.lista}" 
                             emptyMessage="No results found" 
                             selectionMode="single" selection="#{invListaEspecifica.catlistaespecifica}" 
                             rowKey="#{vDetLisEspEsp.cod_lis},#{vDetLisEspEsp.cod_usu}"
                             editable="false" 
                             style="width:540px"
                             scrollable="true"
                             scrollHeight="220"
                             >
                    <p:ajax event="rowSelect" listener="#{invListaEspecifica.onRowSelect}" 
                            update=":frmLisEspEsp" />
                    <p:column style="width:10px" headerText="Usuario">
                        <h:outputText value="#{vDetLisEspEsp.nom_usu}" />
                    </p:column>
                </p:dataTable>


            </h:form>
        </p:dialog>  

        <!--*********** CONTROL MANTENIMIENTO EQUIPOS IT ********************-->

        <!-- *******************************************************************
        **************** Pantalla Mantenimiento Equipos IT *********************
        *********************************************************************-->

        <p:dialog  id="dlgManIt" widgetVar="wManIt" modal="true" 
                   width="1200" height="600" closable="false" resizable="false" 
                   header="Mantenimiento de Equipos IT" rendered="true" 
                   dynamic="true" visible="false"  
                   >

            <h:form id="frmManIt"> 
                <p:growl id="msgManIt" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manEquiposIT.nuevo()}"
                                         update=":frmManIt"
                                         icon="ui-icon-document"
                                         />
                    </f:facet>
                    <f:facet name="right">
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wManIt').hide()"
                                         action="#{manEquiposIT.cerrarventana()}" 
                                         update=":frmManIt"
                                         icon="ui-icon-close"
                                         />
                    </f:facet>
                    
                </p:toolbar>
                <div  style="background-color: #ebf8fe;" >
                    <h:panelGrid columns="2" cellpadding="5">
                        
                        <p:panel style="background-color: #ebf8fe;">
                            <h:panelGrid columns="6" cellpadding="5" styleClass="noBorders">
                                <h:outputText value="País" style="font-weight:bold;" />
                                <h:outputText value="Tipo de Equipo" style="font-weight:bold;" />
                                <h:outputText value="Código" style="font-weight:bold;" />
                                <h:outputText value="Imagen" style="font-weight:bold;" />
                                <h:outputText value="" style="font-weight:bold;" />
                                <h:outputText value="" style="font-weight:bold;" />
                                <p:selectOneMenu value="#{manEquiposIT.cod_pai}" style=" width: 150px;" autoWidth="false"
                                                 filter="true"
                                                 filterMatchMode="contains"
                                                 >
                                    <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                    <f:selectItems value="#{manEquiposIT.paises}" var="sompaiequit"
                                                   itemLabel="#{sompaiequit.nom_pai}" itemValue="#{sompaiequit.cod_pai}"/> 
                                </p:selectOneMenu>
                                <p:selectOneMenu value="#{manEquiposIT.tip_equ}" style=" width: 150px;" autoWidth="false">
                                    <f:selectItem itemLabel="Seleccione Uno" itemValue=""/>
                                    <f:selectItem itemLabel="Desktop" itemValue="Desktop"/>
                                    <f:selectItem itemLabel="Laptop" itemValue="Laptop"/>
                                    <f:selectItem itemLabel="Impresora" itemValue="Impresora"/>
                                    <f:selectItem itemLabel="Servidor" itemValue="Servidor"/>
                                    <f:selectItem itemLabel="Proyector" itemValue="Proyector"/>
                                    <f:selectItem itemLabel="Switch" itemValue="Switch"/>
                                    <f:selectItem itemLabel="Router" itemValue="Router"/>
                                    <f:selectItem itemLabel="UPS" itemValue="UPS"/>
                                    <f:selectItem itemLabel="Regulador" itemValue="Regulador"/>
                                    <f:selectItem itemLabel="Otro" itemValue="Otro"/>
                                </p:selectOneMenu>
                                <p:inputText value="#{manEquiposIT.cod_equ}" maxlength="150" size="25" />
                                <p:fileUpload 
                                      fileUploadListener="#{manEquipos.upload}" 
                                      mode="simple" 
                                      fileLimit="1" 
                                      allowTypes="/(\.|\/)(jpg|JPG|jepg|JEPG|gif|GIF|png|PNG)$/" 
                                      update=":frmEquipos:msgEquipos,:frmEquipos:imgequ"
                                      label="Anexo" 
                                      cancelLabel="Cancelar" 
                                      uploadLabel="Cargar" 
                                      auto="true"
                                      />
                                <p:commandButton style=" width: 30px;  background: forestgreen; color: #FFFFFF;"
                                                 action="#{manEquiposIT.guardarEquipo()}" 
                                         update=":frmManIt"
                                         icon="fa fa-floppy-o"
                                         title="Agregar"
                                         />
                                <p:commandButton style=" width: 30px; background: #bd2828; color: #FFFFFF;"
                                                 action="#{manEquiposIT.eliminarEquipo()}" 
                                                 update=":frmManIt"
                                                 icon="fa fa-trash-o"
                                                 title="Eliminar"
                                                 />
                               
                            </h:panelGrid>
                             
                            <p:dataTable id="dtItEnc" var="vdtItEnc" 
                                         value="#{manEquiposIT.equipos}" 
                                         emptyMessage="No se encontraron resultados" 
                                         selectionMode="single" 
                                         selection="#{manEquiposIT.catlisequ}" 
                                         rowKey="#{vdtItEnc.cod_lis_equ}"
                                         editable="false" 
                                         style="width:900px;"
                                         scrollable="true"
                                         scrollHeight="110"
                                         >
                                <p:ajax event="rowSelect" listener="#{manEquiposIT.onRowSelectEnc}" 
                                        update=":frmManIt" />

                                <p:column style="width:80px" headerText="País">
                                    <h:outputText value="#{vdtItEnc.nompai}" />
                                </p:column>
                                <p:column style="width:100px" headerText="Cliente Actual">
                                    <h:outputText value="#{vdtItEnc.nomcli}" />
                                </p:column>
                                <p:column style="width:100px" headerText="Tipo Equipo">
                                    <h:outputText value="#{vdtItEnc.tip_equ}" />
                                </p:column>
                                <p:column style="width:150px" headerText="Código">
                                    <h:outputText value="#{vdtItEnc.cod_equ}" />
                                </p:column>
                            </p:dataTable>

                        
                        </p:panel>
                        <p:panel>
                            <h:graphicImage width="180" height="180" value="logo.png" />
                        </p:panel>
                        
                    </h:panelGrid>

                </div>

                <p:tabView activeIndex="0" >
                    <p:tab title="Piezas" id="tbItPiezas">
                        <div style=" background-color: #ebf8fe;" >
                            <h:panelGrid columns="2" cellpadding="3" >
                                <p:panel style="background-color: #ebf8fe;">
                                
                                    <h:panelGrid columns="5" cellpadding="5" styleClass="noBorders">
                                        <h:outputText value="Código" style="font-weight:bold;" />
                                        <h:outputText value="Nombre" style="font-weight:bold;" />
                                        <h:outputText value="Marca" style="font-weight:bold;" />
                                        <h:outputText value="Modelo" style="font-weight:bold;" />
                                        <h:outputText value="Serie" style="font-weight:bold;" />
                                        <p:inputText value="0" maxlength="20" size="20" />
                                        <p:inputText value="0" maxlength="200" size="22" />
                                        <p:inputText value="0" maxlength="200" size="22" />
                                        <p:inputText value="0" maxlength="200" size="25" />
                                        <p:inputText value="0" maxlength="200" size="25" />

                                        <h:outputText value="Sistema Operativo" style="font-weight:bold;" />
                                        <h:outputText value="Bits" style="font-weight:bold;" />
                                        <h:outputText value="Fecha Adquisición" style="font-weight:bold;" />
                                        <h:outputText value="Fecha Retiro" style="font-weight:bold;" />
                                        <h:outputText value="Estado" style="font-weight:bold;" />
                                        <p:selectOneMenu value="#{manUsuarios.cod_pai}" style=" width: 150px;" autoWidth="false"
                                                         filter="true"
                                                         filterMatchMode="contains"
                                                         >
                                            <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                            <f:selectItems value="#{manUsuarios.paises}" var="mpaiusu"
                                                           itemLabel="#{mpaiusu.nom_pai}" itemValue="#{mpaiusu.cod_pai}"/> 
                                        </p:selectOneMenu>
                                        <p:selectOneMenu value="#{manUsuarios.tip_usu}" style=" width: 80px;" autoWidth="false">
                                            <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                            <f:selectItem itemLabel="32 bits" itemValue="32 bits"/>
                                            <f:selectItem itemLabel="64 bits" itemValue="64 bits"/>
                                        </p:selectOneMenu>
                                        <p:calendar  pattern="dd/MM/yyyy" locale="es"
                                                     readonlyInput="true" 
                                                     showOn="button" size="16"
                                                     value="#{lupControlLicencias.dcadede}"
                                                     navigator="true"
                                                     >
                                            <p:ajax event="dateSelect" listener="#{lupControlLicencias.dateSelectedcadede}" />
                                        </p:calendar> 
                                        <h:panelGroup>
                                            <p:selectBooleanCheckbox value="true" />
                                            <p:spacer width="10px"/>
                                            <p:calendar  pattern="dd/MM/yyyy" locale="es"
                                                         readonlyInput="true" 
                                                         showOn="button" size="16"
                                                         value="#{lupControlLicencias.dcadede}"
                                                         navigator="true"
                                                         >
                                                <p:ajax event="dateSelect" listener="#{lupControlLicencias.dateSelectedcadede}" />
                                            </p:calendar>
                                        </h:panelGroup>

                                        <p:selectOneMenu value="#{manUsuarios.tip_usu}" style=" width: 100px;" autoWidth="false">
                                            <f:selectItem itemLabel="Operativo" itemValue="Operativo"/>
                                            <f:selectItem itemLabel="Deficiente" itemValue="Deficiente"/>
                                            <f:selectItem itemLabel="Inservible" itemValue="Inservible"/>
                                        </p:selectOneMenu>

                                    </h:panelGrid>
                                    <h:panelGrid columns="1" cellpadding="5" styleClass="noBorders">
                                        <h:outputText value="Observaciones" style="font-weight:bold;" />
                                        <p:inputTextarea cols="131" rows="1" value ="0" />  
                                    </h:panelGrid>

                                    <p:dataTable id="dtItEncDet" var="vdtItEncDet" 
                                                 value="#{manUsuarios.usuarios}" 
                                                 emptyMessage="No se encontraron resultados" 
                                                 selectionMode="single" selection="#{manUsuarios.catusuarios}" 
                                                 rowKey="#{vdtItEncDet.cod_usu}"
                                                 editable="false" 
                                                 style="width:864px"
                                                 scrollable="true"
                                                 scrollHeight="90"
                                                 >
                                        <p:ajax event="rowSelect" listener="#{manUsuarios.onRowSelect}" 
                                                update=":frmManIt" />

                                        <p:column style="width:50px" headerText="País">
                                            <h:outputText value="#{vdtItEncDet.nom_usu}" />
                                        </p:column>
                                        <p:column style="width:100px" headerText="Tipo Equipo">
                                            <h:outputText value="#{vdtItEncDet.nomdep}" />
                                        </p:column>
                                        <p:column style="width:200px" headerText="Código">
                                            <h:outputText value="#{vdtItEncDet.det_nom}" />
                                        </p:column>
                                    </p:dataTable>
                                
                                </p:panel>
                                <p:panel>
                                <h:graphicImage width="200" height="200" value="logo.png" />
                                </p:panel>
                            </h:panelGrid>
                        </div>

                    </p:tab>
                    <p:tab title="Asignaciones" id="tbItAsignaciones">
                        <div style=" background-color: #ebf8fe;">
                            <h:panelGrid columns="6" cellpadding="5">
                                <h:outputText value="Fecha Asignación" style="font-weight:bold;" />
                                <h:outputText value="País" style="font-weight:bold;" />
                                <h:outputText value="Cliente" style="font-weight:bold;" />
                                <h:outputText value="Departamento" style="font-weight:bold;" />
                                <h:outputText value="Usuario" style="font-weight:bold;" />
                                <h:outputText value="Fecha Remoción" style="font-weight:bold;" />
                                <p:calendar  pattern="dd/MM/yyyy" locale="es"
                                             readonlyInput="true" 
                                             showOn="button" size="16"
                                             value="#{lupControlLicencias.dcadede}"
                                             navigator="true"
                                             >
                                    <p:ajax event="dateSelect" listener="#{lupControlLicencias.dateSelectedcadede}" />
                                </p:calendar>
                                <p:selectOneMenu value="#{manUsuarios.cod_pai}" style=" width: 150px;" autoWidth="false"
                                                 filter="true"
                                                 filterMatchMode="contains"
                                                 >
                                    <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                    <f:selectItems value="#{manUsuarios.paises}" var="mpaiusu"
                                                   itemLabel="#{mpaiusu.nom_pai}" itemValue="#{mpaiusu.cod_pai}"/> 
                                </p:selectOneMenu>
                                <p:selectOneMenu value="#{manUsuarios.cod_pai}" style=" width: 170px;" autoWidth="false"
                                                 filter="true"
                                                 filterMatchMode="contains"
                                                 >
                                    <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                    <f:selectItems value="#{manUsuarios.paises}" var="mpaiusu"
                                                   itemLabel="#{mpaiusu.nom_pai}" itemValue="#{mpaiusu.cod_pai}"/> 
                                </p:selectOneMenu>
                                <p:selectOneMenu value="#{manUsuarios.cod_pai}" style=" width: 140px;" autoWidth="false"
                                                 filter="true"
                                                 filterMatchMode="contains"
                                                 >
                                    <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                    <f:selectItems value="#{manUsuarios.paises}" var="mpaiusu"
                                                   itemLabel="#{mpaiusu.nom_pai}" itemValue="#{mpaiusu.cod_pai}"/> 
                                </p:selectOneMenu>
                                <p:selectOneMenu value="#{manUsuarios.cod_pai}" style=" width: 170px;" autoWidth="false"
                                                 filter="true"
                                                 filterMatchMode="contains"
                                                 >
                                    <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                    <f:selectItems value="#{manUsuarios.paises}" var="mpaiusu"
                                                   itemLabel="#{mpaiusu.nom_pai}" itemValue="#{mpaiusu.cod_pai}"/> 
                                </p:selectOneMenu>


                                <p:calendar  pattern="dd/MM/yyyy" locale="es"
                                             readonlyInput="true" 
                                             showOn="button" size="16"
                                             value="#{lupControlLicencias.dcadede}"
                                             navigator="true"
                                             >
                                    <p:ajax event="dateSelect" listener="#{lupControlLicencias.dateSelectedcadede}" />
                                </p:calendar> 


                            </h:panelGrid>
                            <p:dataTable id="dtItAsig" var="vdtItAsig" 
                                         value="#{manUsuarios.usuarios}" 
                                         emptyMessage="No se encontraron resultados" 
                                         selectionMode="single" selection="#{manUsuarios.catusuarios}" 
                                         rowKey="#{vdtItAsig.cod_usu}"
                                         editable="false" 
                                         style="width:1140px"
                                         scrollable="true"
                                         scrollHeight="210"
                                         >
                                <p:ajax event="rowSelect" listener="#{manUsuarios.onRowSelect}" 
                                        update=":frmManIt" />

                                <p:column style="width:50px" headerText="País">
                                    <h:outputText value="#{vdtItAsig.nom_usu}" />
                                </p:column>
                                <p:column style="width:100px" headerText="Tipo Equipo">
                                    <h:outputText value="#{vdtItAsig.nomdep}" />
                                </p:column>
                                <p:column style="width:200px" headerText="Código">
                                    <h:outputText value="#{vdtItAsig.det_nom}" />
                                </p:column>
                            </p:dataTable>

                        </div>
                    </p:tab>
                    <p:tab title="Mantenimientos" id="tbItMantenimientos">
                        <h:panelGrid columns="2" cellpadding="5">
                            <p:panel header="Encabezado" styleClass="noBorders">
                                <h:panelGrid columns="3" cellpadding="3">
                                    <h:outputText value="Fecha Inicio" style="font-weight:bold;" />
                                    <h:outputText value="Tipo Mantenimiento" style="font-weight:bold;" />
                                    <h:outputText value="Responsable" style="font-weight:bold;" />
                                    <p:calendar  pattern="dd/MM/yyyy" locale="es"
                                                 readonlyInput="true" 
                                                 showOn="button" size="16"
                                                 value="#{lupControlLicencias.dcadede}"
                                                 navigator="true"
                                                 >
                                        <p:ajax event="dateSelect" listener="#{lupControlLicencias.dateSelectedcadede}" />
                                    </p:calendar>
                                    <p:selectOneMenu value="#{manUsuarios.cod_pai}" style=" width: 150px;" autoWidth="false"
                                                     filter="true"
                                                     filterMatchMode="contains"
                                                     >
                                        <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                        <f:selectItems value="#{manUsuarios.paises}" var="mpaiusu"
                                                       itemLabel="#{mpaiusu.nom_pai}" itemValue="#{mpaiusu.cod_pai}"/> 
                                    </p:selectOneMenu>
                                    <p:selectOneMenu value="#{manUsuarios.cod_pai}" style=" width: 150px;" autoWidth="false"
                                                     filter="true"
                                                     filterMatchMode="contains"
                                                     >
                                        <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                        <f:selectItems value="#{manUsuarios.paises}" var="mpaiusu"
                                                       itemLabel="#{mpaiusu.nom_pai}" itemValue="#{mpaiusu.cod_pai}"/> 
                                    </p:selectOneMenu>
                                
                                </h:panelGrid>
                                
                                <h:panelGrid columns="1" cellpadding="3">
                                    <h:outputText value="Comentarios" style="font-weight:bold;" />
                                    <p:inputTextarea value="0" cols="74" rows="1"/>
                                </h:panelGrid>
                                <h:panelGrid columns="1" cellpadding="3">
                                    <h:outputText value="Fecha Final" style="font-weight:bold;" />
                                    <p:calendar  pattern="dd/MM/yyyy" locale="es"
                                                 readonlyInput="true" 
                                                 showOn="button" size="16"
                                                 value="#{lupControlLicencias.dcadede}"
                                                 navigator="true"
                                                 >
                                        <p:ajax event="dateSelect" listener="#{lupControlLicencias.dateSelectedcadede}" />
                                    </p:calendar>
                                    
                                </h:panelGrid>
                                
          
                            </p:panel>
                            <p:panel header="Detalle" styleClass="noBorders">
                                <h:panelGrid columns="3" cellpadding="3">
                                    <h:outputText value="Fecha Acción" style="font-weight:bold;" />
                                    <h:outputText value="Pieza" style="font-weight:bold;" />
                                    <h:outputText value="Responsable" style="font-weight:bold;" />
                                    <p:calendar  pattern="dd/MM/yyyy" locale="es"
                                                 readonlyInput="true" 
                                                 showOn="button" size="16"
                                                 value="#{lupControlLicencias.dcadede}"
                                                 navigator="true"
                                                 >
                                        <p:ajax event="dateSelect" listener="#{lupControlLicencias.dateSelectedcadede}" />
                                    </p:calendar>
                                    <p:selectOneMenu value="#{manUsuarios.cod_pai}" style=" width: 150px;" autoWidth="false"
                                                     filter="true"
                                                     filterMatchMode="contains"
                                                     >
                                        <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                        <f:selectItems value="#{manUsuarios.paises}" var="mpaiusu"
                                                       itemLabel="#{mpaiusu.nom_pai}" itemValue="#{mpaiusu.cod_pai}"/> 
                                    </p:selectOneMenu>
                                    <p:selectOneMenu value="#{manUsuarios.cod_pai}" style=" width: 150px;" autoWidth="false"
                                                     filter="true"
                                                     filterMatchMode="contains"
                                                     >
                                        <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                        <f:selectItems value="#{manUsuarios.paises}" var="mpaiusu"
                                                       itemLabel="#{mpaiusu.nom_pai}" itemValue="#{mpaiusu.cod_pai}"/> 
                                    </p:selectOneMenu>
                                
                                </h:panelGrid>  
                                
                                <h:panelGrid columns="1" cellpadding="3">
                                    <h:outputText value="Comentarios" style="font-weight:bold;" />
                                    <p:inputTextarea value="0" cols="74" rows="1"/>
                                </h:panelGrid>
                                <h:panelGrid columns="3" cellpadding="3">
                                    <h:outputText value="Tiempo (Minutos)" style="font-weight:bold;" />
                                    <h:outputText value="Costo" style="font-weight:bold;" />
                                    <h:outputText value="Anexo" style="font-weight:bold;" />
                                    <p:inputNumber decimalPlaces="0" minValue="0" size="10"/>
                                    <p:inputNumber decimalPlaces="2" minValue="0" size="15"/>
                                    <p:fileUpload 
                                      fileUploadListener="#{manEquipos.upload}" 
                                      mode="simple" 
                                      fileLimit="1" 
                                      allowTypes="/(\.|\/)(jpg|JPG|jepg|JEPG|gif|GIF|png|PNG)$/" 
                                      update=":frmEquipos:msgEquipos,:frmEquipos:imgequ"
                                      label="Anexo" 
                                      cancelLabel="Cancelar" 
                                      uploadLabel="Cargar" 
                                      auto="true"
                                      />
                                </h:panelGrid>
                                    
                            </p:panel>
                            <p:dataTable id="dtItManMae" var="vdtItManMae" 
                                value="#{manUsuarios.usuarios}" 
                                emptyMessage="No se encontraron resultados" 
                                selectionMode="single" selection="#{manUsuarios.catusuarios}" 
                                rowKey="#{vdtItManMae.cod_usu}"
                                editable="false" 
                                style="width:530px"
                                scrollable="true"
                                scrollHeight="75"
                                >
                               <p:ajax event="rowSelect" listener="#{manUsuarios.onRowSelect}" 
                                       update=":frmManIt" />

                               <p:column style="width:50px" headerText="País">
                                   <h:outputText value="#{vdtItManMae.nom_usu}" />
                               </p:column>
                               <p:column style="width:100px" headerText="Tipo Equipo">
                                   <h:outputText value="#{vdtItManMae.nomdep}" />
                               </p:column>
                               <p:column style="width:200px" headerText="Código">
                                   <h:outputText value="#{vdtItManMae.det_nom}" />
                               </p:column>
                           </p:dataTable>
                            
                           <p:dataTable id="dtItManDet" var="vdtItManDet" 
                                value="#{manUsuarios.usuarios}" 
                                emptyMessage="No se encontraron resultados" 
                                selectionMode="single" selection="#{manUsuarios.catusuarios}" 
                                rowKey="#{vdtItManDet.cod_usu}"
                                editable="false" 
                                style="width:530px"
                                scrollable="true"
                                scrollHeight="75"
                                >
                               <p:ajax event="rowSelect" listener="#{manUsuarios.onRowSelect}" 
                                       update=":frmManIt" />

                               <p:column style="width:50px" headerText="País">
                                   <h:outputText value="#{vdtItManDet.nom_usu}" />
                               </p:column>
                               <p:column style="width:100px" headerText="Tipo Equipo">
                                   <h:outputText value="#{vdtItManDet.nomdep}" />
                               </p:column>
                               <p:column style="width:200px" headerText="Código">
                                   <h:outputText value="#{vdtItManDet.det_nom}" />
                               </p:column>
                           </p:dataTable> 
                        </h:panelGrid>    
                    </p:tab>    

                </p:tabView>



            </h:form>
        </p:dialog>


        <!--*************************** SEGURIDAD ***************************-->





        <!-- *******************************************************************
        **************** Pantalla mantenimiento de usuarios ********************
        *********************************************************************-->

        <p:dialog  id="dlgUsuarios" widgetVar="wUsuarios" modal="true" 
                   width="500" height="490" closable="false" resizable="false" 
                   header="Mantenimiento Usuarios" rendered="true" 
                   dynamic="true" visible="false" 
                   >

            <h:form id="frmUsuarios"> 
                <p:growl id="msgUsuarios" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manUsuarios.nuevo()}"
                                         update=":frmUsuarios"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         action="#{manUsuarios.guardar()}"
                                         update=":frmUsuarios"
                                         icon="ui-icon-disk"
                                         />
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manUsuarios.eliminar()}"
                                         update=":frmUsuarios"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wUsuarios').hide()"
                                         action="#{manUsuarios.cerrarventana()}" 
                                         update=":frmUsuarios"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>
                <div style=" background-color: #ebf8fe;">
                    <h:panelGrid columns="2" cellpadding="5">
                        <h:outputText value="Usuario" style="font-weight:bold;" />
                        <p:inputText maxlength="15" size="17" value="#{manUsuarios.nom_usu}" 
                                     onfocus="this.select()"/>
                        <h:outputText value="Contraseña" style="font-weight:bold;" />
                        <p:password maxlength="15" size="17" value="#{manUsuarios.des_pas}" 
                                    onfocus="this.select()"/>
                        <h:outputText value="Tipo Usuario" style="font-weight:bold;" />
                        <p:selectOneMenu value="#{manUsuarios.tip_usu}" style=" width: 150px;" autoWidth="false">
                            <f:selectItem itemLabel="Usuario" itemValue="0"/>
                            <f:selectItem itemLabel="Usuario Avanzado" itemValue="6"/>
                            <f:selectItem itemLabel="Administrador" itemValue="7"/>
                        </p:selectOneMenu>
                        <h:outputText value="Nombre" style="font-weight:bold;" />
                        <p:inputText maxlength="125" size="45" value="#{manUsuarios.det_nom}" 
                                     onfocus="this.select()"/>
                        <h:outputText value="Correo" style="font-weight:bold;" />
                        <p:inputText maxlength="50" size="45" value="#{manUsuarios.det_mai}" 
                                     onfocus="this.select()"/>
                        <h:outputText value="País" style="font-weight:bold;" />
                        <p:selectOneMenu value="#{manUsuarios.cod_pai}" style=" width: 150px;" autoWidth="false"
                                         filter="true"
                                         filterMatchMode="contains"
                                         >
                            <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                            <f:selectItems value="#{manUsuarios.paises}" var="mpaiusu"
                                           itemLabel="#{mpaiusu.nom_pai}" itemValue="#{mpaiusu.cod_pai}"/> 
                        </p:selectOneMenu>
                        <h:outputText value="Departamento" style="font-weight:bold;" />
                        <p:selectOneMenu value="#{manUsuarios.cod_dep}" style=" width: 150px;" autoWidth="false">
                            <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                            <f:selectItems value="#{manUsuarios.departamentos}" var="mdepusu"
                                           itemLabel="#{mdepusu.nom_dep}" itemValue="#{mdepusu.cod_dep}"/> 
                        </p:selectOneMenu>
                    </h:panelGrid>
                    <p:dataTable id="dtUsuarios" var="vUsu" 
                                 value="#{manUsuarios.usuarios}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manUsuarios.catusuarios}" 
                                 rowKey="#{vUsu.cod_usu}"
                                 editable="false" 
                                 style="width:475px"
                                 scrollable="true"
                                 scrollHeight="130"
                                 >
                        <p:ajax event="rowSelect" listener="#{manUsuarios.onRowSelect}" 
                                update=":frmUsuarios" />

                        <p:column style="width:50px" headerText="Usuario">
                            <h:outputText value="#{vUsu.nom_usu}" />
                        </p:column>
                        <p:column style="width:100px" headerText="Departamento">
                            <h:outputText value="#{vUsu.nomdep}" />
                        </p:column>
                        <p:column style="width:200px" headerText="Nombre" filterBy="#{vUsu.det_nom}" filterMatchMode="contains" >
                            <h:outputText value="#{vUsu.det_nom}" />
                        </p:column>
                    </p:dataTable>
                </div>

            </h:form>
        </p:dialog>  

        <!-- *******************************************************************
        ************** Pantalla mantenimiento de Departamentos *****************
        *********************************************************************-->

        <p:dialog  id="dlgDepartamentos" widgetVar="wDepartamentos" modal="true" 
                   width="440" height="320" closable="false" resizable="false" 
                   header="Mantenimiento Departamentos" rendered="true" 
                   dynamic="true" visible="false" 
                   >

            <h:form id="frmDepartamentos"> 
                <p:growl id="msgDepartamentos" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manDepartamentos.nuevo()}"
                                         update=":frmDepartamentos"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         action="#{manDepartamentos.guardar()}"
                                         update=":frmDepartamentos"
                                         icon="ui-icon-disk"
                                         />

                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manDepartamentos.eliminar()}"
                                         update=":frmDepartamentos"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wDepartamentos').hide()"
                                         action="#{manDepartamentos.cerrarventana()}" 
                                         update=":frmDepartamentos"
                                         icon="ui-icon-close"
                                         />


                    </f:facet>
                </p:toolbar>
                <div style=" background-color: #ebf8fe;">
                    <h:panelGrid columns="2" cellpadding="5">
                        <h:outputText value="Nombre" style="font-weight:bold;" />
                        <p:inputText maxlength="20" size="45" value="#{manDepartamentos.nom_dep}" 
                                     onfocus="this.select()"/>
                    </h:panelGrid>
                    <p:dataTable id="dtDepartamentos" var="vDep" 
                                 value="#{manDepartamentos.departamentos}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manDepartamentos.catdepartamentos}" 
                                 rowKey="#{vDep.cod_dep}"
                                 editable="false" 
                                 style="width:415px"
                                 scrollable="true"
                                 scrollHeight="200"
                                 >
                        <p:ajax event="rowSelect" listener="#{manDepartamentos.onRowSelect}" 
                                update=":frmDepartamentos" />

                        <p:column style="width:50px" headerText="Departamento">
                            <h:outputText value="#{vDep.nom_dep}" />
                        </p:column>

                    </p:dataTable>
                </div>

            </h:form>
        </p:dialog>  

        <!--******************************************************************** 
        ********* Pantalla mantenimiento de Grupos de Seguridad ****************
        *********************************************************************-->

        <p:dialog  id="dlgGrupo" widgetVar="wGrupo" modal="true" 
                   width="440" height="290" closable="false" resizable="false" 
                   header="Mantenimiento de Grupos" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmGrupo"> 
                <p:growl id="msgGrupo" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manGrupos.nuevo()}"
                                         update=":frmGrupo"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{manGrupos.guardar()}"
                                         update=":frmGrupo"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manGrupos.eliminar()}"
                                         update=":frmGrupo"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wGrupo').hide()"
                                         actionListener="#{manGrupos.cerrarventana()}"
                                         update=":frmGrupo"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color: #dfecf1;">
                        <p:focus for="txtdescripciongrupo" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Nombre" style="font-weight:bold;"/>
                            <p:inputText id="txtdescripciongrupo" 
                                         size="50"
                                         maxlength="50"
                                         value="#{manGrupos.des_grp}"
                                         onfocus="this.select()"
                                         />
                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel>
                    <p:dataTable id="dtGrupo" var="vGrupo" 
                                 value="#{manGrupos.grupos}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manGrupos.catgrupos}" 
                                 rowKey="#{vGrupo.id_grp}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="130"
                                 style="width:390px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manGrupos.onRowSelect}" 
                                update=":frmGrupo"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:30px" headerText="Id">
                            <h:outputText value="#{vGrupo.id_grp}" />
                        </p:column>
                        <p:column style="width:300px" headerText="Nombre">
                            <h:outputText value="#{vGrupo.des_grp}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ****** Pantalla mantenimiento de Controles de aplicación ***************
        *********************************************************************-->

        <p:dialog  id="dlgControl" widgetVar="wControl" modal="true" 
                   width="600" height="430" closable="false" resizable="false" 
                   header="Mantenimiento de Controles" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmControl"> 
                <p:growl id="msgControl" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manControles.nuevo()}"
                                         update=":frmControl"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{manControles.guardar()}"
                                         update=":frmControl"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manControles.eliminar()}"
                                         update=":frmControl"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wControl').hide()"
                                         actionListener="#{manControles.cerrarventana()}"
                                         update=":frmControl"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color:  #ebf8fe;">
                        <p:focus for="ommodulocontrol" />
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="Modulo" style="font-weight:bold;" />
                            <p:selectOneMenu id="ommodulocontrol" value="#{manControles.id_mod}" style=" width: 150px;" autoWidth="false">
                                <p:ajax event="change" listener="#{manControles.llenarControles()}" update="pandetcontroles" />
                                <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                <f:selectItems value="#{manControles.modulos}" var="modusu"
                                               itemLabel="#{modusu.des_mod}" itemValue="#{modusu.id_mod}"/> 
                            </p:selectOneMenu>
                            <h:outputText value="Identificador" style="font-weight:bold;"/>
                            <p:inputText id="txtsidcontrol" 
                                         size="60"
                                         maxlength="50"
                                         value="#{manControles.sid_ctrl}"
                                         onfocus="this.select()"
                                         />
                            <h:outputText value="Descripción" style="font-weight:bold;"/>
                            <p:inputText id="txtdescripcioncontrol" 
                                         size="60"
                                         maxlength="150"
                                         value="#{manControles.ctrl_desc}"
                                         onfocus="this.select()"
                                         />
                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel id="pandetcontroles">
                    <p:dataTable id="dtControl" var="vControl" 
                                 value="#{manControles.controles}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" 
                                 selection="#{manControles.catcontroles}" 
                                 rowKey="#{vControl.cod_ctrl}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="160"
                                 style="width:560px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manControles.onRowSelect}" 
                                update=":frmControl"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:20px" headerText="Id">
                            <h:outputText value="#{vControl.cod_ctrl}" />
                        </p:column>
                        <p:column style="width:60px" headerText="Modulo">
                            <h:outputText value="#{vControl.modulo}" />
                        </p:column>
                        <p:column style="width:80px" headerText="Nombre" filterBy="#{vControl.sid_ctrl}" filterMatchMode="contains">
                            <h:outputText value="#{vControl.sid_ctrl}" />
                        </p:column>
                        <p:column style="width:200px" headerText="Descripción">
                            <h:outputText value="#{vControl.ctrl_desc}" />
                        </p:column>
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        ****** Pantalla de Asignación de usuarios a grupos *********************
        *********************************************************************-->

        <p:dialog  id="dlgUsrGrp" widgetVar="wUsrGrp" modal="true" 
                   width="540" height="300" closable="false" resizable="false" 
                   header="Asignación de Usuarios a Grupos" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmUsrGrp"> 
                <p:growl id="msgUsrGrp" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manUserGroup.nuevo()}"
                                         update=":frmUsrGrp"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{manUserGroup.guardar()}"
                                         update=":frmUsrGrp"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manUserGroup.eliminar()}"
                                         update=":frmUsrGrp"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wUsrGrp').hide()"
                                         actionListener="#{manUserGroup.cerrarventana()}"
                                         update=":frmUsrGrp"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color:  #dfecf1;">
                        <p:focus for="omgrupousrgrp" />
                        <h:panelGrid columns="4" cellpadding="5">
                            <h:outputText value="Grupo" style="font-weight:bold;" />
                            <p:selectOneMenu id="omgrupousrgrp" 
                                             value="#{manUserGroup.id_grp}" 
                                             style=" width: 200px;" 
                                             autoWidth="false"
                                             filter="true"
                                             filterMatchMode="contains"
                                             >
                                <p:ajax event="change" listener="#{manUserGroup.llenarUserGroup()}" update="panusergrups"/>
                                <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                <f:selectItems value="#{manUserGroup.grupos}" var="manusrgrpgroup"
                                               itemLabel="#{manusrgrpgroup.des_grp}" itemValue="#{manusrgrpgroup.id_grp}"/> 
                            </p:selectOneMenu>

                            <h:outputText value="Usuario" style="font-weight:bold;" />
                            <p:selectOneMenu id="omusuariousrgrp" 
                                             value="#{manUserGroup.cod_usu}" 
                                             style=" width: 125px;" 
                                             autoWidth="false"
                                             filter="true"
                                             filterMatchMode="contains"
                                             >
                                <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                <f:selectItems value="#{manUserGroup.usuarios}" var="manusrgrpuser"
                                               itemLabel="#{manusrgrpuser.nom_usu}" itemValue="#{manusrgrpuser.cod_usu}"/> 
                            </p:selectOneMenu>

                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel id="panusergrups">
                    <p:dataTable id="dtUsrGrp" var="vUsrGrp" 
                                 value="#{manUserGroup.usergroup}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manUserGroup.catusergroup}" 
                                 rowKey="#{vUsrGrp.id_usr_grp}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="150"
                                 style="width:485px"
                                 >
                        <p:ajax event="rowSelect" listener="#{manUserGroup.onRowSelect}" 
                                update=":frmUsrGrp"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:30px" headerText="Id">
                            <h:outputText value="#{vUsrGrp.id_usr_grp}" />
                        </p:column>
                        <p:column style="width:120px" headerText="Grupo">
                            <h:outputText value="#{vUsrGrp.grupo}" />
                        </p:column>
                        <p:column style="width:100px" headerText="Usuario">
                            <h:outputText value="#{vUsrGrp.usuario}" />
                        </p:column>

                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!--******************************************************************** 
        **********   Pantalla de Registro de derechos de seguridad  ************
        *********************************************************************-->

        <p:dialog  id="dlgSecurity" widgetVar="wSecurity" modal="true" 
                   width="640" height="470" closable="false" resizable="false" 
                   header="Asignación de Permisos" rendered="true" 
                   dynamic="false" visible="false" 
                   >

            <h:form id="frmSecurity"> 
                <p:growl id="msgSecurity" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{manSeguridad.nuevo()}"
                                         update=":frmSecurity"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         actionListener="#{manSeguridad.guardar()}"
                                         update=":frmSecurity"
                                         icon="ui-icon-disk"
                                         > 
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{manSeguridad.eliminar()}"
                                         update=":frmSecurity"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wSecurity').hide()"
                                         actionListener="#{manSeguridad.cerrarventana()}"
                                         update=":frmSecurity"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>

                <p:panel>
                    <div style=" background-color:  #ebf8fe;">
                        <p:focus for="ommodsecurity" />
                        <h:panelGrid columns="4" cellpadding="5">
                            <h:outputText value="Modulo" style="font-weight:bold;" />
                            <p:selectOneMenu id="ommodsecurity" 
                                             value="#{manSeguridad.id_mod}" 
                                             style=" width: 150px;" 
                                             autoWidth="false"
                                             filter="true"
                                             filterMatchMode="contains"
                                             >
                                <p:ajax event="change" listener="#{manSeguridad.onSelectModulo()}" update="panSecuritydet" />
                                <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                <f:selectItems value="#{manSeguridad.modulos}" var="manmodsecurity"
                                               itemLabel="#{manmodsecurity.des_mod}" itemValue="#{manmodsecurity.id_mod}"/> 
                            </p:selectOneMenu>

                            <h:outputText value="Grupo" style="font-weight:bold;" />
                            <p:selectOneMenu id="omgrpsecurity" 
                                             value="#{manSeguridad.id_grp}" 
                                             style=" width: 250px;" 
                                             autoWidth="false"
                                             filter="true"
                                             filterMatchMode="contains"
                                             >
                                <p:ajax event="change" listener="#{manSeguridad.onSelectGrupo()}" update="omctrlsecurity, panSecuritydet" />
                                <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                <f:selectItems value="#{manSeguridad.grupos}" var="mangrpsecurity"
                                               itemLabel="#{mangrpsecurity.des_grp}" itemValue="#{mangrpsecurity.id_grp}"/> 
                            </p:selectOneMenu>
                            <h:outputText value="Control" style="font-weight:bold;" />
                            <p:selectOneMenu id="omctrlsecurity" 
                                             value="#{manSeguridad.cod_ctrl}" 
                                             style=" width: 150px;" 
                                             autoWidth="false"
                                             filter="true"
                                             filterMatchMode="contains"
                                             >
                                <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                <f:selectItems value="#{manSeguridad.controles}" var="manctrlsecurity"
                                               itemLabel="#{manctrlsecurity.ctrl_desc}" itemValue="#{manctrlsecurity.cod_ctrl}"/> 
                            </p:selectOneMenu>
                            <h:outputText value="Usuario" style="font-weight:bold;" />
                            <h:panelGroup>
                                <p:selectOneMenu id="omususecurity" 
                                                 value="#{manSeguridad.cod_usu}" 
                                                 style=" width: 150px;" 
                                                 autoWidth="false"
                                                 filter="true"
                                                 filterMatchMode="contains"
                                                 >
                                    <f:selectItem itemLabel="Ninguno" itemValue="0"/>
                                    <f:selectItems value="#{manSeguridad.usuarios}" var="manususecurity"
                                                   itemLabel="#{manususecurity.nom_usu}" itemValue="#{manususecurity.cod_usu}"/> 
                                </p:selectOneMenu>
                                <p:spacer width="20"/>
                                <h:outputLabel value="Activo: " style="font-weight:bold;" />
                                <p:spacer width="10"/>
                                <p:selectBooleanButton value="#{manSeguridad.activo}" onLabel="Si" offLabel="No" style="width:30px" />
                            </h:panelGroup>

                        </h:panelGrid>
                    </div>
                </p:panel>

                <p:panel id="panSecuritydet">
                    <p:dataTable id="dtSecurity" var="vSecurity" 
                                 value="#{manSeguridad.seguridad}" 
                                 emptyMessage="No se encontraron resultados" 
                                 selectionMode="single" selection="#{manSeguridad.catseguridad}" 
                                 rowKey="#{vSecurity.cod_sec}"
                                 editable="false" 
                                 scrollable="true"
                                 scrollHeight="250"
                                 style="width:580px; height:280px "
                                 >
                        <p:ajax event="rowSelect" listener="#{manSeguridad.onRowSelect}" 
                                update=":frmSecurity"/>
                        <p:ajax event="rowUnselect"/>

                        <p:column style="width:30px" headerText="Id">
                            <h:outputText value="#{vSecurity.cod_sec}" />
                        </p:column>
                        <p:column style="width:150px" headerText="Control" filterBy="#{vSecurity.control}" filterMatchMode="contains">
                            <h:outputText value="#{vSecurity.control}" />
                        </p:column>
                        <p:column style="width:100px" headerText="Grupo">
                            <h:outputText value="#{vSecurity.grupo}" />
                        </p:column>
                        <p:column style="width:100px" headerText="Usuario">
                            <h:outputText value="#{vSecurity.usuario}" />
                        </p:column>
                        <p:column style="width:70px; text-align:center;" headerText="Activo">
                            <p:selectBooleanCheckbox value="#{vSecurity.activo}" disabled="true"/>
                        </p:column>                        
                    </p:dataTable>
                </p:panel>
            </h:form>
        </p:dialog>

        <!-- *******************************************************************
        *********************** Pantalla Lista Específica **********************
        *********************************************************************-->

        <p:dialog  id="dlgLisEsp" widgetVar="wLisEsp" modal="true" 
                   width="580" height="400" closable="false" resizable="false" 
                   header="Engineers List" rendered="true" 
                   dynamic="true" visible="false" 
                   >

            <h:form id="frmLisEsp"> 
                <p:growl id="msgLisEsp" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="New" style=" width: 100px;"
                                         actionListener="#{manListaEspecifica.nuevo()}"
                                         update=":frmLisEsp"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Save" style=" width: 100px;"
                                         action="#{manListaEspecifica.guardar()}"
                                         update=":frmLisEsp"
                                         icon="ui-icon-disk"
                                         />
                        <p:commandButton value="Delete" style=" width: 100px;"
                                         actionListener="#{manListaEspecifica.eliminar()}"
                                         update=":frmLisEsp"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Delete" 
                                       message="Do you really want to delete this record?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Close" style=" width: 100px;"
                                         onclick="PF('wLisEsp').hide()"
                                         action="#{manListaEspecifica.cerrarventana()}" 
                                         update=":frmLisEsp"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>
                <p:panel>
                    <div style=" background-color: #ebf8fe;">
                        <h:panelGrid columns="2" cellpadding="5">
                            <h:outputText value="List" style="font-weight:bold;"/>
                            <p:selectOneMenu value="#{manListaEspecifica.cod_lis}" 
                                             style="width:440px;text-align:right;"
                                             immediate="false"
                                             autoWidth="false"
                                             >  
                                <p:ajax event="change" listener="#{manListaEspecifica.llenarLista()}" update=":frmLisEsp" />
                                <f:selectItem itemLabel="Select One" itemValue="0" />
                                <f:selectItem itemLabel="Maintenance" itemValue="1" />
                                <f:selectItem itemLabel="P.O. Approvals" itemValue="2" />
                                <f:selectItem itemLabel="P.O. Reception" itemValue="3" />
                            </p:selectOneMenu>
                            <h:outputText value="User" style="font-weight:bold;" />
                            <p:selectOneMenu value="#{manListaEspecifica.cod_usu}" 
                                             style="width:440px;text-align:right;"
                                             immediate="false"
                                             autoWidth="false"
                                             >  
                                <f:selectItem itemLabel="Select One" itemValue="0" />  
                                <f:selectItems value="#{manListaEspecifica.usuarios}" var="vusulisesp"
                                               itemLabel="#{vusulisesp.det_nom}" itemValue="#{vusulisesp.cod_usu}"/>
                            </p:selectOneMenu>

                        </h:panelGrid>
                    </div>
                </p:panel>
                <p:dataTable id="dtDetLisEsp" var="vDetLisEsp" 
                             value="#{manListaEspecifica.lista}" 
                             emptyMessage="No results found" 
                             selectionMode="single" selection="#{manListaEspecifica.catlistaespecifica}" 
                             rowKey="#{vDetLisEsp.cod_lis},#{vDetLisEsp.cod_usu}"
                             editable="false" 
                             style="width:540px"
                             scrollable="true"
                             scrollHeight="220"
                             >
                    <p:ajax event="rowSelect" listener="#{manListaEspecifica.onRowSelect}" 
                            update=":frmLisEsp" />
                    <p:column style="width:10px" headerText="User">
                        <h:outputText value="#{vDetLisEsp.nom_usu}" />
                    </p:column>
                </p:dataTable>


            </h:form>
        </p:dialog>  

        <!-- *******************************************************************
        ******************** Pantalla Control de Licencias *********************
        *********************************************************************-->

        <p:dialog  id="dlgConLic" widgetVar="wConLic" modal="true" 
                   width="950" height="550" closable="false" resizable="false" 
                   header="Control de Licencias" rendered="true" 
                   dynamic="true" visible="false" 
                   >

            <h:form id="frmConLic"> 
                <p:growl id="msgConLic" showDetail="true" life="8500"/>
                <p:toolbar>
                    <f:facet name="left">
                        <p:commandButton value="Nuevo" style=" width: 100px;"
                                         actionListener="#{lupControlLicencias.nuevo()}"
                                         update=":frmConLic"
                                         icon="ui-icon-document"
                                         />
                        <p:commandButton value="Guardar" style=" width: 100px;"
                                         action="#{lupControlLicencias.guardarControl()}"
                                         update=":frmConLic"
                                         icon="ui-icon-disk"
                                         >
                            <p:confirm header="Guardar Registro" 
                                       message="¿Realmente desea Guardar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" style=" width: 100px;"
                                         actionListener="#{lupControlLicencias.eliminarControl()}"
                                         update=":frmConLic"
                                         icon="ui-icon-trash"
                                         >
                            <p:confirm header="Eliminar Registro" 
                                       message="¿Realmente desea eliminar este Registro?" 
                                       icon="ui-icon-alert"/>
                        </p:commandButton>
                        <p:commandButton value="Cerrar" style=" width: 100px;"
                                         onclick="PF('wConLic').hide()"
                                         action="#{lupControlLicencias.cerrarventana()}" 
                                         update=":frmConLic"
                                         icon="ui-icon-close"
                                         />

                    </f:facet>
                </p:toolbar>
                <p:tabView activeIndex="#{lupControlLicencias.tabindex}" >
                    <p:ajax event="tabChange" listener="#{lupControlLicencias.onTabChange}" />
                    <p:tab title="Lista" id="listaluplic">
                        <p:dataTable id="dtCliConLic" var="vCliConLic" 
                                     value="#{lupControlLicencias.encabezado}" 
                                     emptyMessage="No se encontraron resultados" 
                                     selectionMode="single" selection="#{lupControlLicencias.catcontrollicenciasencabezado}" 
                                     rowKey="#{vCliConLic.cor_ctr}"
                                     editable="false" 
                                     scrollable="true"
                                     scrollHeight="140"
                                     style="width:890px;"
                                     widgetVar="wvListaLupLic"
                                     >

                            <p:ajax event="rowSelect" listener="#{lupControlLicencias.onRowSelectEncabezado}"  
                                    update=":frmConLic"/>
                            <p:ajax event="rowUnselect" listener="#{lupControlLicencias.onRowUnselectEncabezado()}"  
                                    update=":frmConLic"/>

                            <f:facet name="header">
                                <p:outputPanel style=" text-align: right;">
                                    <h:panelGroup>
                                        <h:outputText value="Clientes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" 
                                                      style="font-weight:bold;" />
                                        <h:outputText value="Filter:&nbsp;&nbsp;" />
                                        <p:inputText id="globalFilter" 
                                                     onkeyup="PF('wvListaLupLic').filter()" 
                                                     style="width:200px;" 
                                                     placeholder="País, Cliente, Entidad, Estado"/>
                                    </h:panelGroup>

                                </p:outputPanel>
                            </f:facet>
                            <p:column style="width:30px" headerText="Correlativo" filterBy="#{vCliConLic.cor_ctr}" filterMatchMode="contains"  
                                      filterStyle="display:none; visibility:hidden;">
                                <h:outputText value="#{vCliConLic.cor_ctr}" />
                            </p:column>
                            <p:column style="width:80px" headerText="País" filterBy="#{vCliConLic.nompai}" filterMatchMode="contains"  
                                      filterStyle="display:none; visibility:hidden;">
                                <h:outputText value="#{vCliConLic.nompai}" />
                            </p:column>
                            <p:column style="width:100px" headerText="Cliente" filterBy="#{vCliConLic.nom_hos}" filterMatchMode="contains"  
                                      filterStyle="display:none; visibility:hidden;">
                                <h:outputText value="#{vCliConLic.nom_hos}" />
                            </p:column>
                            <p:column style="width:70px" headerText="Entidad" filterBy="#{vCliConLic.nom_ent}" filterMatchMode="contains"  
                                      filterStyle="display:none; visibility:hidden;">
                                <h:outputText value="#{vCliConLic.nom_ent}" />
                            </p:column>
                            <p:column style="width:50px" headerText="Estado" filterBy="#{vCliConLic.det_sta}" filterMatchMode="contains"  
                                      filterStyle="display:none; visibility:hidden;">
                                <h:outputText value="#{vCliConLic.det_sta}" />
                            </p:column>
                        </p:dataTable>
                        <p:dataTable id="dtEdeConLic" var="vEdeConLic" 
                                     value="#{lupControlLicencias.edelphyn}" 
                                     emptyMessage="No se encontraron resultados" 
                                     selectionMode="single" selection="#{lupControlLicencias.catcontrollicenciasedelphyn}" 
                                     rowKey="#{vEdeConLic.cor_det}"
                                     editable="false" 
                                     scrollable="true"
                                     scrollHeight="50"
                                     style="width:890px;"
                                     >
                            <p:ajax event="rowSelect"  
                                    update=":frmConLic"/>
                            <p:ajax event="rowUnselect"/>

                            <f:facet name="header">
                                Licencias eDelphyn
                            </f:facet>
                            <p:column style="width:30px" headerText="Solicitadas">
                                <h:outputText value="#{vEdeConLic.det_lic_sol}" />
                            </p:column>
                            <p:column style="width:30px" headerText="Definitivas">
                                <h:outputText value="#{vEdeConLic.det_lic_def}" />
                            </p:column>
                            <p:column style="width:50px" headerText="Sist.Ope.">
                                <h:outputText value="#{vEdeConLic.det_sis_ope}" />
                            </p:column>
                            <p:column style="width:50px" headerText="V.War">
                                <h:outputText value="#{vEdeConLic.det_ver_war}" />
                            </p:column>
                            <p:column style="width:50px" headerText="Caduca">
                                <h:outputText value="#{vEdeConLic.det_cad_ede}" />
                            </p:column>
                            <p:column style="width:50px" headerText="Fec.Cad.Jav">
                                <h:outputText value="#{vEdeConLic.det_cad_jav}" />
                            </p:column>
                            <p:column style="width:50px" headerText="V.Script">
                                <h:outputText value="#{vEdeConLic.det_ver_scr}" />
                            </p:column>
                            <p:column style="width:30px" headerText="Estado">
                                <h:outputText value="#{vEdeConLic.det_sta}" />
                            </p:column>
                        </p:dataTable>
                        <p:dataTable id="dtIntConLic" var="vIntConLic" 
                                     value="#{lupControlLicencias.interfaces}" 
                                     emptyMessage="No se encontraron resultados" 
                                     selectionMode="single" 
                                     rowKey="#{vIntConLic.cor_det}"
                                     editable="false" 
                                     scrollable="true"
                                     scrollHeight="120"
                                     style="width:890px;"
                                     >
                            <p:ajax event="rowSelect"  
                                    update=":frmConLic"/>
                            <p:ajax event="rowUnselect"/>

                            <f:facet name="header">
                                Licencias Interfaces
                            </f:facet>
                            <p:column style="width:20px" headerText="Correlativo">
                                <h:outputText value="#{vIntConLic.cor_det}" />
                            </p:column>
                            <p:column style="width:50px" headerText="Nombre">
                                <h:outputText value="#{vIntConLic.det_nom_int}" />
                            </p:column>
                            <p:column style="width:40px" headerText="Versión">
                                <h:outputText value="#{vIntConLic.det_ver_int}" />
                            </p:column>
                            <p:column style="width:50px" headerText="Sist.Ope.">
                                <h:outputText value="#{vIntConLic.det_sis_ope}" />
                            </p:column>
                            <p:column style="width:50px" headerText="Caduca">
                                <h:outputText value="#{vIntConLic.fec_cad_int}" />
                            </p:column>
                            <p:column style="width:50px" headerText="Ult.Env.">
                                <h:outputText value="#{vIntConLic.fec_ult_env}" />
                            </p:column>
                            <p:column style="width:50px" headerText="Estado">
                                <h:outputText value="#{vIntConLic.det_sta}" />
                            </p:column>
                        </p:dataTable>

                    </p:tab>
                    <p:tab title="Cliente" id="clienteluplic">
                        <p:panel>
                            <div style=" background-color: #ebf8fe;">
                                <h:panelGrid columns="4" cellpadding="5">
                                    <h:outputText value="País" style="font-weight:bold;"/>
                                    <h:outputText value="Cliente" style="font-weight:bold;" />
                                    <h:outputText value="Ciudad" style="font-weight:bold;" />
                                    <h:outputText value="Entidad" style="font-weight:bold;"/>
                                    <p:selectOneMenu value="#{lupControlLicencias.cod_pai}" 
                                                     style="width:220px;text-align:right;"
                                                     immediate="false"
                                                     filter="true"
                                                     filterMatchMode="contains"
                                                     autoWidth="false"
                                                     >  
                                        <f:selectItem itemLabel="Seleccione Uno" itemValue="0" />  
                                        <f:selectItems value="#{lupControlLicencias.paises}" var="vpailup"
                                                       itemLabel="#{vpailup.nom_pai}" itemValue="#{vpailup.cod_pai}"/>
                                    </p:selectOneMenu>
                                    <p:inputText value="#{lupControlLicencias.nom_hos}" size="30" maxlength="45"/>
                                    <p:inputText value="#{lupControlLicencias.nom_ciu}" size="25" maxlength="30"/>
                                    <p:inputText value="#{lupControlLicencias.nom_ent}" size="28" maxlength="35"/>
                                    <h:outputText value="Estado" style="font-weight:bold;" />
                                    <h:outputText value="" style="font-weight:bold;" />
                                    <h:outputText value="" style="font-weight:bold;" />
                                    <h:outputText value="" style="font-weight:bold;" />
                                    <p:selectOneMenu value="#{lupControlLicencias.det_sta}" 
                                                     style="width:220px;text-align:right;"
                                                     immediate="false"
                                                     autoWidth="false"
                                                     >  
                                        <f:selectItem itemLabel="Pendiente" itemValue="Pendiente" />  
                                        <f:selectItem itemLabel="Cerrado" itemValue="Cerrado" />
                                    </p:selectOneMenu>
                                </h:panelGrid>
                                <h:panelGrid columns="1" cellpadding="5">
                                    <h:outputText value="Observaciones" style="font-weight:bold;"/>
                                    <p:inputTextarea value="#{lupControlLicencias.det_obs}" rows="2" cols="128"/>
                                </h:panelGrid>
                            </div>
                        </p:panel>
                    </p:tab>
                    <p:tab title="eDelphyn" id="edelphynluplic" disabled="#{lupControlLicencias.tabenable}">
                        <p:panel>
                            <div style=" background-color: #ebf8fe;">
                                <h:panelGrid columns="4" cellpadding="5">
                                    <h:outputText value="Licencias Solicitadas" style="font-weight:bold;"/>
                                    <h:outputText value="Licencias Definitivas" style="font-weight:bold;" />
                                    <h:outputText value="Versión WAR" style="font-weight:bold;" />
                                    <h:outputText value="Fecha Caducidad WAR" style="font-weight:bold;" />
                                    <p:inputNumber minValue="0" decimalPlaces="0" value="#{lupControlLicencias.ede_det_lic_sol}"/>
                                    <p:inputNumber minValue="0" decimalPlaces="0" value="#{lupControlLicencias.ede_det_lic_def}"/>
                                    <p:inputText value="#{lupControlLicencias.ede_det_ver_war}" size="40" maxlength="20"/>
                                    <p:calendar  pattern="dd/MM/yyyy" locale="es"
                                                 readonlyInput="true" 
                                                 showOn="button" size="16"
                                                 value="#{lupControlLicencias.dcadede}"
                                                 navigator="true"
                                                 >
                                        <p:ajax event="dateSelect" listener="#{lupControlLicencias.dateSelectedcadede}" />
                                    </p:calendar> 
                                    <h:outputText value="Versión Script BD" style="font-weight:bold;" />
                                    <h:outputText value="Sistema Operativo" style="font-weight:bold;" />
                                    <h:outputText value="Fecha Caducidad JAVA" style="font-weight:bold;" />
                                    <h:outputText value="Estado" style="font-weight:bold;" />
                                    <p:inputText value="#{lupControlLicencias.ede_det_ver_scr}" size="25" maxlength="20"/>
                                    <p:inputText value="#{lupControlLicencias.ede_det_sis_ope}" size="30" maxlength="30"/>
                                    <p:calendar  pattern="dd/MM/yyyy" locale="es"
                                                 readonlyInput="true" 
                                                 showOn="button" size="16"
                                                 value="#{lupControlLicencias.dcadjav}"
                                                 navigator="true"
                                                 >
                                        <p:ajax event="dateSelect" listener="#{lupControlLicencias.dateSelectedcadjav}" />
                                    </p:calendar>
                                    <p:selectOneMenu value="#{lupControlLicencias.ede_det_sta}" 
                                                     style="width:110px;text-align:right;"
                                                     immediate="false"
                                                     autoWidth="false"
                                                     >  
                                        <f:selectItem itemLabel="Pendiente" itemValue="Pendiente" />  
                                        <f:selectItem itemLabel="Cerrado" itemValue="Cerrado" />
                                    </p:selectOneMenu>

                                </h:panelGrid>
                                <h:panelGrid columns="1" cellpadding="5">
                                    <h:outputText value="Observaciones" style="font-weight:bold;"/>
                                    <p:inputTextarea value="#{lupControlLicencias.ede_det_obs}" rows="2" cols="128"/>
                                </h:panelGrid>
                            </div>
                        </p:panel>
                        <p:panel>
                            <div style=" background-color: #ebf8fe;">
                                <h:panelGrid columns="8" cellpadding="5">
                                    <h:outputText value="Licencia" style="font-weight:bold;" />
                                    <p:inputText value="#{lupControlLicencias.det_det_lic}" size="25" maxlength="30"/>
                                    <h:outputText value="Caducidad" style="font-weight:bold;" />
                                    <p:calendar  pattern="dd/MM/yyyy" locale="es"
                                                 readonlyInput="true" 
                                                 showOn="button" size="16"
                                                 value="#{lupControlLicencias.dfeccadede}"
                                                 navigator="true"
                                                 >
                                        <p:ajax event="dateSelect" listener="#{lupControlLicencias.dateSelectedcadededet}" />
                                    </p:calendar>
                                    <h:outputText value="Ubicación" style="font-weight:bold;" />
                                    <p:inputText value="#{lupControlLicencias.det_det_ubi}" size="35" maxlength="30"/>
                                    <p:commandButton title="Agregar" icon="ui-icon-plus" style="width:30px;" 
                                                     actionListener="#{lupControlLicencias.guardarEdelphynDet()}" update=":frmConLic"/>
                                    <p:commandButton title="Remover" icon="ui-icon-minus" style="width:30px;" 
                                                     actionListener="#{lupControlLicencias.eliminarEdelphynDet()}" update=":frmConLic"/>
                                </h:panelGrid>
                            </div>
                        </p:panel>
                        <p:dataTable id="dteDelphyn" var="veDelphyn" 
                                     value="#{lupControlLicencias.edelphyndet}" 
                                     emptyMessage="No se encontraron resultados" 
                                     selectionMode="single" selection="#{lupControlLicencias.catcontrollicenciasedelphyndet}" 
                                     rowKey="#{veDelphyn.cor_det}"
                                     editable="false" 
                                     scrollable="true"
                                     scrollHeight="150"
                                     style="width:890px;"
                                     >
                            <p:ajax event="rowSelect" listener="#{lupControlLicencias.onRowSelectLicencia}"  
                                    update=":frmConLic"/>
                            <p:ajax event="rowUnselect" listener="#{lupControlLicencias.onRowUnSelectLicencia()}"  
                                    update=":frmConLic"/>

                            <p:column style="width:30px" headerText="Correlativo">
                                <h:outputText value="#{veDelphyn.cor_det}" />
                            </p:column>
                            <p:column style="width:150px" headerText="Licencia">
                                <h:outputText value="#{veDelphyn.det_lic}" />
                            </p:column>
                            <p:column style="width:100px" headerText="Caducidad">
                                <h:outputText value="#{veDelphyn.fec_cad_ede}" />
                            </p:column>
                            <p:column style="width:100px" headerText="Ubicación">
                                <h:outputText value="#{veDelphyn.det_ubi}" />
                            </p:column>
                        </p:dataTable>
                    </p:tab>
                    <p:tab title="Interfaces" id="interfacesluplic" disabled="#{lupControlLicencias.tabenable}">
                        <p:panel>
                            <div style=" background-color: #ebf8fe;">
                                <h:panelGrid columns="4" cellpadding="5">
                                    <h:outputText value="Nombre Interface" style="font-weight:bold;"/>
                                    <h:outputText value="Versión" style="font-weight:bold;" />
                                    <h:outputText value="Sistema Operativo" style="font-weight:bold;" />
                                    <h:outputText value="Fecha Caducidad" style="font-weight:bold;" />
                                    <p:inputText value="#{lupControlLicencias.int_det_nom_int}" size="30" maxlength="20"/>
                                    <p:inputText value="#{lupControlLicencias.int_det_ver_int}" size="30" maxlength="20"/>
                                    <p:inputText value="#{lupControlLicencias.int_det_sis_ope}" size="30" maxlength="20"/>
                                    <p:calendar  pattern="dd/MM/yyyy" locale="es"
                                                 readonlyInput="true" 
                                                 showOn="button" size="16"
                                                 value="#{lupControlLicencias.dfeccadint}"
                                                 navigator="true"
                                                 >
                                        <p:ajax event="dateSelect" listener="#{lupControlLicencias.dateSelectedcadint}" />
                                    </p:calendar> 
                                    <h:outputText value="Fecha Último Envío" style="font-weight:bold;" />
                                    <h:outputText value="Estado" style="font-weight:bold;" />
                                    <h:outputText value="" style="font-weight:bold;" />
                                    <h:outputText value="" style="font-weight:bold;" />
                                    <p:calendar  pattern="dd/MM/yyyy" locale="es"
                                                 readonlyInput="true" 
                                                 showOn="button" size="16"
                                                 value="#{lupControlLicencias.dfecultenv}"
                                                 navigator="true"
                                                 >
                                        <p:ajax event="dateSelect" listener="#{lupControlLicencias.dateSelectedultenv}" />
                                    </p:calendar>
                                    <p:selectOneMenu value="#{lupControlLicencias.int_det_sta}" 
                                                     style="width:180px;text-align:right;"
                                                     immediate="false"
                                                     autoWidth="false"
                                                     >  
                                        <f:selectItem itemLabel="Pendiente" itemValue="Pendiente" />  
                                        <f:selectItem itemLabel="Cerrado" itemValue="Cerrado" />
                                    </p:selectOneMenu>

                                </h:panelGrid>
                                <h:panelGrid columns="3" cellpadding="5">
                                    <h:outputText value="Observaciones" style="font-weight:bold;"/>
                                    <h:outputText value="" style="font-weight:bold;"/>
                                    <h:outputText value="" style="font-weight:bold;"/>
                                    <p:inputTextarea value="#{lupControlLicencias.int_det_obs}" rows="2" cols="110"/>
                                    <p:commandButton title="Agregar" icon="ui-icon-plus" style="width:30px;" 
                                                     actionListener="#{lupControlLicencias.guardarInterface()}" update=":frmConLic"/>
                                    <p:commandButton title="Remover" icon="ui-icon-minus" style="width:30px;" 
                                                     actionListener="#{lupControlLicencias.eliminarInterface()}" update=":frmConLic"/>
                                </h:panelGrid>
                            </div>
                        </p:panel>
                        <p:dataTable id="dtInterface" var="vInterface" 
                                     value="#{lupControlLicencias.interfaces}" 
                                     emptyMessage="No se encontraron resultados" 
                                     selectionMode="single" selection="#{lupControlLicencias.catcontrollicenciasinterfaces}" 
                                     rowKey="#{vInterface.cor_det}"
                                     editable="false" 
                                     scrollable="true"
                                     scrollHeight="205"
                                     style="width:890px;"
                                     >
                            <p:ajax event="rowSelect" listener="#{lupControlLicencias.onRowSelectInterface}"  
                                    update=":frmConLic"/>
                            <p:ajax event="rowUnselect" listener="#{lupControlLicencias.onRowUnSelectInterface()}"  
                                    update=":frmConLic"/>

                            <p:column style="width:20px" headerText="Correlativo">
                                <h:outputText value="#{vInterface.cor_det}" />
                            </p:column>
                            <p:column style="width:70px" headerText="Nombre">
                                <h:outputText value="#{vInterface.det_nom_int}" />
                            </p:column>
                            <p:column style="width:40px" headerText="Versión">
                                <h:outputText value="#{vInterface.det_ver_int}" />
                            </p:column>
                            <p:column style="width:50px" headerText="Sist.Ope.">
                                <h:outputText value="#{vInterface.det_sis_ope}" />
                            </p:column>
                            <p:column style="width:50px" headerText="Caduca">
                                <h:outputText value="#{vInterface.fec_cad_int}" />
                            </p:column>
                            <p:column style="width:50px" headerText="Ult.Env.">
                                <h:outputText value="#{vInterface.fec_ult_env}" />
                            </p:column>
                            <p:column style="width:50px" headerText="Estado">
                                <h:outputText value="#{vInterface.det_sta}" />
                            </p:column>
                        </p:dataTable>
                    </p:tab>
                </p:tabView>




            </h:form>
        </p:dialog>






        <script type="text/javascript">
            PrimeFaces.locales['es'] = {
                closeText: 'Cerrar',
                prevText: 'Previo',
                nextText: 'Siguiente',
                currentText: 'Actual',
                monthNames: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio',
                    'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
                monthNamesShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun',
                    'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
                dayNames: ['Domingo', 'Lunes', 'Martes', 'Miercoles', 'Jueves', 'Viernes', 'Sabado'],
                dayNamesShort: ['Dom', 'Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab'],
                dayNamesMin: ['Do', 'Lu', 'Ma', 'Mi', 'Ju', 'Vi', 'Sa'],
                weekHeader: 'Hf',
                firstDay: 1,
                isRTL: false,
                showMonthAfterYear: false,
                yearSuffix: '',
                month: 'Mes',
                week: 'Semana',
                day: 'Dia',
                allDayText: 'Todo el dia'
            };
        </script>


    </h:body>

</html>
